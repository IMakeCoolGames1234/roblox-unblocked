/*! For license information please see groupForums.bundle.min.js.LICENSE.txt */
!function(){var e={2473:function(e,t,n){"use strict";var r=n(1594);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,i=r.useEffect,c=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return c((function(){o.value=n,o.getSnapshot=t,l(o)&&s({inst:o})}),[e,n,t]),i((function(){return l(o)&&s({inst:o}),e((function(){l(o)&&s({inst:o})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},1750:function(e,t,n){"use strict";var r=n(1594),o=n(3676);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=o.useSyncExternalStore,c=r.useRef,u=r.useEffect,l=r.useMemo,s=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=c(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=l((function(){function e(e){if(!u){if(u=!0,i=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return c=t}return c=e}if(t=c,a(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(i=e,t):(i=e,c=n)}var i,c,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,o]);var m=i(e,d[0],d[1]);return u((function(){f.hasValue=!0,f.value=m}),[m]),s(m),m}},3676:function(e,t,n){"use strict";e.exports=n(2473)},3009:function(e,t,n){"use strict";e.exports=n(1750)},1594:function(e){"use strict";e.exports=React},4452:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nc=void 0,function(){"use strict";var e,t=Roblox,r=n.n(t),o=n(1594),a=n.n(o),i=ReactDOM,c=n.n(i),u=ReactStyleGuide,l=ReactRouterDOM,s=ReactUtilities,d={common:[],feature:"Feature.Groups"},f=n(4452),m=n.n(f),p=t.EnvironmentUrls.groupsApi,v="".concat(p,"/v1/groups"),h="/forums",g="category",y=function(e){return"".concat(t.EnvironmentUrls.websiteUrl,"/communities/").concat(e,"#!/forums")},b=function(e,t){return"".concat(function(e){if(e){var t=e.toLowerCase().slice(0,30).replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return t.length>0?t:g}return g}(e),"-").concat(t)};!function(e){e.Post="post",e.Comment="comment",e.Reply="reply"}(e||(e={}));var w,E={urls:{reportAbuseRevamp:function(e){var t=e.targetId,n=e.submitterId,r=e.abuseVector,o=e.custom,a=new URLSearchParams({targetId:t,submitterId:n,abuseVector:r,custom:JSON.stringify(o)});return"/report-abuse/?".concat(a.toString())},reportAbuse:function(e,n,r,o,a){return t.Endpoints.getAbsoluteUrl("/abuseReport/groupforumcomment?id=".concat(e,"&stringId=").concat(o,"&conversationId=").concat(r,"&forumPostId=").concat(n).concat(a?"&RedirectUrl=".concat(encodeURIComponent(window.location.href)):""))},getForumsPageUrl:y,getForumCategoriesEndpoint:function(e,t){return"".concat(v,"/").concat(e,"/forums").concat(t?"?archived=true":"")},getForumCategoryEndpoint:function(e,t,n){return void 0===n&&(n=!1),"".concat(v,"/").concat(e,"/forums/").concat(t).concat(n?"?archived=true":"")},getForumPostsByIdsEndpoint:function(e,t,n){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/posts?postIds=").concat(n.join(","))},getForumPostsEndpoint:function(e,t,n){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/posts").concat(n?"?includeCommentCount=true":"")},getForumCommentsEndpoint:function(e,t,n){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/posts/").concat(n,"/comments")},getForumCommentReactionsEndpoint:function(e,t,n,r){return"".concat(v,"/").concat(e,"/forums/channels/").concat(t,"/comments/").concat(n,"/reactions/").concat(r)},getArchiveForumCategoryEndpoint:function(e,t){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/archive")},getConfigureGroupRolesSectionUrl:function(e){return"".concat(t.EnvironmentUrls.websiteUrl,"/groups/configure?id=").concat(e,"#!/roles")},getForumPinnedPostsEndpoint:function(e,t,n){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/posts/pinned").concat(n?"?includeCommentCount=true":"")},toggleForumPostPinEndpoint:function(e,t,n){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/posts/").concat(n,"/pin")},toggleForumPostLockEndpoint:function(e,t,n){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/posts/").concat(n,"/lock")},deleteForumPostEndpoint:function(e,t,n){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/posts/").concat(n)},forumCommentEndpoint:function(e,t,n,r){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/posts/").concat(n,"/comments/").concat(r)},markForumPostAsReadEndpoint:function(e,t,n,r){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/posts/").concat(n,"/comments/").concat(r,"/read")},getPostNotificationPreferenceEndpoint:function(e,t,n){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/posts/").concat(n,"/notifications")},getCommentNotificationPreferenceEndpoint:function(e,t,n,r){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/posts/").concat(n,"/comments/").concat(r,"/notifications")},getForumAncestryEndpoint:function(e,t,n,r){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/channels/").concat(n,"/comments/").concat(r,"/ancestry")},getForumUpdatesEndpoint:function(e,t){return"".concat(v,"/").concat(e,"/forums/updates?limit=").concat(t)},deleteAllForumPostsForUserEndpoint:function(e,t){return"".concat(v,"/").concat(e,"/forums/").concat(t,"/posts")},getForumCategoryRolesPermissionsEndpoint:function(e,t){return"".concat(v,"/").concat(e,"/channels/").concat(t,"/roles/permissions")},getForumCategoryRolesPermissionsForRoleEndpoint:function(e,t,n){return"".concat(v,"/").concat(e,"/channels/").concat(t,"/roles/").concat(n,"/permissions")}},limits:{categoryNameMinLength:1,categoryNameMaxLength:25,categoryDescriptionMinLength:1,categoryDescriptionMaxLength:130,maxNumberOfCategories:10,postTitleMaxLength:100,postTitleMinLength:3,postContentMaxLength:1e3,postContentMinLength:3,commentContentMaxLength:1e3,commentContentMinLength:3},pageCounts:{postsPerPage:10,commentsPerPage:10},errorCodes:{contentModerated:14},router:{defaultRoute:h,categoryRoute:"".concat(h,"/:categoryName-:categoryShortId"),postRoute:"".concat(h,"/:categoryName-:categoryShortId/post/:postName-:postShortId"),postCommentRoute:"".concat(h,"/:categoryName-:categoryShortId/post/:postName-:postShortId/comment/:commentId"),postEditRoute:"".concat(h,"/:categoryId/post/:postId/edit"),postCreateRoute:"".concat(h,"/:categoryId/post/create"),getCategoryRoute:function(e,t){return"".concat(h,"/").concat(b(t,e))},getPostRoute:function(e,t,n,r){return"".concat(h,"/").concat(b(t,e),"/post/").concat(b(r,n))},getPostEditRoute:function(e,t){return"".concat(h,"/").concat(e,"/post/").concat(t,"/edit")},getPostCreateRoute:function(e){return"".concat(h,"/").concat(e,"/post/create")}},noOpFunctionRef:function(){},deepLinks:{groupForumUrl:function(e){return"".concat(y(e),"/")},groupForumCategoryUrl:function(e,t,n){return"".concat(y(e),"/").concat(b(n,t))},groupForumPostUrl:function(e,t,n,r,o){return"".concat(y(e),"/").concat(b(n,t),"/post/").concat(b(o,r))},groupForumCommentUrl:function(e,t,n,r,o,a){return"".concat(y(e),"/").concat(b(n,t),"/post/").concat(b(o,r),"/comment/").concat(a)}},CommentVariants:e},C=function(e){var t=e.category,n=e.isActive,r=e.onClick,i=(0,o.useCallback)((function(e){e&&e.preventDefault(),n||null==r||r(t.shortId,t.name)}),[n,t.shortId,t.name,r]);return a().createElement("a",{role:"button",tabIndex:0,className:m()("content-action-forum-category group-forums-category-pill",n&&"active",!!r&&"clickable"),href:E.deepLinks.groupForumCategoryUrl(t.groupId,t.shortId,t.name),onClick:i,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),i())}},t.name)},x=function(e){var t=e.size;return a().createElement("div",{className:m()("group-forums-category-pill-skeleton","group-forums-skeleton",t&&"group-forums-category-pill-skeleton-length-".concat(t))})};!function(e){e.Small="sm",e.Medium="md",e.Large="lg"}(w||(w={}));var S={urls:{getUsersInfoURL:"".concat(t.EnvironmentUrls.usersApi,"/v1/users"),getAllGroupRolePermissionsURL:function(e){return"".concat(t.EnvironmentUrls.groupsApi,"/v1/groups/").concat(e,"/roles/permissions")}},StyleSize:w};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}var P=function(e){var t,n=new Set,r=function(e,r){var o="function"==typeof e?e(t):e;if(!Object.is(o,t)){var a=t;t=(null!=r?r:"object"!==k(o)||null===o)?o:Object.assign({},t,o),n.forEach((function(e){return e(t,a)}))}},o=function(){return t},a={setState:r,getState:o,getInitialState:function(){return i},subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(r,o,a);return a},N=function(e){return e?P(e):P},I=n(3009),O=o.useDebugValue,R=I.useSyncExternalStoreWithSelector,A=!1,T=function(e){return e};var j=function(e){"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");var t="function"==typeof e?N(e):e,n=function(e,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,n=arguments.length>2?arguments[2]:void 0;n&&!A&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),A=!0);var r=R(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return O(r),r}(t,e,n)};return Object.assign(n,t),n},L=function(e){return e?j(e):j};function M(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=new Map,W=function(e){var t=z.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((function(e){var t=D(e,2);return[t[0],t[1].getState()]}))):{}},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r,o){var a,i=t.enabled,c=t.anonymousActionType,u=t.store,l=M(t,["enabled","anonymousActionType","store"]);try{a=(null==i||i)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!a)return i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,o);var s=function(e,t,n){if(void 0===e)return{type:"untracked",connection:t.connect(n)};var r=z.get(n.name);if(r)return B({type:"tracked",store:e},r);var o={connection:t.connect(n),stores:{}};return z.set(n.name,o),B({type:"tracked",store:e},o)}(u,a,l),d=s.connection,f=M(s,["connection"]),m=!0;o.setState=function(e,t,a){var i=n(e,t);if(!m)return i;var s=void 0===a?{type:c||"anonymous"}:"string"==typeof a?{type:a}:a;return void 0===u?(null==d||d.send(s,r()),i):(null==d||d.send(B(B({},s),{},{type:"".concat(u,"/").concat(s.type)}),B(B({},W(l.name)),{},U({},u,o.getState()))),i)};var p=function(){var e=m;m=!1,n.apply(void 0,arguments),m=e},v=e(o.setState,r,o);if("untracked"===f.type?null==d||d.init(v):(f.stores[f.store]=o,null==d||d.init(Object.fromEntries(Object.entries(f.stores).map((function(e){var t=D(e,2),n=t[0],r=t[1];return[n,n===f.store?v:r.getState()]}))))),o.dispatchFromDevtools&&"function"==typeof o.dispatch){var h=!1,g=o.dispatch;o.dispatch=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"__setState"!==t[0].type||h||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),h=!0),g.apply(void 0,t)}}return d.subscribe((function(e){var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):H(e.payload,(function(e){if("__setState"!==e.type)o.dispatchFromDevtools&&"function"==typeof o.dispatch&&o.dispatch(e);else{if(void 0===u)return void p(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');var t=e.state[u];if(null==t)return;JSON.stringify(o.getState())!==JSON.stringify(t)&&p(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return p(v),void 0===u?null==d?void 0:d.init(o.getState()):null==d?void 0:d.init(W(l.name));case"COMMIT":return void 0===u?void(null==d||d.init(o.getState())):null==d?void 0:d.init(W(l.name));case"ROLLBACK":return H(e.state,(function(e){if(void 0===u)return p(e),void(null==d||d.init(o.getState()));p(e[u]),null==d||d.init(W(l.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return H(e.state,(function(e){void 0!==u?JSON.stringify(o.getState())!==JSON.stringify(e[u])&&p(e[u]):p(e)}));case"IMPORT_STATE":var n=e.payload.nextLiftedState,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return p(void 0===u?r:r[u]),void(null==d||d.send(null,n));case"PAUSE_RECORDING":return m=!m}return}})),v}},H=function(e,t){var n;try{n=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==n&&t(n)};var G,K=function(e){return{useInlineReply:!1,categoryId:void 0,categoryShortId:void 0,categoryName:void 0,isCategoryArchived:!1,postId:void 0,postShortId:void 0,commentId:void 0,activeCommentId:void 0,threadCommentId:void 0,returnToCategoryScrollTop:void 0,postRateLimitExpiresAt:0,commentRateLimitExpiresAt:0,setCategoryId:function(t){return e({categoryId:t},void 0,"ui/setCategoryId")},setActiveCommentId:function(t){return e({activeCommentId:t},void 0,"ui/setActiveCommentId")},setReturnToCategoryScrollTop:function(t){return e({returnToCategoryScrollTop:t},void 0,"ui/setReturnToCategoryScrollTop")},setPostRateLimitExpiresAt:function(t){return e({postRateLimitExpiresAt:null!=t?t:0},void 0,"ui/setPostRateLimitExpiresAt")},setCommentRateLimitExpiresAt:function(t){return e({commentRateLimitExpiresAt:null!=t?t:0},void 0,"ui/setCommentRateLimitExpiresAt")}}},q=CoreUtilities,X=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Q=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Y=function(e){var t=e;if(429===(null==t?void 0:t.status)&&t.headers){var n=t.headers["retry-after"];n&&(t.retryAfterSeconds=parseInt(n,10))}return e},Z=function(e,t){return X(void 0,void 0,Promise,(function(){var n,r,o;return Q(this,(function(a){switch(a.label){case 0:return n={url:E.urls.getForumCategoriesEndpoint(e,t),withCredentials:!0},[4,q.httpService.get(n)];case 1:return r=a.sent(),(o=r.data).data.sort((function(e,t){var n=e.name.toUpperCase(),r=t.name.toUpperCase();return n<r?-1:n>r?1:0})),[2,o]}}))}))},$=function(e,t){return X(void 0,void 0,Promise,(function(){var n,r;return Q(this,(function(o){switch(o.label){case 0:return n={url:E.urls.getForumCategoriesEndpoint(e,!1),withCredentials:!0},r={name:t},[4,q.httpService.post(n,r)];case 1:return[2,o.sent().data]}}))}))},J=function(e,t,n){return X(void 0,void 0,Promise,(function(){var r;return Q(this,(function(o){switch(o.label){case 0:return r={url:E.urls.getForumCategoryEndpoint(e,t,n),withCredentials:!0},[4,q.httpService.delete(r)];case 1:return o.sent(),[2]}}))}))},ee=function(e,t,n){return X(void 0,void 0,Promise,(function(){var r,o;return Q(this,(function(a){switch(a.label){case 0:return r={url:E.urls.getForumCategoryEndpoint(e,t),withCredentials:!0},o={name:n},[4,q.httpService.patch(r,o)];case 1:return[2,a.sent().data]}}))}))},te=function(e,t,n){return X(void 0,void 0,Promise,(function(){var r;return Q(this,(function(o){switch(o.label){case 0:return r={url:E.urls.getForumPostsByIdsEndpoint(e,t,n),withCredentials:!0},[4,q.httpService.get(r)];case 1:return[2,o.sent().data]}}))}))},ne=function(e,t,n,r){return X(void 0,void 0,Promise,(function(){var o,a;return Q(this,(function(i){switch(i.label){case 0:return(o=new URLSearchParams).append("limit",n.toString()),r&&o.append("cursor",r),a={url:"".concat(E.urls.getForumPostsEndpoint(e,t,!0),"&").concat(o.toString()),withCredentials:!0},[4,q.httpService.get(a)];case 1:return[2,i.sent().data]}}))}))},re=function(e,t,n,r,o,a){return X(void 0,void 0,Promise,(function(){var i,c;return Q(this,(function(u){switch(u.label){case 0:return(i=new URLSearchParams).append("limit",r.toString()),o&&i.append("cursor",o),a&&i.append("commentId",a),c={url:"".concat(E.urls.getForumCommentsEndpoint(e,t,n),"?").concat(i.toString()),withCredentials:!0},[4,q.httpService.get(c)];case 1:return[2,u.sent().data]}}))}))},oe=function(e,t,n){return X(void 0,void 0,Promise,(function(){var r,o;return Q(this,(function(a){switch(a.label){case 0:return r={url:E.urls.getArchiveForumCategoryEndpoint(e,t),withCredentials:!0},o={isArchived:n},[4,q.httpService.patch(r,o)];case 1:return a.sent(),[2]}}))}))},ae=function(e,t){return X(void 0,void 0,Promise,(function(){var n;return Q(this,(function(r){switch(r.label){case 0:return n={url:E.urls.getForumPinnedPostsEndpoint(e,t,!0),withCredentials:!0},[4,q.httpService.get(n)];case 1:return[2,r.sent().data]}}))}))},ie=function(e,t,n,r){return X(void 0,void 0,Promise,(function(){var o,a,i;return Q(this,(function(c){switch(c.label){case 0:o={url:E.urls.getForumPostsEndpoint(e,t,!1),withCredentials:!0},a={title:n,content:r},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,q.httpService.post(o,a)];case 2:return[2,c.sent().data];case 3:throw i=c.sent(),Y(i);case 4:return[2]}}))}))},ce=function(e,t,n,r,o){return X(void 0,void 0,Promise,(function(){var a,i,c;return Q(this,(function(u){switch(u.label){case 0:a={url:E.urls.forumCommentEndpoint(e,t,n,r),withCredentials:!0},i={content:o},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,q.httpService.patch(a,i)];case 2:return[2,u.sent().data];case 3:throw c=u.sent(),Y(c);case 4:return[2]}}))}))},ue=function(e,t,n,r){return X(void 0,void 0,Promise,(function(){var o,a;return Q(this,(function(i){switch(i.label){case 0:return o={url:E.urls.toggleForumPostPinEndpoint(e,t,n),withCredentials:!0},a={isPinned:r},[4,q.httpService.patch(o,a)];case 1:return i.sent(),[2]}}))}))},le=function(e,t,n,r){return X(void 0,void 0,Promise,(function(){var o,a;return Q(this,(function(i){switch(i.label){case 0:return o={url:E.urls.toggleForumPostLockEndpoint(e,t,n),withCredentials:!0},a={isLocked:r},[4,q.httpService.patch(o,a)];case 1:return i.sent(),[2]}}))}))},se=function(e,t,n){return X(void 0,void 0,Promise,(function(){var r;return Q(this,(function(o){switch(o.label){case 0:return r={url:E.urls.deleteForumPostEndpoint(e,t,n),withCredentials:!0},[4,q.httpService.delete(r)];case 1:return o.sent(),[2]}}))}))},de=function(e,t,n,r,o){return X(void 0,void 0,Promise,(function(){var a,i,c;return Q(this,(function(u){switch(u.label){case 0:a={url:E.urls.getForumCommentsEndpoint(e,t,n),withCredentials:!0},i={content:r,repliesToPostCommentId:o},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,q.httpService.post(a,i)];case 2:return[2,u.sent().data];case 3:throw c=u.sent(),Y(c);case 4:return[2]}}))}))},fe=function(e,t,n,r){return X(void 0,void 0,Promise,(function(){var o;return Q(this,(function(a){switch(a.label){case 0:return o={url:E.urls.forumCommentEndpoint(e,t,n,r),withCredentials:!0},[4,q.httpService.delete(o)];case 1:return a.sent(),[2]}}))}))},me=function(e,t,n,r,o){return X(void 0,void 0,Promise,(function(){var a;return Q(this,(function(i){switch(i.label){case 0:return a={url:E.urls.getForumCommentReactionsEndpoint(e,t,n,r),withCredentials:!0},o?[4,q.httpService.post(a)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,q.httpService.delete(a)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},pe=function(e,t,n,r){return X(void 0,void 0,Promise,(function(){var o,a;return Q(this,(function(i){switch(i.label){case 0:return o={url:E.urls.markForumPostAsReadEndpoint(e,t,n,r),withCredentials:!0},a={isRead:!0},[4,q.httpService.patch(o,a)];case 1:return i.sent(),[2]}}))}))},ve=function(e,t,n){return X(void 0,void 0,Promise,(function(){var r;return Q(this,(function(o){switch(o.label){case 0:return r={url:E.urls.getPostNotificationPreferenceEndpoint(e,t,n),withCredentials:!0},[4,q.httpService.get(r)];case 1:return[2,o.sent().data]}}))}))},he=function(e,t,n,r){return X(void 0,void 0,Promise,(function(){var o;return Q(this,(function(a){switch(a.label){case 0:return o={url:E.urls.getCommentNotificationPreferenceEndpoint(e,t,n,r),withCredentials:!0},[4,q.httpService.get(o)];case 1:return[2,a.sent().data]}}))}))},ge=function(e,t,n,r){return X(void 0,void 0,Promise,(function(){var o,a;return Q(this,(function(i){switch(i.label){case 0:return o={url:E.urls.getPostNotificationPreferenceEndpoint(e,t,n),withCredentials:!0},a={isSubscribed:r},[4,q.httpService.patch(o,a)];case 1:return i.sent(),[2]}}))}))},ye=function(e,t,n,r,o){return X(void 0,void 0,Promise,(function(){var a,i;return Q(this,(function(c){switch(c.label){case 0:return a={url:E.urls.getCommentNotificationPreferenceEndpoint(e,t,n,r),withCredentials:!0},i={isSubscribed:o},[4,q.httpService.patch(a,i)];case 1:return c.sent(),[2]}}))}))},be=function(e,t,n,r){return X(void 0,void 0,Promise,(function(){var o;return Q(this,(function(a){switch(a.label){case 0:return o={url:E.urls.getForumAncestryEndpoint(e,t,n,r),withCredentials:!0},[4,q.httpService.get(o)];case 1:return[2,a.sent().data]}}))}))},we=function(e,t){return X(void 0,void 0,Promise,(function(){var n;return Q(this,(function(r){switch(r.label){case 0:return n={url:E.urls.getForumUpdatesEndpoint(e,t),withCredentials:!0},[4,q.httpService.get(n)];case 1:return[2,r.sent().data]}}))}))},Ee=function(e,t){return X(void 0,void 0,Promise,(function(){var n;return Q(this,(function(r){switch(r.label){case 0:return n={url:E.urls.getForumCategoryRolesPermissionsEndpoint(e,t),withCredentials:!0},[4,q.httpService.get(n)];case 1:return[2,r.sent().data]}}))}))},Ce=function(e,t,n){return X(void 0,void 0,Promise,(function(){var r;return Q(this,(function(o){switch(o.label){case 0:return r={url:E.urls.getForumCategoryRolesPermissionsForRoleEndpoint(e,t,n),withCredentials:!0},[4,q.httpService.post(r)];case 1:return o.sent(),[2]}}))}))},xe=function(e,t,n,r){return X(void 0,void 0,Promise,(function(){var o;return Q(this,(function(a){switch(a.label){case 0:return o={url:E.urls.getForumCategoryRolesPermissionsForRoleEndpoint(e,t,n),withCredentials:!0},[4,q.httpService.patch(o,{permissions:r})];case 1:return a.sent(),[2]}}))}))},Se=function(e,t,n){return X(void 0,void 0,Promise,(function(){var r;return Q(this,(function(o){switch(o.label){case 0:return r={url:E.urls.getForumCategoryRolesPermissionsForRoleEndpoint(e,t,n),withCredentials:!0},[4,q.httpService.patch(r,{permissions:null})];case 1:return o.sent(),[2]}}))}))},ke=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Pe=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Ne=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ie=function(e,t){return{groupId:0,userId:0,categories:[],archivedCategories:[],categoriesLoaded:!1,pinnedPosts:[],categoryPosts:[],blockedUserList:[],blockUser:function(t){return e((function(e){return{blockedUserList:Ne(Ne([],e.blockedUserList,!0),[t],!1)}}),void 0,"content/blockUser")},clearBlockedUsers:function(){return e({blockedUserList:[]},void 0,"content/clearBlockedUsers")},loadCategories:function(){return ke(void 0,void 0,void 0,(function(){var n,r,o,a,i;return Pe(this,(function(c){switch(c.label){case 0:n=t().groupId,r=[],o=[],c.label=1;case 1:return c.trys.push([1,4,,5]),[4,Z(n,!1)];case 2:return a=c.sent(),r=a.data,[4,Z(n,!0)];case 3:return i=c.sent(),o=i.data,[3,5];case 4:return c.sent(),[3,5];case 5:return e({categories:r,archivedCategories:o,categoriesLoaded:!0},void 0,"content/loadCategories"),[2]}}))}))}}},Oe=function(e,t){return t.channelId===e&&t.channel.id===e},Re=function(e,t,n){var r,o;return n.commentId===t&&(null===(r=n.comment)||void 0===r?void 0:r.id)===t&&(null===(o=n.comment)||void 0===o?void 0:o.parentId)===e},Ae=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Te=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},je=function(e,t){return Ae(void 0,void 0,Promise,(function(){var n,r,o,a,i,c,u,l,s,d,f,m,p,v,h,g;return Te(this,(function(y){switch(y.label){case 0:if(n=e.archivedCategories,r=e.groupId,o=e.categories,a=e.categoriesLoaded,i=e.postShortId,c=e.commentId,!a||!o.length&&!n.length)return[2,{}];switch(u=t.params,l=function(e,t,n){var r=function(e,t,n){var r=t.find((function(t){return t.shortId===e}));if(r)return r;var o=n.find((function(t){return t.shortId===e}));return o||(t.length>0?t[0]:void 0)}(e,t,n);return r?{id:r.id,name:r.name,shortId:r.shortId}:{id:"",name:"",shortId:""}}(u.categoryShortId,o,n),s=function(e,t){return t.some((function(t){return t.shortId===e}))}(l.shortId,n),t.path){case E.router.postCommentRoute:return[3,1];case E.router.postRoute:return[3,9];case E.router.categoryRoute:return[3,12];case E.router.defaultRoute:return[3,13]}return[3,13];case 1:return"categoryShortId"in u&&"postShortId"in u&&"postName"in u&&"commentId"in u&&c!==u.commentId?(d=u.commentId,b=u.postName,(f=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(b)?u.postName:void 0)?[3,3]:[4,te(r,l.id,[u.postShortId])]):[3,8];case 2:g=y.sent(),f=1===g.data.length?g.data[0].id:void 0,y.label=3;case 3:if(!f)return[2,{categoryId:l.id,categoryName:l.name,categoryShortId:l.shortId,isCategoryArchived:s,postId:void 0,postShortId:void 0,commentId:d}];y.label=4;case 4:return y.trys.push([4,6,,7]),[4,be(r,l.shortId,f,d)];case 5:return g=y.sent(),m=g.data,function(e,t,n,r){return 2===r.length&&Oe(e,r[0])&&function(e,t,n){return n.channelId===t&&n.channel.id===t&&n.channel.parentChannelId===e}(e,t,r[1])&&Re(t,n,r[1])}(l.id,f,d,m)?[2,{categoryId:l.id,categoryName:l.name,categoryShortId:l.shortId,isCategoryArchived:s,postId:f,postShortId:u.postShortId,commentId:d,activeCommentId:d}]:function(e,t,n,r){return 3===r.length&&Oe(e,r[0])&&function(e,t){return t.channelId===e&&t.channel.id===e}(t,r[2])&&Re(t,n,r[2])}(l.id,f,d,m)?(p=function(e){var t;return 3!==e.length?{}:{postId:e[1].channelId,commentId:null===(t=e[1].comment)||void 0===t?void 0:t.id}}(m),v=p.postId,h=p.commentId,[2,{categoryId:l.id,categoryName:l.name,categoryShortId:l.shortId,isCategoryArchived:s,postId:v,postShortId:u.postShortId,commentId:h,threadCommentId:d,activeCommentId:d}]):[3,7];case 6:return y.sent(),[3,7];case 7:return[2,{categoryId:l.id,categoryName:l.name,categoryShortId:l.shortId,isCategoryArchived:s,postId:void 0,postShortId:void 0,commentId:void 0}];case 8:return[3,14];case 9:return"categoryShortId"in u&&"postShortId"in u&&i!==u.postShortId?[4,te(r,l.id,[u.postShortId])]:[3,11];case 10:return 0===(g=y.sent()).data.length?[2,{categoryId:l.id,categoryName:l.name,categoryShortId:l.shortId,postId:void 0,postShortId:void 0,commentId:void 0}]:[2,{categoryId:l.id,categoryName:l.name,categoryShortId:l.shortId,isCategoryArchived:s,postId:g.data[0].id,postShortId:u.postShortId,commentId:void 0}];case 11:return[3,14];case 12:return"categoryShortId"in u?[2,{categoryId:l.id,categoryName:l.name,categoryShortId:l.shortId,isCategoryArchived:s,postId:void 0,postShortId:void 0,commentId:void 0}]:[3,14];case 13:return[2,{categoryId:l.id,categoryName:l.name,categoryShortId:l.shortId,isCategoryArchived:s,postId:void 0,postShortId:void 0,commentId:void 0}];case 14:return[2,{}]}var b}))}))},Le=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Me=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},De=function(e,t){return{hydrate:function(n){var r=n.groupId,o=n.userId,a=n.useInlineReply;e({groupId:r,userId:o,useInlineReply:a},void 0,"@/hydrate"),t().loadCategories()},onRouteChange:function(n){return Le(void 0,void 0,void 0,(function(){var r;return Me(this,(function(o){switch(o.label){case 0:return[4,je(t(),n)];case 1:return r=o.sent(),e(r,void 0,"@/onRouteChange"),[2]}}))}))}}},Fe=function(e){var t=e;t.use={};for(var n=function(e){t.use[e]=function(){return t((function(t){return t[e]}))}},r=0,o=Object.keys(t.getState());r<o.length;r++){n(o[r])}return t},_e=function(){return _e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_e.apply(this,arguments)},Be=Fe(L()(V((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _e(_e(_e({},K.apply(void 0,e)),Ie.apply(void 0,e)),De.apply(void 0,e))})))),Ue=Be,ze=function(e){var t=e.onSetActiveCategory,n=e.locked,r=e.activeCategoryId,i=e.categoryFilter,c=Ue.use.categoryShortId(),u=Ue.use.categories(),l=Ue.use.categoriesLoaded(),s=(0,o.useRef)(null),d=r||c;return(0,o.useEffect)((function(){if(!l){var e=function(){if(s.current){var e=s.current,t=e.scrollLeft,n=e.scrollWidth;t+e.clientWidth>=n?s.current.classList.remove("list-vignette"):s.current.classList.add("list-vignette")}},t=s.current;return t&&(t.addEventListener("scroll",e),e()),function(){t&&t.removeEventListener("scroll",e)}}}),[l]),l?a().createElement("div",{className:m()("group-forums-categories-list",{"group-forums-categories-list-locked":n}),ref:s},u.map((function(e){return(!i||i(e))&&a().createElement(C,{key:e.shortId,category:e,isActive:d===e.shortId,onClick:n?void 0:t})}))):a().createElement("div",{className:"group-forums-categories-list list-vignette"},a().createElement(x,{size:w.Small}),a().createElement(x,{size:w.Large}),a().createElement(x,{size:w.Medium}),a().createElement(x,{size:w.Small}),a().createElement(x,{size:w.Large}))},We=TanstackQuery;!function(e){e[e.Invalid=0]="Invalid",e[e.None=1]="None",e[e.All=2]="All",e[e.Personalized=3]="Personalized",e[e.StrictPersonalized=4]="StrictPersonalized"}(G||(G={}));var Ve=function(){return Ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ve.apply(this,arguments)};function He(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Ge(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ge(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}var Ke,qe=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ge(e))&&(r&&(r+=" "),r+=t);return r},Xe="relative clip group/interactable focus-visible:outline-focus disabled:outline-none",Qe=function(){return a().createElement("div",{role:"presentation",className:"absolute inset-[0] transition-colors group-hover/interactable:bg-[var(--color-state-hover)] group-active/interactable:bg-[var(--color-state-press)] group-disabled/interactable:bg-none"})},Ye="opacity-[0.5]",Ze={Large:"size-1200",Medium:"size-1000",Small:"size-800",XSmall:"size-600"},$e={XSmall:"size-300",Small:"size-400",Medium:"size-500",Large:"size-500"},Je={Large:{circular:"radius-circle",square:"radius-medium"},Medium:{circular:"radius-circle",square:"radius-medium"},Small:{circular:"radius-circle",square:"radius-medium"},XSmall:{circular:"radius-circle",square:"radius-small"}},et={Emphasis:"bg-action-emphasis",Standard:"bg-action-standard",Alert:"bg-action-alert",Utility:"bg-action-link",OverMedia:"bg-over-media-0"},tt={Emphasis:"bg-action-standard",Standard:"bg-action-standard",Alert:"bg-action-standard",Utility:"bg-action-link",OverMedia:"bg-over-media-0"},nt={Emphasis:"content-action-emphasis",Standard:"content-action-standard",Alert:"content-action-alert",Utility:"content-emphasis",OverMedia:"content-emphasis"},rt={Emphasis:"content-action-standard",Standard:"content-action-standard",Alert:"content-action-standard",Utility:"content-emphasis",OverMedia:"content-emphasis"},ot=(0,o.forwardRef)((function(e,t){var n=e.className,r=e.as,o=e.icon,i=e.ariaLabel,c=e.isDisabled,u=void 0!==c&&c,l=e.isCircular,s=void 0!==l&&l,d=e.size,f=void 0===d?"Large":d,m=e.variant,p=void 0===m?"Emphasis":m,v=He(e,["className","as","icon","ariaLabel","isDisabled","isCircular","size","variant"]),h=null!=r?r:"button",g=v.href,y=He(v,["href"]);return a().createElement(h,Ve({ref:t,type:"button"===h?"button":void 0,"aria-label":i,disabled:u,"aria-disabled":u,href:u?void 0:g},y,{className:qe("foundation-web-icon-button",Xe,u?Ye:"cursor-pointer","flex items-center justify-center padding-none stroke-none select-none",Ze[f],Je[f][s?"circular":"square"],u?tt[p]:et[p],n)}),a().createElement(Qe,null),a().createElement("span",{className:qe("icon",o,$e[f],u?rt[p]:nt[p])}))})),at=RobloxThumbnails,it=RobloxBadges,ct=function(e){var t=new Date,n=Math.round((t.getTime()-e.getTime())/1e3),r=[{label:"y",seconds:31536e3},{label:"mo",seconds:2592e3},{label:"w",seconds:604800},{label:"d",seconds:86400},{label:"h",seconds:3600},{label:"m",seconds:60},{label:"s",seconds:1}].find((function(e){return Math.floor(n/e.seconds)>=1}));if(r){var o=Math.floor(n/r.seconds);return"".concat(o).concat(r.label)}return"now"},ut="group-forums-user-display-avatar-username-link",lt=function(e){var n=e.userId,r=e.createdTime,o=e.userDisplayName,i=e.hasVerifiedBadge,c=e.groupRoleName,l=new Date(r);return a().createElement("div",{className:"group-forums-user-display"},a().createElement(u.Link,{className:"".concat(ut," text-default"),url:t.Endpoints.getAbsoluteUrl("/users/".concat(n,"/profile"))},a().createElement("div",{className:"group-forums-user-display-avatar-container avatar"},a().createElement(at.Thumbnail2d,{type:at.ThumbnailTypes.avatarHeadshot,size:at.ThumbnailAvatarHeadshotSize.size48,targetId:n,containerClass:"group-forums-user-display-avatar-thumbnail avatar-card-image",altName:o})),a().createElement("span",{className:"group-forums-user-display-avatar-username-link-username"},o),i&&a().createElement(it.VerifiedBadgeIconContainer,{overrideImgClass:"verified-badge-icon-user-display",size:it.BadgeSizes.FOOTER,titleText:o})),a().createElement("div",{className:"user-display-meta text-default text-overflow"}," ","•"," ",a().createElement(u.Tooltip,{id:"user-display-time-tooltip",containerClassName:"user-display-tooltip-container",content:l.toLocaleString(),placement:"bottom"},a().createElement("span",{className:"user-display-time"},ct(l)))," ","•"," ",a().createElement(u.Tooltip,{id:"user-display-role-name-tooltip",containerClassName:"user-display-tooltip-container",content:c,placement:"bottom"},a().createElement("span",{className:"user-display-role-name"},c))))},st=function(){return st=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},st.apply(this,arguments)},dt=function(e){var t=e.emoteUrl,n=e.size;return st({backgroundImage:"url('".concat(t,"')")},n&&{width:"".concat(n,"px"),height:"".concat(n,"px")})},ft=function(e){var t=e.className,n=e.emoteUrl,r=e.emoteId,i=e.size,c=e.onClick,u=(0,o.useCallback)((function(e){c&&("Enter"!==e.key&&" "!==e.key||(e.preventDefault(),c()))}),[c]),l=(0,o.useMemo)((function(){return c?{onClick:c,onKeyDown:u,ariaLabel:"reaction",role:"button"}:{}}),[c,u]);return a().createElement("span",st({"data-testid":"reaction-emote-".concat(r),className:m()("reaction-emote",!!c&&"reaction-emote-clickable",t),style:dt({emoteUrl:n,size:i})},l))},mt=t.EnvironmentUrls.groupsApi,pt="".concat(mt,"/v1/groups");!function(e){e.LOVE="love",e.ANGRY="angry",e.SAD="sad",e.VERY_POSITIVE="very-positive",e.THINKING="thinking",e.THUMBS_UP="thumbs-up",e.FIRE="fire",e.SKULL="skull",e.WOW="wow"}(Ke||(Ke={}));var vt={emoteNameToUrl:function(e){switch(e){case Ke.LOVE:return"https://images.rbxcdn.com/5a1edd5a80c90267f5ffb58f29cc2dc5-reaction_love.png";case Ke.ANGRY:return"https://images.rbxcdn.com/ddb6500e23b1235aa048d03e8aabeee2-reaction_angry.png";case Ke.SAD:return"https://images.rbxcdn.com/d4bbffc8988163fbf51d6fcbcb39da57-reaction_sad.png";case Ke.VERY_POSITIVE:return"https://images.rbxcdn.com/65fd29151733879cf19ed3eb56edcd26-reaction_smile.png";case Ke.THINKING:return"https://images.rbxcdn.com/55a78b84c12495198bcbcf0cac3b017a-reaction_thinking.png";case Ke.THUMBS_UP:return"https://images.rbxcdn.com/12fa6ee6a029c07f2d5903f71177e151-reaction_thumbs_up.png";case Ke.FIRE:return"https://images.rbxcdn.com/31de4960cefa8df1fe8723424ec5cdb8-reaction_fire.png";case Ke.SKULL:return"https://images.rbxcdn.com/040c0fbe67952168f4089029cec13e53-reaction_skull.png";case Ke.WOW:return"https://images.rbxcdn.com/6c53bf648f0604857c99c44757717012-reaction_wow.png";default:return""}},emoteOrder:[Ke.LOVE,Ke.SAD,Ke.THUMBS_UP,Ke.ANGRY,Ke.THINKING,Ke.VERY_POSITIVE,Ke.FIRE,Ke.SKULL,Ke.WOW],urls:{getGroupEmoteSetsEndpoint:function(e){return"".concat(pt,"/").concat(e,"/emotes")}}},ht=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},gt=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},yt=function(e){return ht(void 0,void 0,Promise,(function(){var t;return gt(this,(function(n){switch(n.label){case 0:return t={url:vt.urls.getGroupEmoteSetsEndpoint(e),withCredentials:!0},[4,q.httpService.get(t)];case 1:return[2,n.sent().data]}}))}))},bt=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},wt=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Et=(0,o.createContext)(void 0),Ct=function(){var e=(0,o.useContext)(Et);if(!e)throw new Error("useEmotes must be used within a EmotesProvider");return e};function xt(e){var t=this,n=e.children,r=e.groupId,i=(0,o.useState)(!0),c=i[0],u=i[1],l=(0,o.useState)(!1),s=l[0],d=l[1],f=(0,o.useState)([]),m=f[0],p=f[1],v=(0,o.useCallback)((function(){return bt(t,void 0,void 0,(function(){var e;return wt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),u(!0),d(!1),[4,yt(r)];case 1:return e=t.sent(),p(e.emoteSets.reduce((function(e,t){var n=t.emotes.map((function(e){return{id:e.id,name:e.name,url:vt.emoteNameToUrl(e.name)}}));return e.concat(n)}),[]).sort((function(e,t){var n=vt.emoteOrder.findIndex((function(t){return t===e.name})),r=vt.emoteOrder.findIndex((function(e){return e===t.name})),o=(-1===n?Number.MAX_SAFE_INTEGER:n)-(-1===r?Number.MAX_SAFE_INTEGER:r);return 0===o?e.name<t.name?-1:e.name>t.name?1:0:o}))),[3,4];case 2:return t.sent(),d(!0),[3,4];case 3:return u(!1),[7];case 4:return[2]}}))}))}),[r]),h=(0,o.useCallback)((function(e){return m.find((function(t){return t.id===e}))}),[m]);return(0,o.useEffect)((function(){v()}),[v]),a().createElement(Et.Provider,{value:{isLoading:c,errorLoading:s,emoteList:m,getEmoteById:h}},n)}var St=function(e){var t=e.reactions,n=Ct().getEmoteById,r=(0,o.useMemo)((function(){return t.reduce((function(e,t){return e+t.reactionCount}),0)}),[t]),i=(0,o.useMemo)((function(){return t.every((function(e){return!!e.areReactionCountsVisible}))}),[t]),c=(0,o.useMemo)((function(){return t.sort((function(e,t){return t.reactionCount-e.reactionCount})).slice(0,3)}),[t]);return 0===t.length?null:a().createElement("div",{className:"group-forums-post-preview-reactions-container"},a().createElement("div",{className:"group-forums-post-preview-reactions"},c.map((function(e){var t,r,o=null!==(r=null===(t=n(e.emoteId))||void 0===t?void 0:t.url)&&void 0!==r?r:"";return a().createElement("div",{key:e.emoteId,className:"group-forums-post-preview-reaction-container"},a().createElement(ft,{emoteId:e.emoteId,emoteUrl:o,size:16}))}))),i&&a().createElement("span",{className:"group-forums-post-preview-reaction-count text-default"},q.abbreviateNumber.getAbbreviatedValue(r)))},kt="UserCommunities.Groups.ForumSubscriberNotifications",Pt=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Nt=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},It=(0,o.createContext)(void 0),Ot=function(){var e=(0,o.useContext)(It);if(!e)throw new Error("useForumExperiments must be used within a ForumExperimentsProvider");return e};function Rt(e){var n=this,r=e.children,i=(0,o.useState)(null),c=i[0],u=i[1],l=(0,o.useCallback)((function(){return Pt(n,void 0,void 0,(function(){var e,n;return Nt(this,(function(r){switch(r.label){case 0:if(null!=c)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.ExperimentationService.getAllValuesForLayer(kt)];case 2:return e=r.sent(),n=null==e?void 0:e.forumNotificationsConfig,u(n),[3,4];case 3:return r.sent(),u(null),[3,4];case 4:return[2]}}))}))}),[u]);return a().createElement(It.Provider,{value:{subscriberNotificationsExperimentConfig:c,fetchSubscriberExperimentValues:l}},r)}var At=(0,o.createContext)(void 0),Tt=function(){var e=(0,o.useContext)(At);if(!e)throw new Error("useForumPermissions must be used within a ForumPermissionsProvider");return e};function jt(e){var t,n=e.children,r=e.permissions,i=e.channelsPermissions,c=e.isGroupMember,u=Ue.use.userId(),l=Ue.use.categoryId(),s=Ot().subscriberNotificationsExperimentConfig,d=(0,o.useMemo)((function(){return(i||[]).reduce((function(e,t){return e.set(t.channelId,t),e}),new Map)}),[i]),f=l&&(null===(t=d.get(l))||void 0===t?void 0:t.groupForumsPermissions)||r.groupForumsPermissions;return a().createElement(At.Provider,{value:{canCreatePost:f.createPosts,canCreatePostInCategory:function(e){var t;return((null===(t=d.get(e))||void 0===t?void 0:t.groupForumsPermissions)||r.groupForumsPermissions).createPosts},canCreateComment:f.createComments,canPinPost:f.pinPosts,canLockPost:function(e){var t=e.createdBy,n=e.isLocked,r=e.lockedBy;return t===u?!n||r===u:r!==t&&f.lockPosts},canEditPost:function(e){return f.createPosts&&e===u},canEditComment:function(e){return f.createComments&&e===u},canDeletePost:function(e){return f.createPosts&&e===u||f.removePosts},canDeleteComment:function(e){return f.createComments&&e===u||f.removeComments},canReact:c,canSubscribe:function(e){return e!==u&&!Number.isNaN(u)&&0!==u&&!!(null==s?void 0:s.isReceived)},isGroupMember:c}},n)}var Lt,Mt,Dt=(0,o.createContext)(void 0),Ft=function(){var e=(0,o.useContext)(Dt);if(!e)throw new Error("useModerateUserPermissions must be used within a ModerateUserPermissionsProvider");return e},_t=function(e){var n,r=e.permissions,o=e.children,i=t.CurrentUser.isAuthenticated?Number(t.CurrentUser.userId):0;return a().createElement(Dt.Provider,{value:{canKickUser:function(e){var t;return i!==e&&((null===(t=null==r?void 0:r.groupMembershipPermissions)||void 0===t?void 0:t.removeMembers)||!1)},canBanUser:function(e){var t;return i!==e&&((null===(t=null==r?void 0:r.groupMembershipPermissions)||void 0===t?void 0:t.banMembers)||!1)},canBlockUser:function(e){return e!==i},canDeleteAllPosts:(null===(n=null==r?void 0:r.groupPostsPermissions)||void 0===n?void 0:n.deleteFromWall)||!1}},o)},Bt={common:[],feature:"Feature.Groups"},Ut=function(){return null},zt=(0,s.withTranslations)((function(e){var t=e.translateKey,n=e.action,r=e.disabled,o=e.translate;return a().createElement("li",null,a().createElement(u.Button,{variant:u.Button.variants.secondary,onClick:r?Ut:n,isDisabled:r},o(t)))}),Bt),Wt=(0,o.createContext)(void 0),Vt=function(){var e=(0,o.useContext)(Wt);if(!e)throw new Error("useModerateDialog must be used within a ModerateDialogProvider");return e},Ht=function(e){var t=e.children,n=(0,o.useState)({}),r=n[0],i=n[1],c={dialogState:r,openBanDialog:(0,o.useCallback)((function(e,t,n){i({groupId:e,userId:t,type:"ban",onDeletePosts:n})}),[]),openKickDialog:(0,o.useCallback)((function(e,t,n){i({groupId:e,userId:t,type:"kick",onDeletePosts:n})}),[]),openBlockDialog:(0,o.useCallback)((function(e){i({userId:e,type:"block"})}),[]),closeBanDialog:(0,o.useCallback)((function(){i({})}),[]),closeKickDialog:(0,o.useCallback)((function(){i({})}),[]),closeBlockDialog:(0,o.useCallback)((function(){i({})}),[])};return a().createElement(Wt.Provider,{value:c},t)},Gt=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Kt=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},qt=function(){return Gt(void 0,void 0,Promise,(function(){var e;return Kt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.Guac.callBehaviour("abuse-reporting-revamp")];case 1:return(e=n.sent())?[2,{EnableGroupComment:Boolean(e.EnableGroupComment),EnableGroupPost:Boolean(e.EnableGroupPost)}]:[2,{EnableGroupComment:!1,EnableGroupPost:!1}];case 2:return n.sent(),[2,{EnableGroupComment:!1,EnableGroupPost:!1}];case 3:return[2]}}))}))},Xt=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Qt=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Yt=(0,s.withTranslations)((function(e){var n=e.post,r=e.onRefetchPosts,i=e.onDelete,c=e.onSubscribe,s=e.button,d=e.translate,f=(0,l.useHistory)(),m=Tt(),p=m.canEditPost,v=m.canDeletePost,h=m.canLockPost,g=m.canPinPost,y=m.canSubscribe,b=Ft(),w=b.canKickUser,C=b.canBanUser,x=b.canBlockUser,S=Vt(),k=S.openBanDialog,P=S.openKickDialog,N=S.openBlockDialog,I=Ue.use.isCategoryArchived(),O=(0,u.useSystemFeedback)().systemFeedbackService,R=Ue.use.categoryName(),A=Ue.use.categoryShortId(),T=(0,o.useMemo)((function(){return p(n.createdBy)&&!n.isLocked&&!I}),[p,n.createdBy,n.isLocked,I]),j=(0,o.useMemo)((function(){return v(n.createdBy)&&!I}),[v,n.createdBy,I]),L=(0,o.useMemo)((function(){return h(n)&&!I}),[h,n,I]),M=(0,o.useMemo)((function(){return g&&!I}),[g,I]),D=(0,o.useMemo)((function(){return x(n.createdBy)}),[x,n.createdBy]),F=(0,o.useMemo)((function(){return y(n.createdBy)}),[y,n.createdBy]),_=(0,o.useMemo)((function(){return w(n.createdBy)}),[w,n.createdBy]),B=(0,o.useMemo)((function(){return C(n.createdBy)}),[C,n.createdBy]),U=(0,o.useCallback)((function(){return Xt(void 0,void 0,void 0,(function(){return Qt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,ue(n.groupId,n.categoryId,n.id,!n.isPinned)];case 1:return e.sent(),null==r||r(),n.isPinned?O.success(d("Label.PostUnpinned")):O.success(d("Label.PostPinned")),[3,3];case 2:return e.sent(),O.warning(d("NetworkError")),[3,3];case 3:return[2]}}))}))}),[n.groupId,n.categoryId,n.id,n.isPinned,r,O,d]),z=(0,o.useCallback)((function(){return Xt(void 0,void 0,void 0,(function(){return Qt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,le(n.groupId,n.categoryId,n.id,!n.isLocked)];case 1:return e.sent(),null==r||r(),n.isLocked?O.success(d("Label.PostUnlocked")):O.success(d("Label.PostLocked")),[3,3];case 2:return e.sent(),O.warning(d("NetworkError")),[3,3];case 3:return[2]}}))}))}),[n.groupId,n.categoryId,n.id,n.isLocked,r,O,d]),W=(0,o.useCallback)((function(){return Xt(void 0,void 0,void 0,(function(){return Qt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,se(n.groupId,n.categoryId,n.id)];case 1:return e.sent(),null==i||i(),O.success(d("Label.PostDeleted")),[3,3];case 2:return e.sent(),O.warning(d("NetworkError")),[3,3];case 3:return[2]}}))}))}),[n.groupId,n.categoryId,n.id,i,O,d]),V=(0,o.useCallback)((function(){k(n.groupId,n.createdBy,i)}),[n.createdBy,n.groupId,k]),H=(0,o.useCallback)((function(){P(n.groupId,n.createdBy,i)}),[n.createdBy,n.groupId,P]),K=(0,o.useCallback)((function(){return Xt(void 0,void 0,void 0,(function(){var e;return Qt(this,(function(t){switch(t.label){case 0:if(!navigator.clipboard)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),e=E.deepLinks.groupForumPostUrl(n.groupId,A,R||"category",n.shortId,n.name),[4,navigator.clipboard.writeText(e)];case 2:return t.sent(),O.success(d("Label.LinkCopied")),[3,4];case 3:return t.sent(),O.warning(d("Error.CopyLink")),[3,4];case 4:return[2]}}))}))}),[n.categoryId,n.groupId,n.id,n.name,O,d]),q=(0,o.useCallback)((function(){return Xt(void 0,void 0,void 0,(function(){var e,r;return Qt(this,(function(o){switch(o.label){case 0:return[4,qt()];case 1:return o.sent().EnableGroupPost?(e=E.urls.reportAbuseRevamp({targetId:n.groupId.toString(),submitterId:t.CurrentUser.userId,abuseVector:"groupforumcomment",custom:{stringId:n.firstComment.id,forumPostId:n.id,conversationId:n.id}}),window.location.href=e,[2]):(r=E.urls.reportAbuse(n.groupId,n.id,n.id,n.firstComment.id,!0),window.location.href=r,[2])}}))}))}),[n.firstComment.id,n.groupId,n.id]),X=n.notificationPreference===G.All;return a().createElement(u.Popover,{id:"group-forums-post-dropdown-menu",button:s,trigger:"click",placement:"bottom"},a().createElement("ul",{className:"dropdown-menu",role:"menu"},T&&a().createElement(zt,{translateKey:"Label.EditPost",action:function(){f.push(E.router.getPostEditRoute(A,n.id))}}),M&&a().createElement(zt,{translateKey:n.isPinned?"Label.UnpinPost":"Label.PinPost",action:U}),L&&a().createElement(zt,{translateKey:n.isLocked?"Label.UnlockPost":"Label.LockPost",action:z}),j&&a().createElement(zt,{translateKey:"Label.DeletePost",action:W}),_&&a().createElement(zt,{translateKey:"Action.KickUser",action:H}),B&&a().createElement(zt,{translateKey:"Action.BanUser",action:V}),navigator.clipboard&&a().createElement(zt,{translateKey:"Label.CopyLink",action:K}),F&&a().createElement(zt,{translateKey:X?"Label.UnsubscribeFromPost":"Label.SubscribeToPost",action:c,disabled:void 0===n.notificationPreference}),D&&a().createElement(zt,{translateKey:"Label.BlockUser",action:function(){N(n.createdBy)}}),a().createElement(zt,{translateKey:"Label.ReportAbuse",action:q})))}),d),Zt=CoreRobloxUtilities;!function(e){e.GroupPageClickEvent="groupPageClickEvent",e.GroupPageExposureEvent="groupPageExposureEvent"}(Lt||(Lt={})),function(e){e.GroupHomepage="groupHomepage",e.ConfigureGroup="configureGroup"}(Mt||(Mt={}));var $t,Jt=function(){return Jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Jt.apply(this,arguments)};!function(e){e.GroupForums="groupForums"}($t||($t={}));var en=function(e){return function(e){var t=e.context,n=e.groupId,r=e.clickTargetType,o=e.clickTargetId;Zt.eventStreamService.sendEventWithTarget(Lt.GroupPageClickEvent,t,Jt({groupId:n,clickTargetType:r},o&&{clickTargetId:o}))}({groupId:e.groupId,clickTargetType:e.clickTargetType,clickTargetId:e.clickTargetId,context:$t.GroupForums})},tn="group-forums-post-preview-menu",nn=(0,s.withTranslations)((function(e){var t=e.post,n=e.hasMenu,r=void 0===n||n,i=e.hasRouter,c=void 0===i||i,u=e.categoryName,s=e.categoryShortId,d=e.showPinned,f=e.refetchPosts,p=e.onMenuOpened,v=e.togglePostNotifications,h=e.translate,g=(0,l.useHistory)(),y=Ue.use.blockedUserList(),b=Ue.use.setReturnToCategoryScrollTop(),w=Ot().fetchSubscriberExperimentValues,C=function(e){if(e&&e.target instanceof Element){if(e.metaKey||e.ctrlKey)return;var n=e.target.closest(".".concat(tn)),r=e.target.closest(".".concat(ut));if(n||r)return}e&&e.preventDefault(),b(document.documentElement.scrollTop),g.push(E.router.getPostRoute(s,u,t.shortId,t.name)),document.documentElement.scrollTop=0,en({groupId:t.groupId,clickTargetType:"openPost",clickTargetId:t.id})},x=(0,o.useCallback)((function(e){e&&e.preventDefault(),null==p||p(),en({groupId:t.groupId,clickTargetType:"openPostMenu",clickTargetId:t.id}),w()}),[t.groupId,t.id,p]),S=(0,o.useCallback)((function(){v(t.id)}),[t.id,v]),k=(0,o.useMemo)((function(){return t.commentCount<=0?0:t.commentCount-1}),[t.commentCount]);if(y.length>0&&y.includes(t.createdBy))return null;var P=t.name,N=t.createdBy,I=t.createdAt,O=t.firstComment,R=t.isUnread,A=t.isPinned,T=t.isLocked,j=O.creatorInfo,L=j.displayName,M=j.hasVerifiedBadge,D=j.groupRoleName,F=O.content,_=O.reactions,B=_.length>0,U=R||d&&A||T;return a().createElement("a",{className:"group-forums-post-preview","data-id":t.shortId,"data-is-unread":R,"data-is-pinned":A,"data-is-locked":T,onClick:c?C:void 0,href:E.deepLinks.groupForumPostUrl(t.groupId,s,u,t.shortId,t.name)},a().createElement("div",{className:"group-forums-post-preview-header"},a().createElement(lt,{userId:N,createdTime:I,userDisplayName:L,hasVerifiedBadge:M,groupRoleName:null!=D?D:h("Label.FormerMember")}),r&&a().createElement("div",{className:tn},a().createElement(Yt,{post:t,onRefetchPosts:f,onDelete:f,onSubscribe:S,button:a().createElement(ot,{as:"button",icon:"icon-filled-three-dots-horizontal",variant:"Utility",size:"Medium",ariaLabel:h("Action.More"),onClick:x})}))),a().createElement("div",{role:"button",tabIndex:0,className:"group-forums-post-preview-content",onKeyDown:c?function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),C())}:void 0},a().createElement("div",{className:"group-forums-post-preview-title-container"},U&&a().createElement("div",{className:"group-forums-post-preview-statuses"},R&&a().createElement("div",{className:"group-forums-post-preview-unread-status"}),d&&A&&a().createElement("span",{className:"group-forums-post-preview-pinned-status-icon"}),T&&a().createElement("span",{className:"group-forums-post-preview-locked-status-icon"})),a().createElement("h2",{className:"group-forums-post-preview-title text-emphasis text-overflow"},P)),a().createElement("div",{className:m()("group-forums-post-preview-content-comment",R?"font-bold text-emphasis":"text-default")},F.plainText),a().createElement("div",{className:"group-forums-post-preview-meta-data"},B&&a().createElement(a().Fragment,null,a().createElement("div",{className:"group-forums-post-preview-meta-data-reactions text-default"},a().createElement(St,{reactions:_})),a().createElement("div",{className:"group-forums-post-preview-meta-data-separator"}," • ")),a().createElement("div",{className:"group-forums-post-preview-meta-data-replies text-default"},a().createElement("span",{className:"group-forums-post-preview-replies-icon"}),q.abbreviateNumber.getAbbreviatedValue(k)," ",h(1===k?"Label.Reply":"Label.Replies")))))}),d),rn=function(){return a().createElement("div",{className:"group-forums-user-display-skeleton"},a().createElement("div",{className:"group-forums-user-display-avatar-skeleton group-forums-skeleton"}),a().createElement("div",{className:"user-display-with-time-skeleton group-forums-skeleton"}))},on=function(){return a().createElement("div",{className:"group-forums-post-preview-skeleton"},a().createElement(rn,null),a().createElement("div",{className:"group-forums-post-preview-title-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-post-preview-content-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-post-preview-content-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-post-preview-content-skeleton group-forums-skeleton"}),a().createElement("div",{className:"groups-forums-post-preview-metadata-section-skeleton"},a().createElement("div",{className:"groups-forums-post-preview-metadata-replies-section-skeleton"},a().createElement("div",{className:"group-forums-post-preview-icon-skeleton group-forums-skeleton"}),a().createElement("div",{className:"groups-forums-post-preview-replies-count-skeleton group-forums-skeleton"})),a().createElement("div",{className:"groups-forums-post-preview-metadata-reaction-section-skeleton"},a().createElement("div",{className:"group-forums-post-preview-icon-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-post-preview-icon-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-post-preview-icon-skeleton group-forums-skeleton"}),a().createElement("div",{className:"groups-forums-post-preview-reaction-count-skeleton group-forums-skeleton"}))))},an=function(e){var t=e.onLoadMore,n=e.viewingThreshold,r=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e=new IntersectionObserver((function(e){e[0].isIntersecting&&t()}),{threshold:n}),o=r.current;return o&&e.observe(o),function(){o&&e.unobserve(o)}}),[t,n]),a().createElement("div",{ref:r,style:{height:"1px"}})},cn=function(e,t){return e.id===t.id},un=function(e,t){return e.id===t.id};function ln(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}ln("@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.foundation-web-loading-spinner{animation:rotation 1s linear infinite normal}");var sn=function(e){var t=e.width,n=e.height;return a().createElement("svg",{className:"foundation-web-loading-spinner",width:t,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M10 2.75C8.56609 2.75 7.16438 3.1752 5.97212 3.97185C4.77986 4.76849 3.85061 5.90078 3.30188 7.22554C2.75314 8.55031 2.60957 10.008 2.88931 11.4144C3.16905 12.8208 3.85955 14.1126 4.87348 15.1265C5.88741 16.1405 7.17924 16.831 8.5856 17.1107C9.99196 17.3904 11.4497 17.2469 12.7745 16.6981C14.0992 16.1494 15.2315 15.2201 16.0282 14.0279C16.8248 12.8356 17.25 11.4339 17.25 10C17.25 9.58579 17.5858 9.25 18 9.25C18.4142 9.25 18.75 9.58579 18.75 10C18.75 11.7306 18.2368 13.4223 17.2754 14.8612C16.3139 16.3002 14.9473 17.4217 13.3485 18.0839C11.7496 18.7462 9.9903 18.9195 8.29296 18.5819C6.59563 18.2443 5.03653 17.4109 3.81282 16.1872C2.58911 14.9635 1.75575 13.4044 1.41813 11.707C1.08051 10.0097 1.25379 8.25037 1.91606 6.65152C2.57832 5.05267 3.69983 3.6861 5.13876 2.72464C6.57769 1.76318 8.26942 1.25 10 1.25C10.4142 1.25 10.75 1.58579 10.75 2C10.75 2.41421 10.4142 2.75 10 2.75Z"}))},dn={Large:24,Medium:20,Small:16,XSmall:12},fn={Large:["radius-medium","text-label-large","height-1200","padding-x-large"],Medium:["radius-medium","text-label-medium","height-1000","padding-x-medium"],Small:["radius-medium","text-label-small","height-800","padding-x-small"],XSmall:["radius-small","text-label-small","height-600","padding-x-small"]},mn={Emphasis:["bg-action-emphasis","content-action-emphasis"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-soft-emphasis","content-action-soft-emphasis"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-alert","content-action-alert"]},pn={Emphasis:["bg-action-standard","content-action-standard"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-standard","content-action-standard"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-standard","content-action-standard"]},vn=(0,o.forwardRef)((function(e,t){var n=e.children,r=e.className,o=e.style,i=e.as,c=e.isDisabled,u=void 0!==c&&c,l=e.isLoading,s=void 0!==l&&l,d=e.size,f=void 0===d?"Large":d,m=e.variant,p=void 0===m?"Emphasis":m,v=He(e,["children","className","style","as","isDisabled","isLoading","size","variant"]),h=null!=i?i:"button",g=v.href,y=He(v,["href"]);return a().createElement(h,Ve({ref:t,type:"button"===h?"button":void 0,disabled:u,"aria-disabled":u,href:u?void 0:g},y,{className:qe("foundation-web-button",Xe,u?Ye:"cursor-pointer","flex items-center justify-center stroke-none padding-y-none select-none",fn[f],u?pn[p]:mn[p],r),style:Ve({textDecoration:"none"},o)}),a().createElement(Qe,null),s&&a().createElement("div",{"aria-hidden":"true",className:"absolute flex"},a().createElement(sn,{width:dn[f],height:dn[f]})),a().createElement("span",{className:qe("padding-y-xsmall text-truncate-end text-no-wrap",s&&"invisible")},n))})),hn=function(e){var t=e.className,n=e.iconClassName,r=e.heading,o=e.message,i=e.buttonText,c=e.onClick;return a().createElement("div",{className:m()(t,"section-disclaimer section-content-off flex flex-col items-center justify-center grow")},a().createElement("span",{className:n}),r&&a().createElement("h2",null,r),a().createElement("span",null,o),i&&a().createElement(vn,{size:"Medium",variant:"Standard",onClick:c},i))};hn.defaultProps={className:void 0,buttonText:void 0,onClick:void 0};var gn=hn,yn=function(e,t,n){return["commentReplies",e,t,n]},bn=function(e){return["getCategoryPosts",e]},wn=function(e,t){return["getCategoryPinnedPosts",e,t]},En=function(e,t){return["getCategoryPosts",e,t]},Cn=function(e,t,n){return["post",e,t,n]},xn=function(){return xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xn.apply(this,arguments)},Sn=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},kn=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Pn=(0,s.withTranslations)((function(e){var t=e.translate,n=Ue.use.groupId(),r=Ue.use.categoryId(),i=Ue.use.categoryName(),c=Ue.use.categoryShortId(),l=Ue.use.returnToCategoryScrollTop(),s=Ue.use.setReturnToCategoryScrollTop(),d=(0,o.useMemo)((function(){return!(!n||!r)}),[r,n]),f=(0,We.useQueryClient)(),p=(0,u.useSystemFeedback)().systemFeedbackService,v=Tt().canCreatePost,h=(0,We.useQuery)({queryKey:wn(n,r),queryFn:function(e){return Sn(void 0,[e],void 0,(function(e){var t,n,r=e.queryKey;return kn(this,(function(e){return t=r[1],n=r[2],[2,ae(t,n)]}))}))},onError:function(){return p.warning(t("NetworkError"))},enabled:d}),g=h.isLoading,y=h.data,b=h.refetch,w=(0,We.useInfiniteQuery)({retry:1,queryKey:En(n,r),queryFn:function(e){return Sn(void 0,[e],void 0,(function(e){var t,n,r,o=e.queryKey,a=e.pageParam;return kn(this,(function(e){switch(e.label){case 0:return t=o[1],n=o[2],[4,ne(t,n,E.pageCounts.postsPerPage,a)];case 1:return(r=e.sent()).data=r.data.filter((function(e){return!e.isPinned})),[2,r]}}))}))},getNextPageParam:function(e){return e.nextPageCursor||void 0},enabled:d}),C=w.isLoading,x=w.isFetchingNextPage,S=w.data,k=w.fetchNextPage,P=w.hasNextPage,N=w.error,I=w.refetch,O=(0,o.useMemo)((function(){return(null==y?void 0:y.data)||[]}),[y]),R=(0,o.useMemo)((function(){return(S?S.pages:[]).reduce((function(e,t){return e.concat(t.data)}),[])}),[S]);(0,o.useEffect)((function(){!P||x||R.length||k()}),[P,x,R.length,k]);var A=(0,o.useCallback)((function(e){var t;if(null==y?void 0:y.data.findIndex((function(t){return cn(t,e)}))){var o=null!==(t=null==y?void 0:y.data.map((function(t){return cn(t,e)?e:t})))&&void 0!==t?t:[];f.setQueryData(wn(n,r),(function(){return o}))}else{var a=(null==S?void 0:S.pages.map((function(t){return xn(xn({},t),{data:t.data.map((function(t){return cn(t,e)?e:t}))})})))||[];f.setQueryData(En(n,r),(function(e){return{pages:a,pageParams:null==e?void 0:e.pageParams}}))}}),[y,S,n,r,f]),T=(0,o.useCallback)((function(){I(),b()}),[b,I]),j=(0,o.useCallback)((function(e){return Sn(void 0,void 0,void 0,(function(){var o,a;return kn(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),o=!e.notificationPreference||e.notificationPreference===G.None,[4,ge(n,r,e.id,o)];case 1:return i.sent(),a=xn(xn({},e),{notificationPreference:o?G.All:G.None}),A(a),p.success(t("Message.NotificationPreferenceUpdated")),[3,3];case 2:return i.sent(),p.warning(t("NetworkError")),[3,3];case 3:return[2]}}))}))}),[n,r,p,A,t]);return(0,o.useEffect)((function(){N&&p.warning(t("NetworkError"))}),[N,p,t]),(0,o.useEffect)((function(){d&&l&&(document.documentElement.scrollTop=l,s(void 0))}),[d,l,s]),N?a().createElement(gn,{className:"group-forums-posts-list-no-post",iconClassName:"icon-status-alert",heading:t("Error.LoadCategoryTitle"),message:t("Error.ReloadingSubtitle"),buttonText:t("Action.RetryLoadingPosts"),onClick:T}):C||g?a().createElement("div",{className:"group-forums-posts-list group-forums-posts-list-skeleton"},a().createElement(on,null),a().createElement(on,null),a().createElement(on,null)):R.length||O.length?a().createElement("div",{className:m()("group-forums-posts-list",{"group-forums-posts-list-with-footer":v})},a().createElement("div",{className:"group-forums-post-list-content"},O.map((function(e){return a().createElement(nn,{showPinned:!0,key:"".concat(e.id,"_pinned"),post:e,categoryName:i,categoryShortId:c,refetchPosts:T,togglePostNotifications:function(){return j(e)}})})),R.map((function(e){return a().createElement(nn,{showPinned:!1,key:e.id,post:e,categoryName:i,categoryShortId:c,refetchPosts:T,togglePostNotifications:function(){return j(e)}})})),a().createElement(an,{onLoadMore:k,viewingThreshold:1}),x&&a().createElement("div",{className:"spinner spinner-default spinner-infinite-scroll"}))):a().createElement(gn,{className:"group-forums-posts-list-no-post",iconClassName:"chat-side-icon",heading:t("Label.NoPostsFoundHeader"),message:t("Label.NoPostsFoundText")})}),d),Nn=function(e){var t=e.placement,n=e.content,r=e.children,o=e.id,i=e.containerClassName;return e.enabled?a().createElement(u.Tooltip,{containerClassName:i,id:o,placement:t,content:n},r):a().createElement("div",{className:i},r)};Nn.defaultProps={containerClassName:void 0};var In=Nn,On=function(e){var t,n=e.label,r=e.disabled,o=e.onClick,i=e.translate,c=Tt(),u=c.isGroupMember,l=c.canCreatePost,s=Ue.use.isCategoryArchived();r&&(s?t=i("Description.CategoryArchived"):u&&!l?t=i("Description.NoPostPermission"):u||(t=i("Description.JoinCommunityFirst")));var d="create-post-button",f="".concat(d,"-tooltip");return a().createElement(In,{id:f,content:t,placement:"top",enabled:!!t,containerClassName:"group-forums-create-post-btn-tooltip-container"},a().createElement("button",{id:d,type:"button",className:"group-forums-create-post-btn btn-growth-md",onClick:o,disabled:r,"aria-describedby":t?f:void 0,"aria-label":n,tabIndex:r?-1:0},a().createElement("span",{className:"icon-plus","aria-hidden":"true"}),n))};On.displayName="CreatePostButton";var Rn=(0,s.withTranslations)(On,d),An="app-bumper-container",Tn=function(){var e=(0,o.useState)((function(){return document.getElementsByClassName(An).length>0})),t=e[0],n=e[1];return(0,o.useEffect)((function(){var e=document.getElementsByClassName(An)[0];if(!e||!e.parentElement)return function(){return null};var t=new MutationObserver((function(r){r.forEach((function(r){"childList"===r.type&&r.removedNodes.length>0&&Array.from(r.removedNodes).some((function(t){return t===e}))&&(n(!1),t.disconnect())}))}));return t.observe(e.parentElement,{childList:!0}),function(){return t.disconnect()}}),[]),t},jn=function(e){var t=e.fixed,n=e.children,r=Tn();return(0,o.useEffect)((function(){var e;return t?(null===(e=document.getElementById("footer-container"))||void 0===e||e.classList.add("group-forums-page-footer"),function(){var e;null===(e=document.getElementById("footer-container"))||void 0===e||e.classList.remove("group-forums-page-footer")}):function(){return null}}),[t]),a().createElement("div",{className:m()("group-forums-native-footer",t&&"group-forums-native-footer-fixed",t&&r&&"group-forums-native-footer-with-bumper")},n)},Ln=function(){var e=(0,l.useRouteMatch)(),t=Ue.use.onRouteChange(),n=Ue.use.categoriesLoaded();(0,o.useEffect)((function(){t(e)}),[e,t,n])},Mn=(0,o.memo)((function(e){var t=e.translate,n=Ue.use.groupId(),r=Ue.use.categoryId(),i=Ue.use.categoryShortId(),c=Ue.use.categories(),s=Ue.use.archivedCategories(),d=Ue.use.categoriesLoaded(),f=Ue.use.categoryName(),m=Ue.use.isCategoryArchived(),p=Ue.use.loadCategories();Ln();var v=(0,l.useRouteMatch)(),h=(0,l.useHistory)(),g=Tt().canCreatePost,y=(0,u.useSystemFeedback)().SystemFeedbackComponent,b=(0,o.useCallback)((function(e,t){var r=E.router.getCategoryRoute(e,t);i===e?h.replace(r):h.push(r),en({groupId:n,clickTargetType:"changeCategory",clickTargetId:e})}),[n,i,h]);(0,o.useEffect)((function(){i&&v.path===E.router.defaultRoute&&b(i,f)}),[f,i,v,b]);var w=(0,o.useCallback)((function(){p()}),[p]),C=(0,o.useCallback)((function(){r&&(h.push(E.router.getPostCreateRoute(i)),en({groupId:n,clickTargetType:"goToPostComposerCreate",clickTargetId:r}))}),[n,r,h]);return!d||c.length||s.length?a().createElement("div",{className:"group-forums-categories"},a().createElement("div",{className:"group-forums-categories-list-container"},a().createElement(ze,{onSetActiveCategory:b})),a().createElement("div",{className:"group-forums-categories-header"},a().createElement("h2",{className:"group-forums-categories-header-category-name"},f),a().createElement(Rn,{disabled:!g||m,label:t("Action.CreatePost"),onClick:C})),a().createElement(Pn,null),a().createElement(jn,{fixed:!0},a().createElement(Rn,{disabled:!g||m,label:t("Action.CreatePost"),onClick:C})),a().createElement(y,null)):a().createElement(gn,{iconClassName:"icon-status-alert",heading:t("Error.LoadCategoryTitle"),message:t("Error.ReloadingSubtitle"),buttonText:t("Action.RetryLoadingForums"),onClick:w})}));Mn.displayName="Categories";var Dn,Fn=(0,s.withTranslations)(Mn,d),_n=function(e){var t,n,r="post"===e,a=r?null!==(t=Ue.use.postRateLimitExpiresAt())&&void 0!==t?t:0:null!==(n=Ue.use.commentRateLimitExpiresAt())&&void 0!==n?n:0,i=r?Ue.use.setPostRateLimitExpiresAt():Ue.use.setCommentRateLimitExpiresAt(),c=(0,o.useState)(Date.now()),u=c[0],l=c[1];(0,o.useEffect)((function(){l(Date.now())}),[a]);var s=(0,o.useMemo)((function(){if(!a||a<=0)return 0;var e=a-u;return e>0?Math.ceil(e/1e3):0}),[a,u]);(0,o.useEffect)((function(){if(!(s<=0)){var e=setInterval((function(){l(Date.now())}),1e3);return function(){clearInterval(e)}}a>0&&i(0)}),[s,a,i]);return{remainingSeconds:s,isActive:s>0,clear:function(){i(0)}}};!function(e){e.Submit="HotKey:Submit"}(Dn||(Dn={}));var Bn=(0,o.forwardRef)((function(e,t){var n=e.className,r=e.textAreaClassName,i=e.defaultValue,c=e.placeholder,u=e.maxLength,l=void 0===u?1e3:u,s=e.fieldName,d=e.showCharacterCount,f=void 0===d||d,p=e.autoResize,v=void 0!==p&&p,h=e.autoFocus,g=void 0!==h&&h,y=e.locked,b=void 0!==y&&y,w=e.maxTextFieldHeight,E=void 0===w?-1:w,C=e.validationError,x=e.onChange,S=e.onHotKey,k=(0,o.useState)(""),P=k[0],N=k[1],I=(0,o.useState)(!1),O=I[0],R=I[1],A=(0,o.useRef)(null),T=(0,o.useCallback)((function(e){R(!0),N(e),null==x||x(e)}),[x]);(0,o.useImperativeHandle)(t,(function(){return{clearText:function(){A.current&&(A.current.value=""),N(""),R(!1),T("")},setText:function(e){A.current&&(A.current.value=e),T(e)},focus:function(){var e;null===(e=A.current)||void 0===e||e.focus()}}}));var j=(0,o.useMemo)((function(){return l?"".concat(P.length,"/").concat(l):null}),[P,l]);(0,o.useEffect)((function(){!O&&i&&T(i)}),[i,O,T]),(0,o.useEffect)((function(){if(v&&A.current){A.current.style.height="";var e=A.current.scrollHeight+3;E>0&&e>E&&(e=E),A.current.style.height="".concat(e,"px")}}),[P,v,E]),(0,o.useEffect)((function(){var e,t,n,r;if(g){null===(e=A.current)||void 0===e||e.focus();var o=null!==(n=null===(t=A.current)||void 0===t?void 0:t.textLength)&&void 0!==n?n:0;null===(r=A.current)||void 0===r||r.setSelectionRange(o,o)}}),[g]);return a().createElement("div",{className:m()("editable-content-field-input",n)},a().createElement("textarea",{className:m()("input-field",r),name:s,placeholder:c,maxLength:l,onChange:function(e){return T(e.target.value)},disabled:b,onKeyPress:function(e){(function(e){return e.ctrlKey&&"Enter"===e.key})(e)&&(null==S||S(Dn.Submit))},ref:A},i),a().createElement("div",{className:"editable-content-field-input-metadata"},C&&a().createElement("p",{className:"text-error"},C),f&&j&&a().createElement("p",{className:"form-control-label small text"},j)))}));Bn.displayName="EditableContentFieldInput";var Un=Bn,zn=(0,s.withTranslations)((function(e){var t=e.headerText,n=e.containerClassName,r=e.onBack,o=e.translate;return a().createElement("div",{className:m()("group-forums-section-header",n)},a().createElement("button",{className:"group-forums-section-header-back icon-left",type:"button","aria-label":o("Action.Back"),onClick:r}),a().createElement("h2",{className:"group-forums-section-header-text"},t),a().createElement("div",{className:"group-forums-section-header-spacer"}))}),d),Wn=function(e){var t=e.message;return a().createElement("div",{className:"text-content-editor-error"},a().createElement("span",{className:"icon-warning"}),a().createElement("p",{className:"text-content-editor-error-message"},t))};Wn.displayName="TextContentEditorError";var Vn=Wn,Hn=function(e,t,n,r,o,a){if(void 0===n&&(n=0),void 0===r&&(r=1/0),void 0===o&&(o=!0),void 0===a&&(a=!0),void 0!==e){var i=e;if(o&&(i=e.trim()),!(a&&(null==i||0===i.length)||i.length>=n&&i.length<=r))return t}},Gn=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Kn=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},qn=function(e){var t=e.hasTitle,n=e.headerText,r=e.contentPlaceholder,i=e.submitText,c=e.submitDisabled,l=e.customControls,s=e.titleMaxLength,d=e.contentMaxLength,f=e.defaultTitle,p=e.defaultContent,v=e.titleLocked,h=e.errorKey,g=e.onSubmit,y=e.onBack,b=e.onChange,w=e.isLoading,C=e.translate,x=_n("post"),S=x.isActive,k=x.remainingSeconds,P=(0,o.useState)(null!=f?f:""),N=P[0],I=P[1],O=(0,o.useState)(null!=p?p:""),R=O[0],A=O[1],T=(0,o.useState)(!1),j=T[0],L=T[1],M=(0,o.useCallback)((function(){return Gn(void 0,void 0,void 0,(function(){return Kn(this,(function(e){switch(e.label){case 0:return L(!0),[4,g({title:N,content:R})];case 1:return e.sent(),L(!1),[2]}}))}))}),[N,R,g]),D=(0,o.useMemo)((function(){var e=function(e){return Hn(e,"Error.ForumContentValidationMinLength",E.limits.postContentMinLength)}(R);if(e)return C(e)}),[R,C]),F=(0,o.useMemo)((function(){var e=function(e){return Hn(e,"Error.ForumTitleValidationMinLength",E.limits.postTitleMinLength)}(N);if(e)return C(e)}),[N,C]),_=(0,o.useCallback)((function(e){I(e),null==b||b({title:e,content:R})}),[b,R]),B=(0,o.useCallback)((function(e){A(e),null==b||b({title:N,content:e})}),[b,N]),U=(0,o.useMemo)((function(){return c||j||w||!R||!!D||t&&(!N||!!F)||S}),[c,j,w,R,D,t,N,F,S]);return a().createElement("div",{className:"text-content-editor"},a().createElement(zn,{headerText:n,onBack:y}),!!l&&a().createElement("div",{className:"text-content-editor-controls"},l,a().createElement("hr",{className:"text-content-editor-divider"})),a().createElement("div",{className:"text-content-editor-body"},w?a().createElement(u.Loading,null):a().createElement(a().Fragment,null,t&&a().createElement(a().Fragment,null,a().createElement("h5",{className:"text-content-editor-label"},C("Label.PostTitle")),a().createElement(Un,{textAreaClassName:m()("text-content-editor-title",v&&"text-content-editor-title-locked"),fieldName:"title",defaultValue:f,placeholder:C("Label.Title"),maxLength:s,onChange:_,locked:v,autoResize:!0,validationError:F})),a().createElement("h5",{className:"text-content-editor-label"},C("Label.PostContent")),a().createElement(Un,{className:"text-content-editor-content-container",textAreaClassName:"text-content-editor-content",fieldName:"content",defaultValue:p,placeholder:null!=r?r:C("Label.WriteSomething"),maxLength:d,onChange:B,onHotKey:function(e){e!==Dn.Submit||U||M()},autoResize:!0,validationError:S?C("Error.RetryAfterSeconds",{seconds:k}):D}))),a().createElement(jn,null,a().createElement("div",{className:"text-content-editor-footer-mobile"},h?a().createElement(Vn,{message:C(h)}):null,a().createElement(Rn,{label:i,onClick:M,disabled:U}))),a().createElement("div",{className:"text-content-editor-footer-desktop"},a().createElement("div",{className:"text-content-editor-buttons-desktop"},a().createElement("button",{className:"text-content-editor-cancel btn-control-md",type:"button",onClick:y},C("Action.Cancel")),a().createElement(Rn,{label:i,onClick:M,disabled:U})),h?a().createElement(Vn,{message:C(h)}):null))};qn.displayName="TextContentEditor";var Xn=(0,s.withTranslations)(qn,d),Qn=function(){return Qn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qn.apply(this,arguments)},Yn=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Zn=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},$n="Error.ForumPostModerated",Jn="NetworkError",er=function(e){var t,n=e.defaultCategoryId,r=e.editingPostId,i=e.translate,c=(0,l.useHistory)(),s=Ue.use.groupId(),d=Ue.use.categoryId(),f=Ue.use.categoryShortId(),m=Ue.use.categoryName(),p=Ue.use.categories(),v=(0,o.useState)(n),h=v[0],g=v[1],y=(0,o.useState)(null),b=y[0],w=y[1],C=Tt(),x=C.canCreatePost,S=C.canEditPost,k=C.canCreatePostInCategory,P=(0,u.useSystemFeedback)().systemFeedbackService,N=Ue.use.setPostRateLimitExpiresAt(),I=!!r,O=(0,We.useQuery)({retry:1,queryKey:Cn(s,d,null!=r?r:""),queryFn:function(){return Yn(void 0,void 0,void 0,(function(){return Zn(this,(function(e){switch(e.label){case 0:return r&&(s&&0!==s)?[4,te(s,d,[r])]:[2,void 0];case 1:return[2,e.sent().data[0]]}}))}))},onError:function(){return P.warning(i(Jn))},enabled:I}),R=O.isLoading,A=O.data,T=(0,o.useCallback)((function(e){return Yn(void 0,[e],void 0,(function(e){var t,n,o,a,i,u=e.title,l=e.content;return Zn(this,(function(e){switch(e.label){case 0:if(t=p.find((function(e){return e.shortId===h})),!t)return w(Jn),[2];n=t.id,e.label=1;case 1:return e.trys.push([1,6,,7]),r?A?[4,ce(s,n,r,A.firstComment.id,l)]:[2]:[3,3];case 2:return e.sent(),c.push(E.router.getPostRoute(h,m,A.shortId,A.name)),[3,5];case 3:return[4,ie(s,n,u,l)];case 4:o=e.sent().shortId,c.push(E.router.getPostRoute(h,m,o,u)),e.label=5;case 5:return en(Qn({groupId:s},r?{clickTargetType:"editPost",clickTargetId:r}:{clickTargetType:"createPost",clickTargetId:h})),[3,7];case 6:return a=e.sent(),(i=a).status===q.httpResponseCodes.tooManyAttempts&&i.retryAfterSeconds?N(Date.now()+1e3*i.retryAfterSeconds):w(function(e){var t,n,r=e;if(r.status===q.httpResponseCodes.badRequest){var o=null===(n=null===(t=r.data)||void 0===t?void 0:t.errors)||void 0===n?void 0:n[0];if((null==o?void 0:o.code)===E.errorCodes.contentModerated)return $n}return Jn}(a)),[3,7];case 7:return[2]}}))}))}),[r,h,s,A,c,p,m,N]),j=(0,o.useCallback)((function(){r?c.push(E.router.getPostRoute(f,m,(null==A?void 0:A.shortId)||r,(null==A?void 0:A.name)||"post")):c.push(E.router.getCategoryRoute(f,m))}),[c,r,f,m,A]),L=(0,o.useCallback)((function(){b&&w(null)}),[b]);(0,o.useEffect)((function(){(!x||r&&A&&(!S(A.createdBy)||A.isLocked))&&j()}),[x,S,r,A,j]);var M=null==A?void 0:A.name,D=null===(t=null==A?void 0:A.firstComment)||void 0===t?void 0:t.content.plainText;return a().createElement("div",{className:"post-composer"},a().createElement(Xn,{hasTitle:!0,headerText:i(r?"Action.EditPost":"Action.CreatePost"),contentPlaceholder:i("Label.WriteSomething"),submitText:i("Action.Post"),submitDisabled:b===$n,customControls:a().createElement("div",{className:"post-composer-categories-control"},a().createElement("h5",{className:"post-composer-categories-label"},i("Heading.Categories")),a().createElement("div",{className:"post-composer-categories-list"},a().createElement(ze,{activeCategoryId:h,onSetActiveCategory:g,locked:I,categoryFilter:function(e){return k(e.id)}}))),titleMaxLength:E.limits.postTitleMaxLength,contentMaxLength:E.limits.postContentMaxLength,defaultTitle:M,defaultContent:D,titleLocked:I,errorKey:b,onSubmit:T,onBack:j,onChange:L,isLoading:I&&(R||!A)}))};er.displayName="PostComposer";var tr=(0,s.withTranslations)(er,d),nr=function(){var e=(0,o.useState)(!1),t=e[0],n=e[1],r=(0,o.useCallback)((function(){if(window.matchMedia("(max-width: ".concat(991,"px)")).matches){if(t)return;n(!0)}else{if(!t)return;n(!1)}}),[t]);return(0,o.useEffect)((function(){return r(),window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}),[r]),{isSmallViewport:t}},rr=new We.QueryClient,or=function(e){var t=e.children,n=e.permissions,r=e.channelsPermissions,i=e.groupId,c=e.userId,s=e.isGroupMember,d=nr().isSmallViewport,f=Ue.use.hydrate();return(0,o.useEffect)((function(){f({groupId:i,userId:c,useInlineReply:!d})}),[d,i,c,f]),a().createElement(u.SystemFeedbackProvider,null,a().createElement(We.QueryClientProvider,{client:rr},a().createElement(xt,{groupId:i},a().createElement(Rt,null,a().createElement(Ht,null,a().createElement(_t,{permissions:n},a().createElement(jt,{permissions:n,channelsPermissions:r,isGroupMember:s},a().createElement(l.HashRouter,{hashType:"hashbang"},t))))))))},ar=function(){return a().createElement("div",{className:"group-forums-post-skeleton"},a().createElement(rn,null),a().createElement("div",{className:"group-forums-post-title-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-post-content-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-post-content-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-post-content-skeleton group-forums-skeleton"}),a().createElement("div",{className:"groups-forums-post-metadata-section-skeleton"},a().createElement("div",{className:"groups-forums-post-metadata-reaction-section-skeleton"},a().createElement("div",{className:"group-forums-post-icon-skeleton group-forums-skeleton"}),a().createElement("div",{className:"groups-forums-post-reaction-skeleton group-forums-skeleton"}),a().createElement("div",{className:"groups-forums-post-reaction-skeleton group-forums-skeleton"}),a().createElement("div",{className:"groups-forums-post-reaction-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-post-icon-skeleton group-forums-skeleton"})),a().createElement("div",{className:"groups-forums-post-metadata-reply-section-skeleton"},a().createElement("div",{className:"groups-forums-post-reply-skeleton group-forums-skeleton"}))))},ir=function(){return a().createElement("div",{className:"group-forums-comment-skeleton"},a().createElement(rn,null),a().createElement("div",{className:"group-forums-comment-content-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-comment-content-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-comment-content-skeleton group-forums-skeleton"}),a().createElement("div",{className:"groups-forums-comment-metadata-section-skeleton"},a().createElement("div",{className:"groups-forums-comment-metadata-reaction-section-skeleton"},a().createElement("div",{className:"group-forums-comment-icon-skeleton group-forums-skeleton"}),a().createElement("div",{className:"groups-forums-comment-reaction-skeleton group-forums-skeleton"}),a().createElement("div",{className:"groups-forums-comment-reaction-skeleton group-forums-skeleton"}),a().createElement("div",{className:"groups-forums-comment-reaction-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-comment-icon-skeleton group-forums-skeleton"})),a().createElement("div",{className:"groups-forums-comment-metadata-reply-section-skeleton"},a().createElement("div",{className:"groups-forums-comment-reply-skeleton group-forums-skeleton"}))))},cr=q.abbreviateNumber.suffixNames,ur=q.abbreviateNumber.suffixes,lr=function(e,t,n){return void 0===t&&(t=3),void 0===n&&(n=cr.withoutPlus),function(e,t,n){void 0===t&&(t=3),void 0===n&&(n=cr.withoutPlus);var r=n?ur[n]:ur[cr.withPlus],o="",a=e,i=r.find((function(t){return t&&""!==t&&e.endsWith(t)}));return i&&(o=i,a=e.slice(0,-i.length)),a.length>t&&(a=a.slice(0,t)),a.endsWith(".")&&(a=a.slice(0,-1)),a+o}(q.abbreviateNumber.getAbbreviatedValue(e,n),t,n)},sr=function(e){var t=e.onSelect,n=e.emotes;return a().createElement("div",{className:"reaction-picker"},n.map((function(e){return a().createElement("div",{key:e.id,className:"reaction-picker-item"},a().createElement(ft,{emoteId:e.id,className:"reaction-picker-emote",emoteUrl:e.url,onClick:function(){return t(e.id)}}))})))},dr=function(){return dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dr.apply(this,arguments)},fr=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},mr=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},pr=(0,s.withTranslations)((function(e){var t=e.initialReactions,n=e.onToggleReaction,r=e.maxReactionPerLine,i=void 0===r?6:r,c=e.viewOnly,l=a().useState(t),s=l[0],d=l[1],f=a().useState(!1),p=f[0],v=f[1],h=a().useState(!1),g=h[0],y=h[1],b=Ct(),w=b.getEmoteById,E=b.emoteList;(0,o.useEffect)((function(){d(t),y(t.every((function(e){return!!e.areReactionCountsVisible})))}),[t]);var C=(0,o.useMemo)((function(){return p?s.length:s.length<=i?i:i-1}),[p,i,s.length]),x=function(e){return fr(void 0,void 0,void 0,(function(){var t,r,o;return mr(this,(function(a){switch(a.label){case 0:return c?[2]:(t=!1,r=!1,o=s.map((function(n){if(n.emoteId===e){t=!0,r=!n.hasUserAppliedReaction;var o=n.hasUserAppliedReaction?n.reactionCount-1:n.reactionCount+1;return 0===o?null:dr(dr({},n),{hasUserAppliedReaction:!n.hasUserAppliedReaction,reactionCount:o})}return n})).filter((function(e){return null!==e})),t||(r=!0,o.push({emoteId:e,reactionCount:1,hasUserAppliedReaction:!0,areReactionCountsVisible:g})),d(o),[4,n(e,r)]);case 1:return a.sent()||d(s),[2]}}))}))},S=function(){v((function(e){return!e}))},k=function(e,t){var n=w(e.emoteId),r=n?n.url:"";return a().createElement("div",{key:e.emoteId,className:m()("group-forums-comment-reactions-reaction",t,{"group-forums-comment-reactions-reaction-active":e.hasUserAppliedReaction}),role:"button",tabIndex:0,onClick:function(){return x(e.emoteId)},onKeyDown:function(t){return n=t,r=e.emoteId,void("Enter"!==n.key&&" "!==n.key||(n.preventDefault(),x(r)));var n,r}},a().createElement(ft,{emoteId:e.emoteId,emoteUrl:r,size:16}),g&&a().createElement("span",{className:m()("group-forums-comment-reactions-count",{"font-bold":e.hasUserAppliedReaction})},lr(e.reactionCount)))},P=a().createElement("div",{role:"button",tabIndex:0,className:"group-forums-comment-reactions-add-new"},a().createElement("span",{className:"group-forums-comment-reactions-add-new-icon"}));return a().createElement("div",{className:"group-forums-comment-reactions"},!c&&a().createElement(u.Popover,{id:"group-forums-reaction-picker-container",button:P,trigger:"click",placement:"bottom"},a().createElement(sr,{emotes:E,onSelect:x})),a().createElement("div",{className:"group-forums-comment-reactions-container"},s.slice(0,C).map((function(e){return k(e,"show-on-native")})),s.map((function(e){return k(e,"hide-on-native")})),s.length>i&&a().createElement("div",{role:"button",tabIndex:0,onClick:S,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),S())},className:"group-forums-comment-reactions-overflow show-on-native"},a().createElement("span",{className:m()(p?"group-forums-comment-reactions-hide-icon":"group-forums-comment-reactions-overflow-icon")}))))}),d),vr=function(){return vr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vr.apply(this,arguments)},hr=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},gr=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},yr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},br=(0,o.createContext)(void 0),wr=function(){var e=(0,o.useContext)(br);if(!e)throw new Error("usePost must be used within a PostProvider");return e};function Er(e){var t=this,n=e.children,r=Ue.use.groupId(),i=Ue.use.categoryId(),c=Ue.use.postId(),u=Ue.use.postShortId(),l=Ue.use.commentId(),s=Ue.use.setActiveCommentId();Ln();var d=(0,o.useState)(!0),f=d[0],m=d[1],p=(0,o.useState)(!1),v=p[0],h=p[1],g=(0,o.useState)(null),y=g[0],b=g[1],w=(0,We.useQueryClient)(),C=(0,o.useCallback)((function(){return hr(t,void 0,void 0,(function(){var e;return gr(this,(function(t){switch(t.label){case 0:if(!i||!u)return[2];t.label=1;case 1:return t.trys.push([1,3,4,5]),m(!0),h(!1),[4,te(r,i,[u])];case 2:return e=t.sent(),b(e.data[0]),[3,5];case 3:return t.sent(),h(!0),[3,5];case 4:return m(!1),[7];case 5:return[2]}}))}))}),[i,r,u]),x=(0,o.useCallback)((function(e){return hr(t,void 0,void 0,(function(){var t,n;return gr(this,(function(o){switch(o.label){case 0:return(t=null===(n=e[e.length-1])||void 0===n?void 0:n.id)?[4,(a=r,u=i,l=c,s=t,hr(void 0,void 0,void 0,(function(){return gr(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,pe(a,u,l,s)];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}}))})))]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}var a,u,l,s}))}))}),[i,r,c]),S=function(e,t,n,r){return["comments",e,t,n,r]}(r,i,c,null!=l?l:null==y?void 0:y.firstComment.id),k=(0,We.useInfiniteQuery)({retry:1,queryKey:S,queryFn:function(e){var t=e.pageParam;return re(r,i,c,E.pageCounts.commentsPerPage,null!=t?t:null,null!=l?l:null==y?void 0:y.firstComment.id)},getNextPageParam:function(e){return e.nextPageCursor},getPreviousPageParam:function(e){return e.previousPageCursor},enabled:!f&&!!i&&!!c,onSuccess:function(e){var t=e.pages.reduce((function(e,t){return e.concat(t.data)}),[]);x(t)}}),P=k.data,N=k.isLoading,I=k.isFetchingNextPage,O=k.isFetchingPreviousPage,R=k.error,A=k.hasNextPage,T=k.refetch,j=k.fetchNextPage,L=k.fetchPreviousPage,M=(0,o.useMemo)((function(){var e,t=null!==(e=null==P?void 0:P.pages.reduce((function(e,t){return e.concat(t.data)}),[]))&&void 0!==e?e:[],n=new Set;return t.filter((function(e){return!n.has(e.id)&&(n.add(e.id),!0)}))}),[P]),D=!!R,F=!!A,_=(0,o.useCallback)((function(e){var t=e.newItems;x(t),w.setQueryData(S,(function(e){if(!e||0===e.pages.length)return{pages:[{data:t,nextPageCursor:"",previousPageCursor:""}],pageParams:[null]};var n=yr([],e.pages,!0),r=n.length-1,o=n[r];return n[r]=vr(vr({},o),{data:yr(yr([],o.data,!0),t,!0)}),vr(vr({},e),{pages:n})}))}),[x,w,S]),B=(0,o.useCallback)((function(e){w.setQueryData(S,(function(t){return t?vr(vr({},t),{pages:t.pages.map((function(t){return vr(vr({},t),{data:t.data.map((function(t){return un(t,e)?e:t}))})}))}):t}))}),[w,S]),U=(0,o.useCallback)((function(e){w.setQueryData(S,(function(t){if(!t)return t;var n=yr([],t.pages,!0);return n.length>0&&(n[0]=vr(vr({},n[0]),{data:e})),vr(vr({},t),{pages:n})}))}),[w,S]),z=(0,o.useMemo)((function(){if(!y)return!1;var e=y.firstComment.id;return!M.some((function(t){return t.id===e}))}),[y,M]),W=(0,o.useCallback)((function(e,t){var n=M;if(t){var o=M.find((function(e){return e.id===t}));if(!o)return null;var a=yn(r,i,o.threadId),c=w.getQueryData(a);n=((null==c?void 0:c.pages)||[]).reduce((function(e,t){return e.concat(t.data)}),[])}var u=n.find((function(t){return t.id===e}));return u||null}),[i,M,r,w]),V=(0,o.useCallback)((function(e){var t=M.find((function(t){return t.id===e}));if(t){var n=M.filter((function(t){return t.id!==e}));U(n)}}),[M,U]),H=(0,o.useCallback)((function(e){B(e)}),[B]),K=(0,o.useCallback)((function(e,t){var n=M.find((function(e){return e.id===t}));if(n){var o=yn(r,i,e.parentId);w.setQueryData(o,(function(t){return t?vr(vr({},t),{pages:t.pages.map((function(t){return vr(vr({},t),{data:t.data.map((function(t){return un(t,e)?e:t}))})}))}):t}))}}),[M,B]),q=(0,o.useCallback)((function(e){return hr(t,[e],Promise,(function(e){var t,n,o,a,u,l,d,f,m,p=e.content,v=e.parentCommentId,h=e.mentioningReplyId;return gr(this,(function(e){switch(e.label){case 0:return t=v,v===(null==y?void 0:y.firstComment.id)&&(t=void 0),[4,de(r,i,c,p,t)];case 1:return n=e.sent(),s(n.id),t?(o=W(t),a=yn(r,i,(null==o?void 0:o.threadId)||""),(u=w.getQueryData(a))?(l=!1,d=null!==(m=u.pages.map((function(e){return vr(vr({},e),{data:e.data.reduce((function(e,t){return e.push(t),t.id===h&&(l=!0,e.push(n)),e}),[])})})))&&void 0!==m?m:[],l||d[0].data.push(n),w.setQueryData(a,(function(e){return{pages:d,pageParams:null==e?void 0:e.pageParams}}))):o&&((f=vr({},o)).threadComments={comments:[n],nextPageCursor:"",previousPageCursor:"",hasMore:!1},f.threadId=n.parentId,B(f))):_({newItems:[n]}),[2]}}))}))}),[y,r,i,c,W,_,w,B,s]),X=(0,o.useCallback)((function(e){return hr(t,[e],Promise,(function(e){var t,n,o,a,u,l,s=e.content,d=e.commentId,f=e.parentCommentId;return gr(this,(function(e){switch(e.label){case 0:return t=f?null===(o=W(f))||void 0===o?void 0:o.threadId:void 0,[4,ce(r,i,null!=t?t:c,d,s)];case 1:return n=e.sent(),f?K(n,f):((null===(a=n.replies)||void 0===a?void 0:a.length)||(n.replies=null!==(l=null===(u=W(d))||void 0===u?void 0:u.replies)&&void 0!==l?l:[]),H(n)),[2]}}))}))}),[i,r,c,W,H,K]),Q=(0,o.useCallback)((function(e,n){return hr(t,void 0,Promise,(function(){var t,o;return gr(this,(function(a){switch(a.label){case 0:if(a.trys.push([0,2,,3]),t=c,n){if(o=M.find((function(e){return e.id===n})),!o)return[2,!1];if(!o.threadId)return[2,!1];t=o.threadId}return[4,fe(r,i,t,e)];case 1:return a.sent(),n||V(e),[3,3];case 2:return a.sent(),[2,!1];case 3:return[2,!0]}}))}))}),[c,r,i,M,V]),Y=(0,o.useCallback)((function(){return hr(t,void 0,void 0,(function(){var e,t;return gr(this,(function(n){switch(n.label){case 0:return y?[4,ve(r,i,c)]:[2];case 1:return e=n.sent(),t=vr(vr({},y),{notificationPreference:e.preference}),b(t),[2]}}))}))}),[i,r,c,y]),Z=(0,o.useCallback)((function(e){return hr(t,void 0,void 0,(function(){var t,n,o;return gr(this,(function(a){switch(a.label){case 0:return t=M.find((function(t){return t.id===e})),t?[4,he(r,i,c,e)]:[2];case 1:return n=a.sent(),o=vr(vr({},t),{notificationPreference:n.preference}),B(o),[2]}}))}))}),[i,M,r,c,B]),$=(0,o.useCallback)((function(){return hr(t,void 0,void 0,(function(){var e,t,n;return gr(this,(function(o){switch(o.label){case 0:return y?(e=y.notificationPreference,t=!e||e===G.None,[4,ge(r,i,c,t)]):[2];case 1:return o.sent(),n=vr(vr({},y),{notificationPreference:t?G.All:G.None}),b(n),[2]}}))}))}),[r,i,c,y]),J=(0,o.useCallback)((function(e){return hr(t,void 0,void 0,(function(){var t,n,o,a;return gr(this,(function(u){switch(u.label){case 0:return t=M.find((function(t){return t.id===e})),t?(n=t.notificationPreference,o=n===G.None,[4,ye(r,i,c,e,o)]):[2];case 1:return u.sent(),a=vr(vr({},t),{notificationPreference:o?G.All:G.None}),B(a),[2]}}))}))}),[r,i,c,M,B]);return(0,o.useEffect)((function(){i&&C()}),[C,i]),(0,o.useEffect)((function(){!f&&i&&T()}),[f,i]),a().createElement(br.Provider,{value:{isLoadingPost:f,loadingPostError:v,fetchPost:C,post:y,handleCreateComment:q,handleEditComment:X,isLoadingComments:N,refetchComments:T,isFetchingNextCommentsPage:I,isFetchingPreviousCommentsPage:O,fetchNextCommentsPage:j,fetchPreviousCommentsPage:L,fetchPostNotificationPreference:Y,fetchCommentNotificationPreference:Z,togglePostNotifications:$,toggleCommentNotifications:J,errorLoadingComments:D,comments:M,getComment:W,handleDeleteComment:Q,hasNextComments:F,hasPreviousComments:z}},n)}var Cr=(0,o.createContext)(void 0),xr=function(){var e=(0,o.useContext)(Cr);if(!e)throw new Error("useComposer must be used within a ComposerProvider");return e};function Sr(e){var t=e.children,n=(0,o.useState)(),r=n[0],i=n[1],c=(0,o.useState)(),u=c[0],l=c[1],s=(0,o.useState)(),d=s[0],f=s[1],m=(0,o.useState)(),p=m[0],v=m[1],h=(0,o.useRef)(null),g=(0,o.useCallback)((function(){var e;null===(e=h.current)||void 0===e||e.focus()}),[h]),y=(0,o.useCallback)((function(){l(void 0),i(void 0),f(void 0)}),[]),b=(0,o.useCallback)((function(e){(u!==e||r)&&(y(),l(e),g())}),[u,r,y,g]),w=(0,o.useCallback)((function(e,t){r!==t&&(y(),l(e),i(t),g())}),[r,y,g]),E=(0,o.useCallback)((function(e,t){d!==e&&(y(),f(e),v(t),g())}),[d,y,g]),C=(0,o.useMemo)((function(){return d?p:u}),[d,u,p]),x=(0,o.useMemo)((function(){return d||(r||u)}),[d,r,u]);return a().createElement(Cr.Provider,{value:{replyingToCommentId:u,mentioningReplyId:r,highlightedCommentId:x,parentCommentId:C,editingCommentId:d,editingCommentParentId:p,setReplyToCommentOrPost:b,setReplyToCommentReply:w,setEditComment:E,resetComposerState:y,commentComposerRef:h}},t)}var kr=(0,s.withTranslations)((function(t){var n=t.replies,r=t.onShowReplies,o=t.onLoadPrevious,i=t.onLoadNext,c=t.isLoading,u=t.isFetchingMore,l=t.parentId,s=t.hasPrevious,d=t.hasNext,f=t.loadingError,m=t.translate,p=xr().highlightedCommentId,v=Ue.use.blockedUserList();return!f||n&&0!==n.length?c?a().createElement("div",{className:"group-forums-comment-replies group-forums-comment-replies-loading"},a().createElement(ir,null)):a().createElement("div",{className:"groups-forums-comment-replies group-forums-comment-replies-loaded"},s&&!u&&a().createElement("div",{className:"groups-forums-comment-replies-show-more"},a().createElement("div",{role:"button",tabIndex:0,onClick:o,className:"groups-forums-comment-replies-show-more-btn"},a().createElement("div",{className:"groups-forums-comment-replies-show-more-dash"}),m("Action.ShowMoreReplies"))),n&&n.map((function(t){var n=p===t.id;return v.length>0&&v.includes(t.createdBy)?null:a().createElement("div",{key:t.id,className:"groups-forums-comment-reply"},a().createElement(ro,{key:t.id,variant:e.Reply,isActive:n,id:t.id,createdBy:t.createdBy,creatorInfo:t.creatorInfo,createdAt:t.createdAt,updatedAt:t.updatedAt,content:t.content.plainText,threadId:null,channelId:t.parentId,parentCommentId:l,reactions:t.reactions}))})),d&&!u&&a().createElement("div",{className:"groups-forums-comment-replies-show-more"},a().createElement("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),i())},className:"groups-forums-comment-replies-show-more-btn"},a().createElement("div",{className:"groups-forums-comment-replies-show-more-dash"}),m("Action.ShowMoreReplies"))),u&&a().createElement("div",{className:"spinner spinner-default spinner-infinite-scroll"})):a().createElement("div",{className:"groups-forums-comment-replies-show-more"},a().createElement("div",{role:"button",tabIndex:0,onClick:r,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r())},className:"groups-forums-comment-replies-show-more-btn"},a().createElement("div",{className:"groups-forums-comment-replies-show-more-dash"}),m("Action.ShowReplies")))}),d),Pr=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Nr=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Ir=function(e){return Pr(void 0,void 0,Promise,(function(){var t,n,r;return Nr(this,(function(o){switch(o.label){case 0:return t=S.urls.getUsersInfoURL,n={userIds:[e]},r={url:t,withCredentials:!1},[4,q.httpService.post(r,n)];case 1:return[2,o.sent().data.data]}}))}))},Or=function(){return a().createElement("div",{className:"group-forums-replying-to-skeleton"},a().createElement("div",{className:"group-forums-replying-to-avatar-skeleton group-forums-skeleton"}),a().createElement("div",{className:"group-forums-replying-to-name-skeleton group-forums-skeleton"}))},Rr=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Ar=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Tr=(0,s.withTranslations)((function(e){var n=e.userId,r=e.translate,i=(0,o.useState)(!0),c=i[0],l=i[1],s=(0,o.useState)(null),d=s[0],f=s[1],m=(0,o.useCallback)((function(){return Rr(void 0,void 0,void 0,(function(){var e;return Ar(this,(function(t){switch(t.label){case 0:l(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,Ir(n)];case 2:return(e=t.sent()).length&&f(e[0]),[3,5];case 3:return t.sent(),f(null),[3,5];case 4:return l(!1),[7];case 5:return[2]}}))}))}),[n]);return(0,o.useEffect)((function(){m()}),[m]),c||!d?a().createElement(Or,null):a().createElement("div",{className:"group-forums-replying-to-display"},a().createElement(u.Link,{className:"group-forums-replying-to-username-link text-default",url:t.Endpoints.getAbsoluteUrl("/users/".concat(d.id,"/profile"))},a().createElement(at.Thumbnail2d,{type:at.ThumbnailTypes.avatarHeadshot,size:at.ThumbnailAvatarHeadshotSize.size48,targetId:d.id,containerClass:"group-forums-replying-to-thumbnail",altName:d.displayName})),a().createElement("div",{className:"group-forums-replying-to-text text-default"},r("Label.ReplyingTo"),a().createElement("span",{className:"replying-to-user-name text-emphasis font-bold"}," ",d.displayName," ")))}),d),jr=function(e){var t=(0,o.useCallback)((function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),null==e||e())}),[e]);return e?t:void 0},Lr=function(){return Lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Lr.apply(this,arguments)},Mr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Dr=function(e){var t=e.onClick,n=e.children,r=Mr(e,["onClick","children"]),o=jr(t);return a().createElement("div",Lr({role:"button",tabIndex:0,onClick:t,onKeyDown:o},r),n)};Dr.defaultProps={onClick:void 0};var Fr=Dr,_r=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Br=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Ur=(0,s.withTranslations)((function(e){var t=e.className,n=e.autoFocus,r=e.defaultContent,i=e.errorMessage,c=e.label,l=e.disabled,s=e.submitDisabled,d=e.onChange,f=e.onSubmit,p=e.onCancel,v=e.onClose,h=e.inputRef,g=e.translate,y=(0,o.useState)(null!=r?r:""),b=y[0],w=y[1],C=(0,o.useState)(!1),x=C[0],S=C[1],k=(0,o.useRef)(null),P=h||k,N=(0,o.useMemo)((function(){var e=function(e){return Hn(e,"Error.ForumContentValidationMinLength",E.limits.commentContentMinLength)}(b);if(e)return g(e)}),[b,g]),I=_n("comment"),O=I.isActive,R=I.remainingSeconds,A=(0,o.useMemo)((function(){return O&&R>0&&!l?g("Error.RetryAfterSeconds",{seconds:R}):N}),[O,R,N,g,l]),T=(0,o.useCallback)((function(e){w(e),null==d||d(e)}),[d]),j=(0,o.useCallback)((function(){var e;null===(e=P.current)||void 0===e||e.clearText(),null==T||T(""),null==p||p()}),[P,T,p]),L=(0,o.useCallback)((function(){return _r(void 0,void 0,void 0,(function(){return Br(this,(function(e){switch(e.label){case 0:return S(!0),[4,f(b)];case 1:return e.sent(),S(!1),[2]}}))}))}),[f,b]),M=(0,o.useMemo)((function(){var e=b.trim();return(!r||e!==r.trim())&&e.length>0}),[b,r]),D=(0,o.useMemo)((function(){return i}),[i]),F=(0,o.useMemo)((function(){return!M||l||s||!!N||O}),[N,l,M,s,O]);return a().createElement("div",{className:m()("content-composer",t)},c&&a().createElement("div",{className:"content-composer-header"},a().createElement("div",{className:"content-composer-label"},c),v&&a().createElement(Fr,{"aria-label":g("Action.Close"),onClick:v,className:"content-composer-close-button"},a().createElement("span",{className:"content-composer-close-icon"}))),a().createElement("div",{className:"content-composer-body"},a().createElement(Un,{ref:P,className:"content-composer-textarea",textAreaClassName:"content-composer-textarea-input",placeholder:g("Label.WriteComment"),defaultValue:r,showCharacterCount:!1,maxTextFieldHeight:100,locked:l,validationError:A,onChange:T,onHotKey:function(e){e!==Dn.Submit||F||L()},autoFocus:n,autoResize:!0}),a().createElement("div",{className:"content-composer-footer"},a().createElement("div",{className:"content-composer-buttons"},!!p&&a().createElement(u.Button,{variant:u.Button.variants.secondary,size:u.Button.sizes.small,width:u.Button.widths.default,onClick:j,isDisabled:l},g("Action.Cancel")),a().createElement(u.Button,{variant:u.Button.variants.growth,size:u.Button.sizes.small,width:u.Button.widths.default,onClick:L,isDisabled:F,isLoading:x},g("Action.Submit"))),!!D&&a().createElement("div",{className:m()({"content-composer-error":!!i,"content-composer-validation-error":!!N})},!!i&&a().createElement("div",{className:"content-composer-error-icon"},a().createElement("span",{className:"icon-status-alert"})),a().createElement("div",{className:m()({"content-composer-error-message":!!i,"content-composer-validation-error-message text-error":!!N})},D)))))}),d),zr=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Wr=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Vr=function(e){var t=e.editingCommentId,n=e.parentCommentId,r=e.mentioningReplyId,a=e.translate,i=wr(),c=i.handleCreateComment,l=i.handleEditComment,s=(0,u.useSystemFeedback)().systemFeedbackService,d=(0,o.useState)(""),f=d[0],m=d[1],p=Ue.use.setCommentRateLimitExpiresAt(),v=(0,o.useCallback)((function(e){var t,n,r=e;if(r.status===q.httpResponseCodes.tooManyAttempts&&r.retryAfterSeconds)p(Date.now()+1e3*r.retryAfterSeconds);else{if(r.status===q.httpResponseCodes.badRequest){var o=null===(n=null===(t=r.data)||void 0===t?void 0:t.errors)||void 0===n?void 0:n[0];if((null==o?void 0:o.code)===E.errorCodes.contentModerated)return void m(a("Error.CommentModerationFailed"))}s.warning(a("NetworkError"))}}),[a,s,p]),h=(0,o.useCallback)((function(){m("")}),[]),g=(0,o.useCallback)((function(e){return zr(void 0,void 0,void 0,(function(){var o;return Wr(this,(function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),t?[4,l({content:e,commentId:t,parentCommentId:n})]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,c({content:e,parentCommentId:n,mentioningReplyId:r})];case 3:a.sent(),a.label=4;case 4:return[2,!0];case 5:return o=a.sent(),v(o),[2,!1];case 6:return[2]}}))}))}),[t,n,r,c,l,v]);return{submitComment:g,commentSubmissionError:f,clearCommentSubmissionError:h}},Hr=function(){return Hr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hr.apply(this,arguments)},Gr=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Kr=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},qr=(0,s.withTranslations)((function(e){var t=e.autoFocus,n=e.showCancelButton,r=void 0===n||n,i=e.translate,c=wr(),u=c.post,l=c.comments,s=c.getComment,d=Ue.use.groupId(),f=Ue.use.postId(),m=xr(),p=m.replyingToCommentId,v=m.parentCommentId,h=m.mentioningReplyId,g=m.editingCommentId,y=m.resetComposerState,b=m.commentComposerRef,w=(0,o.useCallback)((function(){var e;null===(e=null==b?void 0:b.current)||void 0===e||e.clearText(),y()}),[b,y]),E=Vr({editingCommentId:g,parentCommentId:v,mentioningReplyId:h,translate:i}),C=E.submitComment,x=E.commentSubmissionError,S=E.clearCommentSubmissionError,k=(0,o.useCallback)((function(e){return Gr(void 0,void 0,void 0,(function(){return Kr(this,(function(t){switch(t.label){case 0:return en(Hr({groupId:d},g?{clickTargetType:"editComment",clickTargetId:g}:{clickTargetType:"createComment",clickTargetId:f})),[4,C(e)];case 1:return t.sent()&&w(),[2]}}))}))}),[d,f,g,C,w]),P=(0,o.useCallback)((function(e){x&&S()}),[x,S]),N=(0,o.useMemo)((function(){if(h){var e=s(h,v);if(e)return e.creatorInfo.displayName}return""}),[v,h,s]),I=(0,o.useMemo)((function(){var e;if(g){var t=s(g,v);return null!==(e=null==t?void 0:t.content.plainText)&&void 0!==e?e:""}return N?"@".concat(N," "):""}),[g,v,N,s]),O=(0,o.useState)(I),R=O[0],A=O[1],T=(0,o.useMemo)((function(){if(p&&p!==(null==u?void 0:u.firstComment.id)){var e=s(p);if(e)return e.createdBy}}),[u,p,s]),j=(0,o.useCallback)((function(){return g?i(v?"Label.EditReply":"Label.EditComment"):T?a().createElement(Tr,{userId:T}):null}),[v,g,T,i]);return(0,o.useEffect)((function(){var e;R!==I&&(A(I),null===(e=null==b?void 0:b.current)||void 0===e||e.setText(I))}),[g,b,I,R,l,v]),a().createElement(Ur,{autoFocus:t,defaultContent:I,errorMessage:x,label:j(),submitDisabled:!!x,onChange:P,onSubmit:k,onCancel:r?w:void 0,onClose:w,inputRef:b})}),d),Xr=function(){return Xr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xr.apply(this,arguments)},Qr=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Yr=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Zr=(0,s.withTranslations)((function(e){var n=e.createdBy,r=e.commentId,i=e.button,c=e.isReply,l=e.parentCommentId,s=e.channelId,d=e.isPostLocked,f=(e.onSubscribe,e.translate),m=Tt(),p=m.canEditComment,v=m.canDeleteComment,h=(m.canSubscribe,Ft()),g=h.canBanUser,y=h.canKickUser,b=h.canBlockUser,w=Vt(),C=w.openBanDialog,x=w.openKickDialog,S=w.openBlockDialog,k=Ue.use.groupId(),P=Ue.use.categoryShortId(),N=Ue.use.categoryId(),I=Ue.use.categoryName(),O=Ue.use.postId(),R=Ue.use.isCategoryArchived(),A=Ue.use.postShortId(),T=wr(),j=T.comments,L=T.handleDeleteComment,M=T.post,D=xr().setEditComment,F=(0,u.useSystemFeedback)().systemFeedbackService,_=(0,We.useQueryClient)(),B=(0,o.useMemo)((function(){return p(n)&&!d&&!R}),[p,n,d,R]),U=(0,o.useMemo)((function(){return b(n)}),[b,n]),z=(0,o.useMemo)((function(){return v(n)&&!R}),[v,n,R]),W=(0,o.useMemo)((function(){return g(n)}),[g,n]),V=(0,o.useMemo)((function(){return y(n)}),[y,n]),H=(0,o.useCallback)((function(){D(r,l)}),[r,l,D]),K=(0,o.useCallback)((function(){return Qr(void 0,void 0,void 0,(function(){var e,t,n,o,a;return Yr(this,(function(i){switch(i.label){case 0:return[4,L(r,l)];case 1:return i.sent()||F.warning(f("NetworkError")),c&&(e=j.find((function(e){return e.id===l})),t=yn(k,N,(null==e?void 0:e.threadId)||""),(n=_.getQueryData(t))&&(o=null!==(a=n.pages.map((function(e){return Xr(Xr({},e),{data:e.data.filter((function(e){return e.id!==r}))})})))&&void 0!==a?a:[],_.setQueryData(t,(function(e){return{pages:o,pageParams:null==e?void 0:e.pageParams}})))),[2]}}))}))}),[L,r,l,F,f,c,k,N,_,j]),q=(0,o.useCallback)((function(){return Qr(void 0,void 0,void 0,(function(){var e;return Yr(this,(function(t){switch(t.label){case 0:if(!navigator.clipboard)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),e=E.deepLinks.groupForumCommentUrl(k,P,I,A,c?s:(null==M?void 0:M.name)||"",r),[4,navigator.clipboard.writeText(e)];case 2:return t.sent(),F.success(f("Label.LinkCopied")),[3,4];case 3:return t.sent(),F.warning(f("Error.CopyLink")),[3,4];case 4:return[2]}}))}))}),[N,r,k,O,F,f,c,s]),X=(0,o.useCallback)((function(){return Qr(void 0,void 0,void 0,(function(){var e,n;return Yr(this,(function(o){switch(o.label){case 0:return[4,qt()];case 1:return o.sent().EnableGroupComment?(e=E.urls.reportAbuseRevamp({targetId:k.toString(),submitterId:t.CurrentUser.userId,abuseVector:"groupforumcomment",custom:{stringId:r,conversationId:s,forumPostId:O}}),window.location.href=e,[2]):(n=E.urls.reportAbuse(k,O,s,r,!0),window.location.href=n,[2])}}))}))}),[r,k,O,s]),Q=(0,o.useMemo)((function(){var e=j.find((function(e){return e.id===r}));return[(null==e?void 0:e.notificationPreference)===G.All,void 0!==(null==e?void 0:e.notificationPreference)]}),[j,r]),Y=(Q[0],Q[1],(0,o.useCallback)((function(){x(k,n,K)}),[n,k,x,K])),Z=(0,o.useCallback)((function(){C(k,n,K)}),[n,k,C,K]);return a().createElement(u.Popover,{id:"group-forums-comment-dropdown-menu",button:i,trigger:"click",placement:"bottom"},a().createElement("ul",{className:"dropdown-menu",role:"menu"},B&&a().createElement(zt,{translateKey:c?"Label.EditReply":"Label.EditComment",action:H}),z&&a().createElement(zt,{translateKey:c?"Label.DeleteReply":"Label.DeleteComment",action:K}),V&&a().createElement(zt,{translateKey:"Action.KickUser",action:Y}),W&&a().createElement(zt,{translateKey:"Action.BanUser",action:Z}),navigator.clipboard&&a().createElement(zt,{translateKey:"Label.CopyLink",action:q}),U&&a().createElement(zt,{translateKey:"Label.BlockUser",action:function(){S(n)}}),!1,a().createElement(zt,{translateKey:"Label.ReportAbuse",action:X})))}),d),$r=function(e){var t=e.translate,n=Tt().canCreateComment,r=wr().post;return Ue.use.isCategoryArchived()?{disabled:!0,disabledTooltip:t("Description.PostArchived")}:n?(null==r?void 0:r.isLocked)?{disabled:!0,disabledTooltip:t("Description.NoReplyLocked")}:{disabled:!1}:{disabled:!0,disabledTooltip:t("Description.NoReplyPermission")}},Jr=function(e){var t=e.onComplete,n=(0,o.useRef)(null),r=a().useState(!1),i=r[0],c=r[1];return(0,o.useEffect)((function(){var e=n.current;if(e){var t=e.getBoundingClientRect(),r=t.top,o=t.bottom;(r<150||o>window.innerHeight-150)&&e.scrollIntoView({behavior:"smooth",block:"center"})}}),[]),(0,o.useEffect)((function(){var e=n.current;if(e){var r=new IntersectionObserver((function(e){e[0].isIntersecting&&!i&&(c(!0),setTimeout(t,2e3))}),{root:null,threshold:.5});return r.observe(e),function(){r.unobserve(e)}}}),[i,t]),a().createElement("div",{className:m()("scroll-flash-overlay",i&&"scroll-flash-overlay-active"),ref:n})},eo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},to=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},no=function(e){var t=e.children;return e.hasRail?a().createElement("div",{className:"group-forums-comment-rail"},t):a().createElement(a().Fragment,null,t)},ro=(0,s.withTranslations)((function(t){var n=t.id,r=t.threadId,i=t.channelId,c=t.title,s=t.variant,d=t.isActive,f=t.createdBy,p=t.createdAt,v=t.updatedAt,h=t.content,g=t.parentCommentId,y=t.reactions,b=t.creatorInfo,w=t.initialThreadComments,C=t.translate,x=(0,l.useHistory)(),S=(0,u.useSystemFeedback)().systemFeedbackService,k=wr(),P=k.post,N=k.togglePostNotifications,I=k.toggleCommentNotifications,O=xr(),R=O.setReplyToCommentOrPost,A=O.setReplyToCommentReply,T=Tt().canReact,j=Ue.use.threadCommentId(),L=(0,o.useState)(!!j),M=L[0],D=L[1],F=Ue.use.groupId(),_=Ue.use.categoryId(),B=Ue.use.categoryName(),U=Ue.use.postId(),z=Ue.use.activeCommentId(),W=Ue.use.useInlineReply(),V=Ue.use.setActiveCommentId(),H=Ue.use.isCategoryArchived(),G=Ot().fetchSubscriberExperimentValues,K=function(){x.push(E.router.getCategoryRoute(_,B))},q=(0,We.useInfiniteQuery)({retry:1,queryKey:yn(F,_,r||""),queryFn:function(e){return eo(void 0,[e],void 0,(function(e){var t,n,r,o=e.queryKey,a=e.pageParam;return to(this,(function(e){switch(e.label){case 0:return t=o[1],n=o[2],r=o[3],[4,re(t,n,r,E.pageCounts.commentsPerPage,a,j)];case 1:return[2,e.sent()]}}))}))},initialData:w?{pages:[{data:w.comments,nextPageCursor:w.nextPageCursor,previousPageCursor:w.previousPageCursor}],pageParams:[w.nextPageCursor]}:void 0,getPreviousPageParam:function(e){return e.previousPageCursor||void 0},getNextPageParam:function(e){return e.nextPageCursor||void 0},enabled:!!(F&&_&&r)&&M}),X=q.isLoading,Q=q.isFetchingPreviousPage,Y=q.isFetchingNextPage,Z=q.data,$=q.fetchPreviousPage,J=q.fetchNextPage,ee=q.isError,te=q.hasPreviousPage,ne=q.hasNextPage,oe=(0,o.useMemo)((function(){return(Z?Z.pages:[]).reduce((function(e,t){return e.concat(t.data)}),[])}),[Z]),ae=(0,o.useMemo)((function(){var e=!!w&&(!!w.comments.length&&!!oe.length&&w.comments[0].id!==oe[0].id);return M&&void 0!==te?te&&e:e}),[te,w,oe,M]),ie=(0,o.useMemo)((function(){return M&&void 0!==ne?ne:!!(null==w?void 0:w.hasMore)}),[ne,w,M]),ce=(0,o.useMemo)((function(){return s===e.Comment&&null!==r&&oe.length>0}),[r,s,oe]),ue=(0,o.useMemo)((function(){return!T||H}),[T,H]),le=(0,o.useCallback)((function(){D(!0),en({groupId:F,clickTargetType:"showCommentReplies",clickTargetId:n})}),[F,n]),se=(0,o.useCallback)((function(){M?J():D(!0)}),[J,M,D]),de=(0,o.useCallback)((function(){$()}),[$]),fe=(0,o.useCallback)((function(){s===e.Reply&&g?(A(g,n),en({groupId:F,clickTargetType:"replyToReply",clickTargetId:n})):s!==e.Reply&&(R(n),en({groupId:F,clickTargetType:"replyToComment",clickTargetId:n}))}),[F,n,g,R,A,s]),pe=(0,o.useCallback)((function(){var t=s===e.Post;en({groupId:F,clickTargetType:t?"openPostMenuFromComment":"openCommentMenu",clickTargetId:n}),t&&G()}),[n,s,F]);(0,o.useEffect)((function(){ee&&S.warning(C("NetworkError"))}),[S,C,ee]);var ve=function(){return a().createElement(ot,{as:"button",icon:"icon-filled-three-dots-horizontal",variant:"Utility",size:"Medium",ariaLabel:C("Action.More"),onClick:pe})},he=(0,o.useCallback)((function(){try{s===e.Post?N():I(n),S.success(C("Message.NotificationPreferenceUpdated"))}catch(e){S.warning(C("NetworkError"))}}),[n,s,S,N,I,C]),ge=(0,o.useCallback)((function(){V()}),[V]),ye=$r({translate:C}),be=ye.disabled,we=ye.disabledTooltip,Ee=W&&d,Ce=b.displayName,xe=b.hasVerifiedBadge,Se=b.groupRoleName,ke=p!==v?new Date(v):void 0;return a().createElement("div",{className:m()("group-forums-comment",s&&"group-forums-comment-variant-".concat(s),d&&"group-forums-comment-active"),"data-id":n},a().createElement("div",{className:"group-forums-comment-header"},a().createElement(lt,{userId:f,createdTime:p,userDisplayName:Ce,hasVerifiedBadge:xe,groupRoleName:null!=Se?Se:C("Label.FormerMember")}),a().createElement("div",{className:"group-forums-comment-menu"},function(){var t;return s===e.Post?P?a().createElement(Yt,{post:P,button:ve(),onDelete:K,onSubscribe:he}):null:a().createElement(Zr,{button:ve(),isReply:s===e.Reply,createdBy:f,commentId:n,parentCommentId:g,threadId:r,channelId:i,isPostLocked:null!==(t=null==P?void 0:P.isLocked)&&void 0!==t&&t,onSubscribe:he})}())),c&&a().createElement("h2",{className:"group-forums-comment-title"},c.trim()),a().createElement(no,{hasRail:ce},a().createElement("div",{className:"group-forums-comment-content"},h.trim(),ke&&a().createElement("span",{className:"group-forums-comment-content-edited-marker",title:ke.toLocaleString()}," ",C("Label.EditedMarker"))),a().createElement("div",{className:"groups-forums-comment-metadata-section"},a().createElement("div",{className:"groups-forums-comment-metadata-reaction-section"},a().createElement(pr,{initialReactions:y,onToggleReaction:function(t,r){return eo(void 0,void 0,void 0,(function(){return to(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,me(F,s===e.Reply?i:U,n,t,r)];case 1:return o.sent(),en({groupId:F,clickTargetType:"toggleCommentReaction".concat(r?"On":"Off"),clickTargetId:t}),[2,!0];case 2:return o.sent(),S.warning(C("NetworkError")),[3,3];case 3:return[2,!1]}}))}))},viewOnly:ue})),s!==e.Post&&a().createElement(In,{id:"reply-tooltip-".concat(n),placement:"left",content:we,enabled:be},a().createElement(Fr,{onClick:be?void 0:fe,className:m()({"groups-forums-comment-metadata-reply-section":!0,disabled:be})},a().createElement("span",{className:"group-forums-comment-reply-icon"}),C("Action.Reply")))),Ee&&a().createElement("div",{className:m()("group-forums-inline-comment-composer-container",s===e.Reply&&"group-forums-inline-comment-composer-reply-container",s===e.Comment&&"group-forums-inline-comment-composer-comment-container")},a().createElement("div",{className:"group-forums-inline-comment-composer"},a().createElement(qr,{autoFocus:!0,showCancelButton:!0}))),ce&&a().createElement(kr,{replies:oe,onShowReplies:le,onLoadPrevious:de,onLoadNext:se,isLoading:X,isFetchingMore:Y||Q,hasPrevious:ae,hasNext:ie,loadingError:ee,parentId:n}),z===n&&a().createElement(Jr,{onComplete:ge})))}),d),oo=(0,s.withTranslations)((function(t){var n=t.translate,r=wr(),o=r.refetchComments,i=r.comments,c=r.fetchNextCommentsPage,u=r.fetchPreviousCommentsPage,l=r.isFetchingNextCommentsPage,s=r.isFetchingPreviousCommentsPage,d=r.isLoadingComments,f=r.post,m=r.errorLoadingComments,p=r.hasNextComments,v=r.hasPreviousComments,h=xr().highlightedCommentId,g=Ue.use.blockedUserList(),y=Ue.use.activeCommentId();if(m)return a().createElement(gn,{iconClassName:"icon-status-alert",heading:n("Error.LoadCommentsTitle"),message:n("Error.ReloadingSubtitle"),buttonText:n("Action.RetryLoadingComments"),onClick:o});if(d||!f)return a().createElement("div",{className:"group-forums-comments-section group-forums-comments-section-loading"},a().createElement(ir,null),a().createElement(ir,null),a().createElement(ir,null));if(i.length<=1){var b=(null==f?void 0:f.isLocked)?"locked-status-icon":"chat-side-icon",w=(null==f?void 0:f.isLocked)?n("Label.LockedForumPost"):n("Label.NoCommentsFoundHeader"),E=(null==f?void 0:f.isLocked)?n("Message.LockedForumPostComment"):n("Label.NoCommentsFoundText");return a().createElement(gn,{iconClassName:b,heading:w,message:E})}var C=v&&!s,x=p&&!l;return a().createElement("div",{className:"group-forums-comments-section"},C&&a().createElement("div",{className:"group-forums-comments-section-loader-top"},!y&&a().createElement(an,{onLoadMore:u,viewingThreshold:1})),s&&a().createElement("div",{className:"group-forums-comments-section-spinner spinner spinner-default spinner-infinite-scroll"}),i.map((function(t){return t.id===f.firstComment.id||g.length>0&&g.includes(t.createdBy)?null:a().createElement(ro,{key:t.id,id:t.id,createdBy:t.createdBy,creatorInfo:t.creatorInfo,createdAt:t.createdAt,updatedAt:t.updatedAt,content:t.content.plainText,threadId:t.threadId,channelId:t.parentId,variant:e.Comment,isActive:h===t.id,reactions:t.reactions,initialThreadComments:t.threadComments})})),x&&a().createElement("div",{className:"group-forums-comments-section-loader-bottom"},a().createElement(an,{onLoadMore:c,viewingThreshold:1})),l&&a().createElement("div",{className:"group-forums-comments-section-spinner spinner spinner-default spinner-infinite-scroll"}))}),d),ao=function(e){var t=e.categoryName,n=e.backRoute,r=e.postTitle,o=e.containerClassName;return a().createElement("div",{className:m()("group-forums-post-navigation",o)},a().createElement(l.Link,{to:n,className:"group-forums-post-navigation-category text-link"},t),r&&a().createElement("div",{className:"group-forums-post-navigation-post-title text-default"}," > ",r))},io=function(){return io=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},io.apply(this,arguments)},co=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},uo=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},lo=(0,s.withTranslations)((function(e){var t=e.translate,n=Ue.use.groupId(),r=Ue.use.postId(),i=(0,o.useRef)(null),c=Vr({translate:t}),u=c.submitComment,l=c.commentSubmissionError,s=c.clearCommentSubmissionError,d=(0,o.useCallback)((function(e){return co(void 0,void 0,void 0,(function(){var t;return uo(this,(function(o){switch(o.label){case 0:return en(io({groupId:n},{clickTargetType:"createComment",clickTargetId:r})),[4,u(e)];case 1:return o.sent()&&(null===(t=i.current)||void 0===t||t.clearText()),[2]}}))}))}),[n,r,u]),f=(0,o.useCallback)((function(e){l&&s()}),[l,s]),p=$r({translate:t}),v=p.disabled,h=p.disabledTooltip;return a().createElement(In,{containerClassName:"desktop-persistent-composer-container",id:"desktop-persistent-composer-tooltip",placement:"top",content:h,enabled:v},a().createElement("div",{className:m()("desktop-persistent-composer",v&&"disabled")},a().createElement(Ur,{autoFocus:!1,errorMessage:l,disabled:v,submitDisabled:!!l,onChange:f,onSubmit:d,inputRef:i})))}),d),so=function(e){var t=e.postScrollContainerRef,n=wr().isFetchingPreviousCommentsPage,r=nr().isSmallViewport,a=(0,o.useState)(0),i=a[0],c=a[1];(0,o.useEffect)((function(){var e=r?t.current:document.documentElement;if(e)if(n)c(e.scrollHeight);else if(!n&&i>0){var o=e.scrollHeight-i;e.scrollTop+=o,c(0)}}),[i,n,r,t]),(0,o.useEffect)((function(){return document.documentElement.classList.add("overflow-hidden-native"),function(){document.documentElement.classList.remove("overflow-hidden-native")}}),[])},fo=function(){return fo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fo.apply(this,arguments)},mo=function(t){var n=t.translate,r=(0,l.useHistory)(),i=(0,l.useRouteMatch)(),c=wr(),u=c.isLoadingPost,s=c.post,d=c.loadingPostError,f=c.fetchPost,m=xr().highlightedCommentId,p=Ue.use.blockedUserList(),v=Ue.use.categoryShortId(),h=Ue.use.categoryName(),g=Ue.use.useInlineReply(),y=Ue.use.isCategoryArchived(),b=Tt().canCreateComment,w=(0,o.useRef)(null);so({postScrollContainerRef:w});var C=(0,o.useMemo)((function(){return b&&!(null==s?void 0:s.isLocked)&&!g&&!y}),[b,null==s?void 0:s.isLocked,g,y]),x=(0,o.useCallback)((function(){r.push(E.router.getCategoryRoute(v,h))}),[v,h,r]);(0,o.useEffect)((function(){(null==s?void 0:s.createdBy)&&p.includes(s.createdBy)&&r.replace(E.router.getCategoryRoute(v,h))}),[p,null==s?void 0:s.createdBy,v,h,r]),(0,o.useEffect)((function(){v&&i.params.categoryShortId!==v&&r.replace(E.router.getCategoryRoute(v,h))}),[i,r,v,h]),(0,o.useEffect)((function(){u||s||d||x()}),[u,d,x,s]);return a().createElement("div",{className:"group-forums-post"},a().createElement(ao,{categoryName:h,backRoute:E.router.getCategoryRoute(v,h),postTitle:null==s?void 0:s.name,containerClassName:"hide-on-native"}),a().createElement(zn,{headerText:h,onBack:x,containerClassName:"show-on-native"}),a().createElement("div",{className:"group-forums-post-scroll-container",ref:w},a().createElement("div",{className:"group-forums-post-content"},d?a().createElement(gn,{iconClassName:"icon-status-alert",heading:n("Error.LoadPostTitle"),message:n("Error.ReloadingSubtitle"),buttonText:n("Action.RetryLoadingPost"),onClick:f}):u||!s?a().createElement(ar,null):a().createElement(ro,{title:s.name,variant:e.Post,isActive:m===s.firstComment.id,id:s.firstComment.id,createdBy:s.firstComment.createdBy,createdAt:s.firstComment.createdAt,updatedAt:s.firstComment.updatedAt,creatorInfo:s.firstComment.creatorInfo,content:s.firstComment.content.plainText,threadId:null,channelId:s.firstComment.parentId,reactions:s.firstComment.reactions})),g&&a().createElement("div",{className:"group-forums-post-comment-composer"},a().createElement(lo,null)),a().createElement("div",{className:"group-forums-post-divider"}),a().createElement("div",{className:"group-forums-post-comments-section"},a().createElement(oo,null))),C&&a().createElement("div",{className:"group-forums-native-comment-composer"},a().createElement(qr,{showCancelButton:!1})))},po=(0,s.withTranslations)((function(e){return a().createElement(Er,fo({},e),a().createElement(Sr,null,a().createElement(mo,fo({},e))))}),d),vo=t.EnvironmentUrls.apiGatewayUrl,ho={blockUser:function(e){return"".concat(vo,"/user-blocking-api/v1/users/").concat(e,"/block-user")}},go=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},yo=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},bo=function(e){return go(void 0,void 0,Promise,(function(){var t;return yo(this,(function(n){switch(n.label){case 0:return t={url:ho.blockUser(e),withCredentials:!0},[4,q.httpService.post(t)];case 1:return[2,n.sent().data]}}))}))},wo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Eo=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Co=(0,s.withTranslations)((function(e){var t=e.translate,n=Vt(),r=n.dialogState,i=n.closeBlockDialog,c=(0,u.createModal)(),l=c[0],s=c[1],d=Ue.use.blockUser(),f=(0,u.useSystemFeedback)().systemFeedbackService;if((0,o.useEffect)((function(){r.userId&&"block"===r.type?s.open():s.close()}),[s,r.userId,r.type]),!r.userId||"block"!==r.type)return null;var m=function(){i()};return a().createElement(l,{footerText:t("Description.BlockUserFooterDialog"),title:t("Heading.BlockUserWarning"),onClose:m,body:t("Description.BlockUserWarning"),actionButtonShow:!0,actionButtonText:t("Action.BlockUser"),onAction:function(){return wo(void 0,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:if(!(null==r?void 0:r.userId))return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,bo(r.userId)];case 2:return e.sent(),f.success(t("Message.BlockUserSuccess")),d(r.userId),[3,4];case 3:return e.sent(),f.warning(t("NetworkError")),[3,4];case 4:i(),e.label=5;case 5:return[2]}}))}))},neutralButtonText:t("Action.Cancel"),onNeutral:m})}),Bt),xo=t.EnvironmentUrls.groupsApi,So="".concat(xo,"/v1/groups"),ko={kickUser:function(e,t){return"".concat(So,"/").concat(e,"/users/").concat(t)},banUser:function(e,t){return"".concat(So,"/").concat(e,"/bans/").concat(t)}},Po=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},No=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Io=function(e,t){return Po(void 0,void 0,Promise,(function(){var n;return No(this,(function(r){switch(r.label){case 0:return n={url:ko.kickUser(e,t),withCredentials:!0},[4,q.httpService.delete(n)];case 1:return r.sent(),[2]}}))}))},Oo=function(e,t){return Po(void 0,void 0,Promise,(function(){var n;return No(this,(function(r){switch(r.label){case 0:return n={url:ko.banUser(e,t),withCredentials:!0},[4,q.httpService.post(n)];case 1:return r.sent(),[2]}}))}))},Ro=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Ao=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},To="delete-all-posts-checkbox",jo=(0,s.withTranslations)((function(e){var t=e.translate,n=e.title,r=e.bodyText,i=e.actionButtonText,c=e.successText,l=e.moderateUserAction,s=e.closeDialog,d=e.dialogComponent,f=Vt().dialogState,m=f.groupId,p=f.userId,v=(f.onDeletePosts,(0,o.useState)(!1)),h=v[0],g=v[1],y=Ft().canDeleteAllPosts,b=(0,u.useSystemFeedback)().systemFeedbackService;if(!p||!m)return null;var w=a().createElement(a().Fragment,null,a().createElement("p",null,r),y&&a().createElement("div",{style:{marginTop:"16px"}},a().createElement("label",{htmlFor:To},a().createElement("input",{id:To,type:"checkbox",checked:h,onChange:function(e){g(e.target.checked)}}),t("Label.DeleteAllPostsByUser"))));return a().createElement(d,{title:n,onClose:s,body:w,actionButtonShow:!0,actionButtonText:i,onAction:function(){return Ro(void 0,void 0,void 0,(function(){var e;return Ao(this,(function(n){switch(n.label){case 0:if(!(null==f?void 0:f.userId)||!(null==f?void 0:f.groupId))return[3,5];e=[l()],h&&e.push(function(e,t){return X(void 0,void 0,Promise,(function(){var n;return Q(this,(function(r){switch(r.label){case 0:return n={url:E.urls.deleteAllForumPostsForUserEndpoint(e,t),withCredentials:!0},[4,q.httpService.delete(n)];case 1:return r.sent(),[2]}}))}))}(f.groupId,f.userId).then((function(){var e;null===(e=f.onDeletePosts)||void 0===e||e.call(f)}))),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,Promise.all(e)];case 2:return n.sent(),b.success(c),[3,5];case 3:return n.sent(),b.warning(t("NetworkError")),[3,5];case 4:return s(),[7];case 5:return[2]}}))}))},neutralButtonText:t("Action.Cancel"),onNeutral:s})}),Bt),Lo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Mo=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Do=(0,s.withTranslations)((function(e){var t=e.translate,n=Vt(),r=n.dialogState,i=n.closeBanDialog,c=(0,u.createModal)(),l=c[0],s=c[1];(0,o.useEffect)((function(){r.userId&&r.groupId&&"ban"===r.type?s.open():s.close()}),[s,r.userId,r.groupId,r.type]);return a().createElement(jo,{dialogComponent:l,title:t("Label.Warning"),bodyText:t("Description.BanUserWarning"),successText:t("Message.BanUserSuccess"),actionButtonText:t("Action.Ban"),moderateUserAction:function(){return Lo(void 0,void 0,void 0,(function(){return Mo(this,(function(e){switch(e.label){case 0:return(null==r?void 0:r.userId)&&(null==r?void 0:r.groupId)?[4,Oo(r.groupId,r.userId)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},translate:t,closeDialog:i})}),Bt),Fo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},_o=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Bo=(0,s.withTranslations)((function(e){var t=e.translate,n=Vt(),r=n.dialogState,i=n.closeKickDialog,c=(0,u.createModal)(),l=c[0],s=c[1];(0,o.useEffect)((function(){r.userId&&r.groupId&&"kick"===r.type?s.open():s.close()}),[s,r.userId,r.groupId,r.type]);return a().createElement(jo,{title:t("Label.Warning"),bodyText:t("Description.KickUserWarning"),successText:t("Message.KickUserSuccess"),actionButtonText:t("Action.Kick"),moderateUserAction:function(){return Fo(void 0,void 0,void 0,(function(){return _o(this,(function(e){switch(e.label){case 0:return(null==r?void 0:r.userId)&&(null==r?void 0:r.groupId)?[4,Io(r.groupId,r.userId)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},translate:t,closeDialog:i,dialogComponent:l})}),Bt),Uo=function(){var e=(0,u.useSystemFeedback)().SystemFeedbackComponent;return a().createElement(e,null)},zo=function(e){var t=e.group,n=e.permissions,r=e.channelsPermissions,o=e.userId,i=e.isGroupMember;return e.isEnabled&&(null==t?void 0:t.id)?a().createElement(or,{permissions:n,channelsPermissions:r,groupId:t.id,userId:o,isGroupMember:i},a().createElement("div",{className:"section group-forums"},a().createElement(l.Switch,null,a().createElement(l.Route,{path:E.router.postEditRoute,render:function(e){return a().createElement(tr,{defaultCategoryId:e.match.params.categoryId,editingPostId:e.match.params.postId})}}),a().createElement(l.Route,{path:E.router.postCreateRoute,render:function(e){return a().createElement(tr,{defaultCategoryId:e.match.params.categoryId})}}),a().createElement(l.Route,{path:E.router.postCommentRoute},a().createElement("div",{className:"group-forums-post-wrapper"},a().createElement(po,null))),a().createElement(l.Route,{path:E.router.postRoute},a().createElement("div",{className:"group-forums-post-wrapper"},a().createElement(po,null))),a().createElement(l.Route,{path:E.router.categoryRoute},a().createElement(Fn,null)),a().createElement(l.Route,{path:E.router.defaultRoute},a().createElement(Fn,null))),a().createElement(Uo,null)),a().createElement(Co,null),a().createElement(Do,null),a().createElement(Bo,null)):null},Wo=Roblox.ui,Vo=function(e){var t=e.title,n=e.content,r=e.buttonText,i=e.onClickButton,c=e.isDismissedLocalStorageKey,u=(0,o.useState)(!!Zt.localStorageService.getLocalStorage(c)),l=u[0],s=u[1];return l?null:a().createElement("div",{className:"group-banner"},a().createElement("div",{className:"group-banner-main"},a().createElement("div",{className:"group-banner-title font-bold"},t),a().createElement("div",{className:"group-banner-content text-secondary"},n)),a().createElement(vn,{className:"group-banner-button",variant:"Standard",size:"Small",onClick:i},r),a().createElement(ot,{icon:"icon-filled-x",className:"group-banner-close",ariaLabel:"Close",onClick:function(){s(!0),Zt.localStorageService.setLocalStorage(c,!0)},variant:"Utility",size:"Small"}))},Ho=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Go=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Ko=(0,s.withTranslations)((function(e){var t=e.groupId,n=e.forumCategory,r=e.onSuccess,i=e.onClose,c=e.translate,l=(0,u.useSystemFeedback)().systemFeedbackService,s=(0,o.useState)((null==n?void 0:n.name)||""),d=s[0],f=s[1],m=(0,o.useState)(!1),p=m[0],v=m[1],h=(0,o.useState)(""),g=h[0],y=h[1],b=(0,o.useState)(!1),w=b[0],C=b[1],x=(0,o.useCallback)((function(){return Ho(void 0,void 0,void 0,(function(){var e,o,a,u,s;return Go(this,(function(f){switch(f.label){case 0:return f.trys.push([0,5,6,7]),v(!0),n?[4,ee(t,n.id,d)]:[3,2];case 1:return f.sent(),[3,4];case 2:return[4,$(t,d)];case 3:f.sent(),f.label=4;case 4:return r(),i(),en({groupId:t,clickTargetType:n?"updateForumCategory":"createForumCategory"}),[3,7];case 5:return e=f.sent(),(o=null===(s=null===(u=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.errors)||void 0===u?void 0:u[0])||void 0===s?void 0:s.message)&&y(o),l.warning(c("NetworkError")),[3,7];case 6:return v(!1),[7];case 7:return[2]}}))}))}),[r,i,t,n,d,c,l,v]),S=(0,o.useMemo)((function(){return function(e){return e.length<E.limits.categoryNameMinLength?"Error.ForumCategoryNameValidationTooShort":null}(d)||function(e){return e.includes("InappropriateContent")?"Error.CategoryNameInappropriateContent":null}(g)}),[d,g]),k=(0,o.useMemo)((function(){return p||!!S}),[S,p]),P=(0,o.useCallback)((function(e){C(!0),y(""),f(e.target.value)}),[f]),N=(0,o.useMemo)((function(){return c(n?"Action.RenameForumCategory":"Action.AddForumCategory")}),[n,c]),I=(0,o.useMemo)((function(){return c(n?"Action.Rename":"Action.Add")}),[n,c]);return a().createElement(u.Modal,{className:"edit-forum-category-dialog",show:!0,size:"md",backdrop:"static"},a().createElement(u.Modal.Header,{title:N,onClose:i}),a().createElement(u.Modal.Body,null,a().createElement("div",{className:"group-forums-config-dialog-input"},a().createElement("label",{className:"text-label",htmlFor:"edit-forum-category-name-input"},c("Label.ForumCategoryName")),a().createElement("input",{id:"edit-forum-category-name-input",type:"text",placeholder:c("Label.ForumCategoryNamePlaceholder"),minLength:E.limits.categoryNameMinLength,maxLength:E.limits.categoryNameMaxLength,className:"form-control input-field",autoComplete:"off",onChange:P,value:d})),a().createElement("p",{className:"group-forums-config-form-input-error"},w&&S&&c(S)),a().createElement("div",{className:"group-forums-config-dialog-button-wrapper"},a().createElement("button",{disabled:k,type:"button",className:"btn-primary-md btn-min-width group-forums-config-dialog-button",onClick:x},I),a().createElement("button",{type:"button",className:"btn-secondary-md btn-min-width group-forums-config-dialog-button",onClick:i},c("Action.Cancel")))))}),d),qo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Xo=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Qo=(0,s.withTranslations)((function(e){var t=e.groupId,n=e.forumCategory,r=e.onSuccess,i=e.onClose,c=e.translate,l=(0,u.useSystemFeedback)().systemFeedbackService,s=(0,o.useState)(!1),d=s[0],f=s[1],m=(0,o.useMemo)((function(){return null!=n.archivedBy}),[n]),p=(0,o.useCallback)((function(){return qo(void 0,void 0,void 0,(function(){return Xo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),f(!0),[4,J(t,n.id,m)];case 1:return e.sent(),r(),i(),en({groupId:t,clickTargetType:"deleteForumCategory",clickTargetId:n.id}),[3,4];case 2:return e.sent(),l.warning(c("NetworkError")),[3,4];case 3:return f(!1),[7];case 4:return[2]}}))}))}),[r,i,t,n.id,c,l,f,m]),v=(0,o.useMemo)((function(){return d}),[d]);return a().createElement(u.Modal,{className:"delete-forum-category-dialog",show:!0,size:"md",backdrop:"static"},a().createElement(u.Modal.Header,{title:c("Action.DeleteForumCategory"),onClose:i}),a().createElement(u.Modal.Body,null,a().createElement("div",{className:"group-forums-config-dialog-input"},c("Description.DeleteForumCategory",{forumCategoryName:n.name})),a().createElement("div",{className:"group-forums-config-dialog-button-wrapper"},a().createElement("button",{disabled:v,type:"button",className:"btn-alert-md btn-min-width group-forums-config-dialog-button",onClick:p},c("Action.Delete")),a().createElement("button",{type:"button",className:"btn-secondary-md btn-min-width group-forums-config-dialog-button",onClick:i},c("Action.Cancel")))))}),d),Yo=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Zo=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},$o=(0,s.withTranslations)((function(e){var t=e.groupId,n=e.forumCategory,r=e.onSuccess,i=e.onClose,c=e.translate,l=(0,u.useSystemFeedback)().systemFeedbackService,s=(0,o.useState)(!1),d=s[0],f=s[1],m=(0,o.useMemo)((function(){return null!=n.archivedBy}),[n.archivedBy]),p=(0,o.useCallback)((function(){return Yo(void 0,void 0,void 0,(function(){return Zo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),f(!0),[4,oe(t,n.id,!m)];case 1:return e.sent(),r(),i(),en({groupId:t,clickTargetType:"archiveForumCategory",clickTargetId:n.id}),[3,4];case 2:return e.sent(),l.warning(c("NetworkError")),[3,4];case 3:return f(!1),[7];case 4:return[2]}}))}))}),[r,i,t,n.id,c,l,f,m]),v=(0,o.useMemo)((function(){return d}),[d]);return a().createElement(u.Modal,{className:"archive-forum-category-dialog",show:!0,size:"md",backdrop:"static"},a().createElement(u.Modal.Header,{title:c(m?"Action.UnarchiveForumCategory":"Action.ArchiveForumCategory"),onClose:i}),a().createElement(u.Modal.Body,null,a().createElement("div",{className:"group-forums-config-dialog-input"},c(m?"Description.UnarchiveForumCategory":"Description.ArchiveForumCategory",{forumCategoryName:n.name})),a().createElement("div",{className:"group-forums-config-dialog-button-wrapper"},a().createElement("button",{disabled:v,type:"button",className:"btn-primary-md btn-min-width group-forums-config-dialog-button",onClick:p},c(m?"Action.Unarchive":"Action.Archive")),a().createElement("button",{type:"button",className:"btn-secondary-md btn-min-width group-forums-config-dialog-button",onClick:i},c("Action.Cancel")))))}),d),Jo=ReactJSX;function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ta(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var na=null!==globalThis&&void 0!==globalThis&&globalThis.document?o.useLayoutEffect:function(){},ra=o[" useId ".trim().toString()]||function(){},oa=0;function aa(e){var t=ea(o.useState(ra()),2),n=t[0],r=t[1];return na((function(){e||r((function(e){return null!=e?e:String(oa++)}))}),[e]),e||(n?"radix-".concat(n):"")}function ia(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=la(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ca(e){return function(e){if(Array.isArray(e))return sa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||la(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||la(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function la(e,t){if(e){if("string"==typeof e)return sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sa(e,t):void 0}}function sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?da(Object(n),!0).forEach((function(t){ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function va(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null!=e&&e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}function ha(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function ga(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!1,r=t.map((function(t){var r=ha(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return function(){for(var e=0;e<r.length;e++){var n=r[e];"function"==typeof n?n():ha(t[e],null)}}}}function ya(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useCallback(ga.apply(void 0,t),t)}var ba=Symbol("radix.slottable");function wa(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ba}var Ea=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=function(e){var t=function(e){var t=o.forwardRef((function(e,t){var n=e.children,r=pa(e,["children"]);if(o.isValidElement(n)){var a=function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(o=(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n),i=function(e,t){var n=fa({},t),r=function(r){var o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=function(){a.apply(void 0,arguments),o.apply(void 0,arguments)}:o&&(n[r]=o):"style"===r?n[r]=fa(fa({},o),a):"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))};for(var o in t)r(o);return fa(fa({},e),n)}(r,n.props);return n.type!==o.Fragment&&(i.ref=t?ga(t,a):a),o.cloneElement(n,i)}return o.Children.count(n)>1?o.Children.only(null):null}));return t.displayName="".concat(e,".SlotClone"),t}(e),n=o.forwardRef((function(e,n){var r=e.children,a=pa(e,["children"]),i=o.Children.toArray(r),c=i.find(wa);if(c){var u=c.props.children,l=i.map((function(e){return e===c?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:e}));return(0,Jo.jsx)(t,fa(fa({},a),{},{ref:n,children:o.isValidElement(u)?o.cloneElement(u,void 0,l):null}))}return(0,Jo.jsx)(t,fa(fa({},a),{},{ref:n,children:r}))}));return n.displayName="".concat(e,".Slot"),n}("Primitive.".concat(t)),r=o.forwardRef((function(e,r){var o=e.asChild,a=pa(e,["asChild"]),i=o?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Jo.jsx)(i,fa(fa({},a),{},{ref:r}))}));return r.displayName="Primitive.".concat(t),fa(fa({},e),{},ma({},t,r))}),{});function Ca(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e})),o.useMemo((function(){return function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}}),[])}var xa,Sa="dismissableLayer.update",ka=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pa=o.forwardRef((function(e,t){var n,r=e.disableOutsidePointerEvents,a=void 0!==r&&r,i=e.onEscapeKeyDown,c=e.onPointerDownOutside,u=e.onFocusOutside,l=e.onInteractOutside,s=e.onDismiss,d=pa(e,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=o.useContext(ka),m=ua(o.useState(null),2),p=m[0],v=m[1],h=null!==(n=null==p?void 0:p.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,g=ua(o.useState({}),2)[1],y=ya(t,(function(e){return v(e)})),b=Array.from(f.layers),w=ua(ca(f.layersWithOutsidePointerEventsDisabled).slice(-1),1)[0],E=b.indexOf(w),C=p?b.indexOf(p):-1,x=f.layersWithOutsidePointerEventsDisabled.size>0,S=C>=E,k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=Ca(e),r=o.useRef(!1),a=o.useRef((function(){}));return o.useEffect((function(){var e=function(e){if(e.target&&!r.current){var o=function(){Ia("dismissableLayer.pointerDownOutside",n,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=o,t.addEventListener("click",a.current,{once:!0})):o()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout((function(){t.addEventListener("pointerdown",e)}),0);return function(){window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}}),[t,n]),{onPointerDownCapture:function(){return r.current=!0}}}((function(e){var t=e.target,n=ca(f.branches).some((function(e){return e.contains(t)}));S&&!n&&(null!=c&&c(e),null!=l&&l(e),e.defaultPrevented||null==s||s())}),h),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=Ca(e),r=o.useRef(!1);return o.useEffect((function(){var e=function(e){e.target&&!r.current&&Ia("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),function(){return t.removeEventListener("focusin",e)}}),[t,n]),{onFocusCapture:function(){return r.current=!0},onBlurCapture:function(){return r.current=!1}}}((function(e){var t=e.target;ca(f.branches).some((function(e){return e.contains(t)}))||(null!=u&&u(e),null!=l&&l(e),e.defaultPrevented||null==s||s())}),h);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=function(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e})),o.useMemo((function(){return function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}}),[])}(e);o.useEffect((function(){var e=function(e){"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),function(){return t.removeEventListener("keydown",e,{capture:!0})}}),[n,t])}((function(e){C===f.layers.size-1&&(null!=i&&i(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))}),h),o.useEffect((function(){if(p)return a&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(xa=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),Na(),function(){a&&1===f.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=xa)}}),[p,h,a,f]),o.useEffect((function(){return function(){p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),Na())}}),[p,f]),o.useEffect((function(){var e=function(){return g({})};return document.addEventListener(Sa,e),function(){return document.removeEventListener(Sa,e)}}),[]),(0,Jo.jsx)(Ea.div,fa(fa({},d),{},{ref:y,style:fa({pointerEvents:x?S?"auto":"none":void 0},e.style),onFocusCapture:va(e.onFocusCapture,P.onFocusCapture),onBlurCapture:va(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:va(e.onPointerDownCapture,k.onPointerDownCapture)}))}));function Na(){var e=new CustomEvent(Sa);document.dispatchEvent(e)}function Ia(e,t,n,r){var o=r.discrete,a=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),o?function(e,t){e&&i.flushSync((function(){return e.dispatchEvent(t)}))}(a,c):a.dispatchEvent(c)}function Oa(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Ra(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!1,r=t.map((function(t){var r=Oa(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return function(){for(var e=0;e<r.length;e++){var n=r[e];"function"==typeof n?n():Oa(t[e],null)}}}}Pa.displayName="DismissableLayer",o.forwardRef((function(e,t){var n=o.useContext(ka),r=o.useRef(null),a=ya(t,r);return o.useEffect((function(){var e=r.current;if(e)return n.branches.add(e),function(){n.branches.delete(e)}}),[n.branches]),(0,Jo.jsx)(Ea.div,fa(fa({},e),{},{ref:a}))})).displayName="DismissableLayerBranch";var Aa=Symbol("radix.slottable");function Ta(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Aa}var ja=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=function(e){var t=function(e){var t=o.forwardRef((function(e,t){var n=e.children,r=pa(e,["children"]);if(o.isValidElement(n)){var a=function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(o=(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n),i=function(e,t){var n=fa({},t),r=function(r){var o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=function(){a.apply(void 0,arguments),o.apply(void 0,arguments)}:o&&(n[r]=o):"style"===r?n[r]=fa(fa({},o),a):"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))};for(var o in t)r(o);return fa(fa({},e),n)}(r,n.props);return n.type!==o.Fragment&&(i.ref=t?Ra(t,a):a),o.cloneElement(n,i)}return o.Children.count(n)>1?o.Children.only(null):null}));return t.displayName="".concat(e,".SlotClone"),t}(e),n=o.forwardRef((function(e,n){var r=e.children,a=pa(e,["children"]),i=o.Children.toArray(r),c=i.find(Ta);if(c){var u=c.props.children,l=i.map((function(e){return e===c?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:e}));return(0,Jo.jsx)(t,fa(fa({},a),{},{ref:n,children:o.isValidElement(u)?o.cloneElement(u,void 0,l):null}))}return(0,Jo.jsx)(t,fa(fa({},a),{},{ref:n,children:r}))}));return n.displayName="".concat(e,".Slot"),n}("Primitive.".concat(t)),r=o.forwardRef((function(e,r){var o=e.asChild,a=pa(e,["asChild"]),i=o?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Jo.jsx)(i,fa(fa({},a),{},{ref:r}))}));return r.displayName="Primitive.".concat(t),fa(fa({},e),{},ma({},t,r))}),{});function La(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e})),o.useMemo((function(){return function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}}),[])}var Ma="focusScope.autoFocusOnMount",Da="focusScope.autoFocusOnUnmount",Fa={bubbles:!1,cancelable:!0},_a=o.forwardRef((function(e,t){var n=e.loop,r=void 0!==n&&n,a=e.trapped,i=void 0!==a&&a,c=e.onMountAutoFocus,u=e.onUnmountAutoFocus,l=pa(e,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),s=ua(o.useState(null),2),d=s[0],f=s[1],m=La(c),p=La(u),v=o.useRef(null),h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useCallback(Ra.apply(void 0,t),t)}(t,(function(e){return f(e)})),g=o.useRef({paused:!1,pause:function(){this.paused=!0},resume:function(){this.paused=!1}}).current;o.useEffect((function(){if(i){var e=function(e){if(!g.paused&&d){var t=e.target;d.contains(t)?v.current=t:Wa(v.current,{select:!0})}},t=function(e){if(!g.paused&&d){var t=e.relatedTarget;null!==t&&(d.contains(t)||Wa(v.current,{select:!0}))}};document.addEventListener("focusin",e),document.addEventListener("focusout",t);var n=new MutationObserver((function(e){if(document.activeElement===document.body){var t,n=ia(e);try{for(n.s();!(t=n.n()).done;){t.value.removedNodes.length>0&&Wa(d)}}catch(e){n.e(e)}finally{n.f()}}}));return d&&n.observe(d,{childList:!0,subtree:!0}),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}}),[i,d,g.paused]),o.useEffect((function(){if(d){Va.add(g);var e=document.activeElement;if(!d.contains(e)){var t=new CustomEvent(Ma,Fa);d.addEventListener(Ma,m),d.dispatchEvent(t),t.defaultPrevented||(function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).select,r=void 0!==n&&n,o=document.activeElement,a=ia(e);try{for(a.s();!(t=a.n()).done;){if(Wa(t.value,{select:r}),document.activeElement!==o)return}}catch(e){a.e(e)}finally{a.f()}}(Ba(d).filter((function(e){return"A"!==e.tagName})),{select:!0}),document.activeElement===e&&Wa(d))}return function(){d.removeEventListener(Ma,m),setTimeout((function(){var t=new CustomEvent(Da,Fa);d.addEventListener(Da,p),d.dispatchEvent(t),t.defaultPrevented||Wa(null!=e?e:document.body,{select:!0}),d.removeEventListener(Da,p),Va.remove(g)}),0)}}}),[d,m,p,g]);var y=o.useCallback((function(e){if((r||i)&&!g.paused){var t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var o=e.currentTarget,a=function(e){var t=Ba(e);return[Ua(t,e),Ua(t.reverse(),e)]}(o),c=ua(a,2),u=c[0],l=c[1];u&&l?e.shiftKey||n!==l?e.shiftKey&&n===u&&(e.preventDefault(),r&&Wa(l,{select:!0})):(e.preventDefault(),r&&Wa(u,{select:!0})):n===o&&e.preventDefault()}}}),[r,i,g.paused]);return(0,Jo.jsx)(ja.div,fa(fa({tabIndex:-1},l),{},{ref:h,onKeyDown:y}))}));function Ba(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){var t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});n.nextNode();)t.push(n.currentNode);return t}function Ua(e,t){var n,r=ia(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!za(o,{upTo:t}))return o}}catch(e){r.e(e)}finally{r.f()}}function za(e,t){var n=t.upTo;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Wa(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).select,n=void 0!==t&&t;if(e&&e.focus){var r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&n&&e.select()}}_a.displayName="FocusScope";var Va=function(){var e=[];return{add:function(t){var n=e[0];t!==n&&null!=n&&n.pause(),(e=Ha(e,t)).unshift(t)},remove:function(t){var n;null===(n=(e=Ha(e,t))[0])||void 0===n||n.resume()}}}();function Ha(e,t){var n=ca(e),r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}function Ga(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var Ka=Symbol("radix.slottable");function qa(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Ka}var Xa=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=function(e){var t=function(e){var t=o.forwardRef((function(e,t){var n=e.children,r=pa(e,["children"]);if(o.isValidElement(n)){var a=function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(o=(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n),i=function(e,t){var n=fa({},t),r=function(r){var o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=function(){a.apply(void 0,arguments),o.apply(void 0,arguments)}:o&&(n[r]=o):"style"===r?n[r]=fa(fa({},o),a):"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))};for(var o in t)r(o);return fa(fa({},e),n)}(r,n.props);return n.type!==o.Fragment&&(i.ref=t?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!1,r=t.map((function(t){var r=Ga(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return function(){for(var e=0;e<r.length;e++){var n=r[e];"function"==typeof n?n():Ga(t[e],null)}}}}(t,a):a),o.cloneElement(n,i)}return o.Children.count(n)>1?o.Children.only(null):null}));return t.displayName="".concat(e,".SlotClone"),t}(e),n=o.forwardRef((function(e,n){var r=e.children,a=pa(e,["children"]),i=o.Children.toArray(r),c=i.find(qa);if(c){var u=c.props.children,l=i.map((function(e){return e===c?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:e}));return(0,Jo.jsx)(t,fa(fa({},a),{},{ref:n,children:o.isValidElement(u)?o.cloneElement(u,void 0,l):null}))}return(0,Jo.jsx)(t,fa(fa({},a),{},{ref:n,children:r}))}));return n.displayName="".concat(e,".Slot"),n}("Primitive.".concat(t)),r=o.forwardRef((function(e,r){var o=e.asChild,a=pa(e,["asChild"]),i=o?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Jo.jsx)(i,fa(fa({},a),{},{ref:r}))}));return r.displayName="Primitive.".concat(t),fa(fa({},e),{},ma({},t,r))}),{}),Qa=null!==globalThis&&void 0!==globalThis&&globalThis.document?o.useLayoutEffect:function(){},Ya=o.forwardRef((function(e,t){var n,r=e.container,a=pa(e,["container"]),i=ua(o.useState(!1),2),u=i[0],l=i[1];Qa((function(){return l(!0)}),[]);var s=r||u&&(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body);return s?c().createPortal((0,Jo.jsx)(Xa.div,fa(fa({},a),{},{ref:t})),s):null}));Ya.displayName="Portal";var Za=0;function $a(){o.useEffect((function(){var e,t,n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:Ja()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:Ja()),Za++,function(){1===Za&&document.querySelectorAll("[data-radix-focus-guard]").forEach((function(e){return e.remove()})),Za--}}),[])}function Ja(){var e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ei="right-scroll-bar-position",ti="width-before-scroll-bar";function ni(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var ri="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,oi=new WeakMap;function ai(e){return e}var ii=function(e){var t=e.sideCar,n=He(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return o.createElement(r,Ve({},n))};ii.isSideCarExport=!0;var ci=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=ai);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:null},useMedium:function(e){var o=t(e,r);return n.push(o),function(){n=n.filter((function(e){return e!==o}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},i=function(){return Promise.resolve().then(a)};i(),n={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),n}}}}}();return t.options=Ve({async:!0,ssr:!1},e),t}(),ui=function(){},li=o.forwardRef((function(e,t){var n=o.useRef(null),r=o.useState({onScrollCapture:ui,onWheelCapture:ui,onTouchMoveCapture:ui}),a=r[0],i=r[1],c=e.forwardProps,u=e.children,l=e.className,s=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noIsolation,v=e.inert,h=e.allowPinchZoom,g=e.as,y=void 0===g?"div":g,b=e.gapMode,w=He(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,C=function(e,t){var n,r,a,i=(n=t||null,r=function(t){return e.forEach((function(e){return ni(e,t)}))},(a=(0,o.useState)((function(){return{value:n,callback:r,facade:{get current(){return a.value},set current(e){var t=a.value;t!==e&&(a.value=e,a.callback(e,t))}}}}))[0]).callback=r,a.facade);return ri((function(){var t=oi.get(i);if(t){var n=new Set(t),r=new Set(e),o=i.current;n.forEach((function(e){r.has(e)||ni(e,null)})),r.forEach((function(e){n.has(e)||ni(e,o)}))}oi.set(i,e)}),[e]),i}([n,t]),x=Ve(Ve({},w),a);return o.createElement(o.Fragment,null,d&&o.createElement(E,{sideCar:ci,removeScrollBar:s,shards:f,noIsolation:p,inert:v,setCallbacks:i,allowPinchZoom:!!h,lockRef:n,gapMode:b}),c?o.cloneElement(o.Children.only(u),Ve(Ve({},x),{ref:C})):o.createElement(y,Ve({},x,{className:l,ref:C}),u))}));li.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},li.classNames={fullWidth:ti,zeroRight:ei};var si=function(){var e=0,t=null;return{add:function(r){var o,a;0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n.nc;return t&&e.setAttribute("nonce",t),e}())&&(a=r,(o=t).styleSheet?o.styleSheet.cssText=a:o.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},di=function(){var e,t=(e=si(),function(t,n){o.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},fi={left:0,top:0,right:0,gap:0},mi=function(e){return parseInt(e||"",10)||0},pi=di(),vi="data-scroll-locked",hi=function(e,t,n,r){var o=e.left,a=e.top,i=e.right,c=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(c,"px ").concat(r,";\n  }\n  body[").concat(vi,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(o,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(c,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ei," {\n    right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(ti," {\n    margin-right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(ei," .").concat(ei," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(ti," .").concat(ti," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(vi,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(c,"px;\n  }\n")},gi=function(){var e=parseInt(document.body.getAttribute(vi)||"0",10);return isFinite(e)?e:0},yi=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=void 0===r?"margin":r;o.useEffect((function(){return document.body.setAttribute(vi,(gi()+1).toString()),function(){var e=gi()-1;e<=0?document.body.removeAttribute(vi):document.body.setAttribute(vi,e.toString())}}),[]);var i=o.useMemo((function(){return function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return fi;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[mi(n),mi(r),mi(o)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}}(a)}),[a]);return o.createElement(pi,{styles:hi(i,!t,a,n?"":"!important")})},bi=!1;if("undefined"!=typeof window)try{var wi=Object.defineProperty({},"passive",{get:function(){return bi=!0,!0}});window.addEventListener("test",wi,wi),window.removeEventListener("test",wi,wi)}catch(e){bi=!1}var Ei=!!bi&&{passive:!1},Ci=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},xi=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Si(e,r)){var o=ki(e,r);if(o[1]>o[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Si=function(e,t){return"v"===e?function(e){return Ci(e,"overflowY")}(t):function(e){return Ci(e,"overflowX")}(t)},ki=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Pi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ni=function(e){return[e.deltaX,e.deltaY]},Ii=function(e){return e&&"current"in e?e.current:e},Oi=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Ri=0,Ai=[];function Ti(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var ji,Li=(ji=function(e){var t=o.useRef([]),n=o.useRef([0,0]),r=o.useRef(),a=o.useState(Ri++)[0],i=o.useState(di)[0],c=o.useRef(e);o.useEffect((function(){c.current=e}),[e]),o.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(Ii),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(a))})),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(a))}))}}}),[e.inert,e.lockRef.current,e.shards]);var u=o.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!c.current.allowPinchZoom;var o,a=Pi(e),i=n.current,u="deltaX"in e?e.deltaX:i[0]-a[0],l="deltaY"in e?e.deltaY:i[1]-a[1],s=e.target,d=Math.abs(u)>Math.abs(l)?"h":"v";if("touches"in e&&"h"===d&&"range"===s.type)return!1;var f=xi(d,s);if(!f)return!0;if(f?o=d:(o="v"===d?"h":"v",f=xi(d,s)),!f)return!1;if(!r.current&&"changedTouches"in e&&(u||l)&&(r.current=o),!o)return!0;var m=r.current||o;return function(e,t,n,r,o){var a=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),i=a*r,c=n.target,u=t.contains(c),l=!1,s=i>0,d=0,f=0;do{var m=ki(e,c),p=m[0],v=m[1]-m[2]-a*p;(p||v)&&Si(e,c)&&(d+=v,f+=p),c=c instanceof ShadowRoot?c.host:c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(s&&(o&&Math.abs(d)<1||!o&&i>d)||!s&&(o&&Math.abs(f)<1||!o&&-i>f))&&(l=!0),l}(m,t,e,"h"===m?u:l,!0)}),[]),l=o.useCallback((function(e){var n=e;if(Ai.length&&Ai[Ai.length-1]===i){var r="deltaY"in n?Ni(n):Pi(n),o=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(o&&o.should)n.cancelable&&n.preventDefault();else if(!o){var a=(c.current.shards||[]).map(Ii).filter(Boolean).filter((function(e){return e.contains(n.target)}));(a.length>0?u(n,a[0]):!c.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),s=o.useCallback((function(e,n,r,o){var a={name:e,delta:n,target:r,should:o,shadowParent:Ti(r)};t.current.push(a),setTimeout((function(){t.current=t.current.filter((function(e){return e!==a}))}),1)}),[]),d=o.useCallback((function(e){n.current=Pi(e),r.current=void 0}),[]),f=o.useCallback((function(t){s(t.type,Ni(t),t.target,u(t,e.lockRef.current))}),[]),m=o.useCallback((function(t){s(t.type,Pi(t),t.target,u(t,e.lockRef.current))}),[]);o.useEffect((function(){return Ai.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Ei),document.addEventListener("touchmove",l,Ei),document.addEventListener("touchstart",d,Ei),function(){Ai=Ai.filter((function(e){return e!==i})),document.removeEventListener("wheel",l,Ei),document.removeEventListener("touchmove",l,Ei),document.removeEventListener("touchstart",d,Ei)}}),[]);var p=e.removeScrollBar,v=e.inert;return o.createElement(o.Fragment,null,v?o.createElement(i,{styles:Oi(a)}):null,p?o.createElement(yi,{gapMode:e.gapMode}):null)},ci.useMedium(ji),ii),Mi=o.forwardRef((function(e,t){return o.createElement(li,Ve({},e,{ref:t,sideCar:Li}))}));Mi.classNames=li.classNames;var Di=Mi,Fi=new WeakMap,_i=new WeakMap,Bi={},Ui=0,zi=function e(t){return t&&(t.host||e(t.parentNode))},Wi=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),function(e,t,n,r){var o=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=zi(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);Bi[n]||(Bi[n]=new WeakMap);var a=Bi[n],i=[],c=new Set,u=new Set(o);return o.forEach((function e(t){t&&!c.has(t)&&(c.add(t),e(t.parentNode))})),function e(t){t&&!u.has(t)&&Array.prototype.forEach.call(t.children,(function(t){if(c.has(t))e(t);else try{var o=t.getAttribute(r),u=null!==o&&"false"!==o,l=(Fi.get(t)||0)+1,s=(a.get(t)||0)+1;Fi.set(t,l),a.set(t,s),i.push(t),1===l&&u&&_i.set(t,!0),1===s&&t.setAttribute(n,"true"),u||t.setAttribute(r,"true")}catch(o){console.error("aria-hidden: cannot operate on ",t,o)}}))}(t),c.clear(),Ui++,function(){i.forEach((function(e){var t=Fi.get(e)-1,o=a.get(e)-1;Fi.set(e,t),a.set(e,o),t||(_i.has(e)||e.removeAttribute(r),_i.delete(e)),o||e.removeAttribute(n)})),--Ui||(Fi=new WeakMap,Fi=new WeakMap,_i=new WeakMap,Bi={})}}(r,o,n,"aria-hidden")):function(){return null}},Vi={XSmall:"size-[var(--icon-size-xsmall)]",Small:"size-[var(--icon-size-small)]",Medium:"size-[var(--icon-size-medium)]",Large:"size-[var(--icon-size-large)]",XLarge:"size-[var(--icon-size-xlarge)]"},Hi=a().forwardRef((function(e,t){var n=e.name,r=e.size,o=void 0===r?"Medium":r,i=e.className;e.children;var c=He(e,["name","size","className","children"]);return a().createElement("span",Ve({ref:t,role:"presentation",className:qe("grow-0 shrink-0 basis-auto icon",n,Vi[o],i)},c))}));Hi.displayName="Icon";var Gi={Small:"padding-xsmall",Medium:"padding-small",Large:"padding-medium"},Ki={Utility:"bg-action-link",OverMedia:"bg-over-media-100"},qi=function(e){var t=e.variant,n=e.size,r=e.isCircular,o=e.className,i=He(e,["variant","size","isCircular","className"]);return a().createElement("button",Ve({type:"button","aria-label":"Close",className:qe("foundation-web-close-affordance flex stroke-none bg-none cursor-pointer",Xe,Ki[t],Gi[n],r&&"radius-circle",o)},i),a().createElement(Qe,null),a().createElement(Hi,{name:"icon-regular-x",size:n}))};function Xi(e){return function(e){if(Array.isArray(e))return $i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Zi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Zi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(e,t){if(e){if("string"==typeof e)return $i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$i(e,t):void 0}}function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nc(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null!=e&&e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}function rc(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function oc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!1,r=t.map((function(t){var r=rc(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return function(){for(var e=0;e<r.length;e++){var n=r[e];"function"==typeof n?n():rc(t[e],null)}}}}function ac(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useCallback(oc.apply(void 0,t),t)}function ic(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if(1===t.length)return r;var a=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,o=n.scopeName;return ec(ec({},e),r(t)["__scope".concat(o)])}),{});return o.useMemo((function(){return tc({},"__scope".concat(r.scopeName),n)}),[n])}};return a.scopeName=r.scopeName,a}function cc(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e})),o.useMemo((function(){return function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}}),[])}var uc=null!==globalThis&&void 0!==globalThis&&globalThis.document?o.useLayoutEffect:function(){},lc=function(e){var t=e.present,n=e.children,r=function(e){var t=Yi(o.useState(),2),n=t[0],r=t[1],a=o.useRef({}),i=o.useRef(e),c=o.useRef("none"),u=function(e,t){return o.useReducer((function(e,n){var r;return null!==(r=t[e][n])&&void 0!==r?r:e}),e)}(e?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),l=Yi(u,2),s=l[0],d=l[1];return o.useEffect((function(){var e=sc(a.current);c.current="mounted"===s?e:"none"}),[s]),uc((function(){var t=a.current,n=i.current;if(n!==e){var r=c.current,o=sc(t);e?d("MOUNT"):"none"===o||"none"===(null==t?void 0:t.display)?d("UNMOUNT"):d(n&&r!==o?"ANIMATION_OUT":"UNMOUNT"),i.current=e}}),[e,d]),uc((function(){if(n){var e,t,r=null!==(e=n.ownerDocument.defaultView)&&void 0!==e?e:window,o=function(e){var o=sc(a.current).includes(e.animationName);if(e.target===n&&o&&(d("ANIMATION_END"),!i.current)){var c=n.style.animationFillMode;n.style.animationFillMode="forwards",t=r.setTimeout((function(){"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=c)}))}},u=function(e){e.target===n&&(c.current=sc(a.current))};return n.addEventListener("animationstart",u),n.addEventListener("animationcancel",o),n.addEventListener("animationend",o),function(){r.clearTimeout(t),n.removeEventListener("animationstart",u),n.removeEventListener("animationcancel",o),n.removeEventListener("animationend",o)}}d("ANIMATION_END")}),[n,d]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:o.useCallback((function(e){e&&(a.current=getComputedStyle(e)),r(e)}),[])}}(t),a="function"==typeof n?n({present:r.isPresent}):o.Children.only(n),i=ac(r.ref,function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(o=(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(a));return"function"==typeof n||r.isPresent?o.cloneElement(a,{ref:i}):null};function sc(e){return(null==e?void 0:e.animationName)||"none"}function dc(e){var t=function(e){var t=o.forwardRef((function(e,t){var n=e.children,r=Qi(e,["children"]);if(o.isValidElement(n)){var a=function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(o=(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n),i=function(e,t){var n=ec({},t),r=function(r){var o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=function(){a.apply(void 0,arguments),o.apply(void 0,arguments)}:o&&(n[r]=o):"style"===r?n[r]=ec(ec({},o),a):"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))};for(var o in t)r(o);return ec(ec({},e),n)}(r,n.props);return n.type!==o.Fragment&&(i.ref=t?oc(t,a):a),o.cloneElement(n,i)}return o.Children.count(n)>1?o.Children.only(null):null}));return t.displayName="".concat(e,".SlotClone"),t}(e),n=o.forwardRef((function(e,n){var r=e.children,a=Qi(e,["children"]),i=o.Children.toArray(r),c=i.find(mc);if(c){var u=c.props.children,l=i.map((function(e){return e===c?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:e}));return(0,Jo.jsx)(t,ec(ec({},a),{},{ref:n,children:o.isValidElement(u)?o.cloneElement(u,void 0,l):null}))}return(0,Jo.jsx)(t,ec(ec({},a),{},{ref:n,children:r}))}));return n.displayName="".concat(e,".Slot"),n}lc.displayName="Presence";var fc=Symbol("radix.slottable");function mc(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===fc}var pc=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=dc("Primitive.".concat(t)),r=o.forwardRef((function(e,r){var o=e.asChild,a=Qi(e,["asChild"]),i=o?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Jo.jsx)(i,ec(ec({},a),{},{ref:r}))}));return r.displayName="Primitive.".concat(t),ec(ec({},e),{},tc({},t,r))}),{}),vc="Dialog",hc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=function(){var t=n.map((function(e){return o.createContext(e)}));return function(n){var r=(null==n?void 0:n[e])||t;return o.useMemo((function(){return tc({},"__scope".concat(e),ec(ec({},n),{},tc({},e,r)))}),[n,r])}};return r.scopeName=e,[function(t,r){var a=o.createContext(r),i=n.length;n=[].concat(Xi(n),[r]);var c=function(t){var n,r=t.scope,c=t.children,u=Qi(t,["scope","children"]),l=(null==r||null===(n=r[e])||void 0===n?void 0:n[i])||a,s=o.useMemo((function(){return u}),Object.values(u));return(0,Jo.jsx)(l.Provider,{value:s,children:c})};return c.displayName=t+"Provider",[c,function(n,c){var u,l=(null==c||null===(u=c[e])||void 0===u?void 0:u[i])||a,s=o.useContext(l);if(s)return s;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},ic.apply(void 0,[r].concat(Xi(t)))]}(vc),gc=Yi(hc,2),yc=gc[0],bc=(gc[1],Yi(yc(vc),2)),wc=bc[0],Ec=bc[1],Cc=function(e){var t=e.__scopeDialog,n=e.children,r=e.open,a=e.defaultOpen,i=e.onOpenChange,c=e.modal,u=void 0===c||c,l=o.useRef(null),s=o.useRef(null),d=function(e){var t=e.prop,n=e.defaultProp,r=e.onChange,a=void 0===r?function(){}:r,i=function(e){var t=e.defaultProp,n=e.onChange,r=o.useState(t),a=Yi(r,1)[0],i=o.useRef(a),c=cc(n);return o.useEffect((function(){i.current!==a&&(c(a),i.current=a)}),[a,i,c]),r}({defaultProp:n,onChange:a}),c=Yi(i,2),u=c[0],l=c[1],s=void 0!==t,d=s?t:u,f=cc(a);return[d,o.useCallback((function(e){if(s){var n="function"==typeof e?e(t):e;n!==t&&f(n)}else l(e)}),[s,t,l,f])]}({prop:r,defaultProp:a,onChange:i}),f=Yi(d,2),m=f[0],p=void 0!==m&&m,v=f[1];return(0,Jo.jsx)(wc,{scope:t,triggerRef:l,contentRef:s,contentId:aa(),titleId:aa(),descriptionId:aa(),open:p,onOpenChange:v,onOpenToggle:o.useCallback((function(){return v((function(e){return!e}))}),[v]),modal:u,children:n})};Cc.displayName=vc;var xc="DialogTrigger";o.forwardRef((function(e,t){var n=e.__scopeDialog,r=Qi(e,["__scopeDialog"]),o=Ec(xc,n),a=ac(t,o.triggerRef);return(0,Jo.jsx)(pc.button,ec(ec({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Vc(o.open)},r),{},{ref:a,onClick:nc(e.onClick,o.onOpenToggle)}))})).displayName=xc;var Sc="DialogPortal",kc=Yi(yc(Sc,{forceMount:void 0}),2),Pc=kc[0],Nc=kc[1],Ic=function(e){var t=e.__scopeDialog,n=e.forceMount,r=e.children,a=e.container,i=Ec(Sc,t);return(0,Jo.jsx)(Pc,{scope:t,forceMount:n,children:o.Children.map(r,(function(e){return(0,Jo.jsx)(lc,{present:n||i.open,children:(0,Jo.jsx)(Ya,{asChild:!0,container:a,children:e})})}))})};Ic.displayName=Sc;var Oc="DialogOverlay",Rc=o.forwardRef((function(e,t){var n=Nc(Oc,e.__scopeDialog),r=e.forceMount,o=void 0===r?n.forceMount:r,a=Qi(e,["forceMount"]),i=Ec(Oc,e.__scopeDialog);return i.modal?(0,Jo.jsx)(lc,{present:o||i.open,children:(0,Jo.jsx)(Tc,ec(ec({},a),{},{ref:t}))}):null}));Rc.displayName=Oc;var Ac=dc("DialogOverlay.RemoveScroll"),Tc=o.forwardRef((function(e,t){var n=e.__scopeDialog,r=Qi(e,["__scopeDialog"]),o=Ec(Oc,n);return(0,Jo.jsx)(Di,{as:Ac,allowPinchZoom:!0,shards:[o.contentRef],children:(0,Jo.jsx)(pc.div,ec(ec({"data-state":Vc(o.open)},r),{},{ref:t,style:ec({pointerEvents:"auto"},r.style)}))})})),jc="DialogContent",Lc=o.forwardRef((function(e,t){var n=Nc(jc,e.__scopeDialog),r=e.forceMount,o=void 0===r?n.forceMount:r,a=Qi(e,["forceMount"]),i=Ec(jc,e.__scopeDialog);return(0,Jo.jsx)(lc,{present:o||i.open,children:i.modal?(0,Jo.jsx)(Mc,ec(ec({},a),{},{ref:t})):(0,Jo.jsx)(Dc,ec(ec({},a),{},{ref:t}))})}));Lc.displayName=jc;var Mc=o.forwardRef((function(e,t){var n=Ec(jc,e.__scopeDialog),r=o.useRef(null),a=ac(t,n.contentRef,r);return o.useEffect((function(){var e=r.current;if(e)return Wi(e)}),[]),(0,Jo.jsx)(Fc,ec(ec({},e),{},{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nc(e.onCloseAutoFocus,(function(e){var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:nc(e.onPointerDownOutside,(function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:nc(e.onFocusOutside,(function(e){return e.preventDefault()}))}))})),Dc=o.forwardRef((function(e,t){var n=Ec(jc,e.__scopeDialog),r=o.useRef(!1),a=o.useRef(!1);return(0,Jo.jsx)(Fc,ec(ec({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:function(t){var o,i;null!==(o=e.onCloseAutoFocus)&&void 0!==o&&o.call(e,t),t.defaultPrevented||(r.current||null!==(i=n.triggerRef.current)&&void 0!==i&&i.focus(),t.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:function(t){var o,i;null!==(o=e.onInteractOutside)&&void 0!==o&&o.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));var c=t.target;(null===(i=n.triggerRef.current)||void 0===i?void 0:i.contains(c))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}}))})),Fc=o.forwardRef((function(e,t){var n=e.__scopeDialog,r=e.trapFocus,a=e.onOpenAutoFocus,i=e.onCloseAutoFocus,c=Qi(e,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=Ec(jc,n),l=o.useRef(null),s=ac(t,l);return $a(),(0,Jo.jsxs)(Jo.Fragment,{children:[(0,Jo.jsx)(_a,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:(0,Jo.jsx)(Pa,ec(ec({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Vc(u.open)},c),{},{ref:s,onDismiss:function(){return u.onOpenChange(!1)}}))}),(0,Jo.jsxs)(Jo.Fragment,{children:[(0,Jo.jsx)(Xc,{titleId:u.titleId}),(0,Jo.jsx)(Qc,{contentRef:l,descriptionId:u.descriptionId})]})]})})),_c="DialogTitle",Bc=o.forwardRef((function(e,t){var n=e.__scopeDialog,r=Qi(e,["__scopeDialog"]),o=Ec(_c,n);return(0,Jo.jsx)(pc.h2,ec(ec({id:o.titleId},r),{},{ref:t}))}));Bc.displayName=_c;var Uc="DialogDescription";o.forwardRef((function(e,t){var n=e.__scopeDialog,r=Qi(e,["__scopeDialog"]),o=Ec(Uc,n);return(0,Jo.jsx)(pc.p,ec(ec({id:o.descriptionId},r),{},{ref:t}))})).displayName=Uc;var zc="DialogClose",Wc=o.forwardRef((function(e,t){var n=e.__scopeDialog,r=Qi(e,["__scopeDialog"]),o=Ec(zc,n);return(0,Jo.jsx)(pc.button,ec(ec({type:"button"},r),{},{ref:t,onClick:nc(e.onClick,(function(){return o.onOpenChange(!1)}))}))}));function Vc(e){return e?"open":"closed"}Wc.displayName=zc;var Hc="DialogTitleWarning",Gc=function(e,t){var n=o.createContext(t),r=function(e){var t=e.children,r=Qi(e,["children"]),a=o.useMemo((function(){return r}),Object.values(r));return(0,Jo.jsx)(n.Provider,{value:a,children:t})};return r.displayName=e+"Provider",[r,function(r){var a=o.useContext(n);if(a)return a;if(void 0!==t)return t;throw new Error("`".concat(r,"` must be used within `").concat(e,"`"))}]}(Hc,{contentName:jc,titleName:_c,docsSlug:"dialog"}),Kc=Yi(Gc,2),qc=(Kc[0],Kc[1]),Xc=function(e){var t=e.titleId,n=qc(Hc),r="`".concat(n.contentName,"` requires a `").concat(n.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(n.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(n.docsSlug);return o.useEffect((function(){t&&(document.getElementById(t)||console.error(r))}),[r,t]),null},Qc=function(e){var t=e.contentRef,n=e.descriptionId,r="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(qc("DialogDescriptionWarning").contentName,"}.");return o.useEffect((function(){var e,o=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");n&&o&&(document.getElementById(n)||console.warn(r))}),[r,t,n]),null},Yc=Cc,Zc=Ic,$c=Rc,Jc=Lc,eu=Bc,tu=Wc;function nu(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var ru=Symbol("radix.slottable");function ou(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ru}var au=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((function(e,t){var n=function(e){var t=function(e){var t=o.forwardRef((function(e,t){var n=e.children,r=Qi(e,["children"]);if(o.isValidElement(n)){var a=function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(o=(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n),i=function(e,t){var n=ec({},t),r=function(r){var o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=function(){var e=a.apply(void 0,arguments);return o.apply(void 0,arguments),e}:o&&(n[r]=o):"style"===r?n[r]=ec(ec({},o),a):"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))};for(var o in t)r(o);return ec(ec({},e),n)}(r,n.props);return n.type!==o.Fragment&&(i.ref=t?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!1,r=t.map((function(t){var r=nu(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return function(){for(var e=0;e<r.length;e++){var n=r[e];"function"==typeof n?n():nu(t[e],null)}}}}(t,a):a),o.cloneElement(n,i)}return o.Children.count(n)>1?o.Children.only(null):null}));return t.displayName="".concat(e,".SlotClone"),t}(e),n=o.forwardRef((function(e,n){var r=e.children,a=Qi(e,["children"]),i=o.Children.toArray(r),c=i.find(ou);if(c){var u=c.props.children,l=i.map((function(e){return e===c?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:e}));return(0,Jo.jsx)(t,ec(ec({},a),{},{ref:n,children:o.isValidElement(u)?o.cloneElement(u,void 0,l):null}))}return(0,Jo.jsx)(t,ec(ec({},a),{},{ref:n,children:r}))}));return n.displayName="".concat(e,".Slot"),n}("Primitive.".concat(t)),r=o.forwardRef((function(e,r){var o=e.asChild,a=Qi(e,["asChild"]),i=o?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Jo.jsx)(i,ec(ec({},a),{},{ref:r}))}));return r.displayName="Primitive.".concat(t),ec(ec({},e),{},tc({},t,r))}),{}),iu=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cu=o.forwardRef((function(e,t){return(0,Jo.jsx)(au.span,ec(ec({},e),{},{ref:t,style:ec(ec({},iu),e.style)}))}));cu.displayName="VisuallyHidden",ln(".foundation-web-dialog-overlay{bottom:0;display:grid;left:0;overflow-y:auto;place-items:center;position:fixed;right:0;top:0}.foundation-web-dialog-close-container{right:var(--size-300);top:var(--size-300);z-index:1}.foundation-web-dialog-hero-media{border-top-left-radius:var(--radius-large);border-top-right-radius:var(--radius-large);margin-left:calc(var(--stroke-standard)*-1);margin-right:calc(var(--stroke-standard)*-1);margin-top:calc(var(--stroke-standard)*-1);overflow:clip}.foundation-web-dialog-content[data-size=Small]{max-width:calc(var(--size-100)*80);min-width:calc(var(--size-100)*75)}.foundation-web-dialog-content[data-size=Medium]{max-width:calc(var(--size-100)*120);min-width:calc(var(--size-100)*94)}.foundation-web-dialog-content[data-size=Large]{max-width:calc(var(--size-100)*160);min-width:calc(var(--size-100)*94)}");var uu=(0,o.createContext)({size:"Medium",ariaLabel:"",isModal:!0,hasCloseAffordance:!0,hasMarginTop:!0,hasMarginBottom:!0,type:"Default"}),lu=function(){var e=(0,o.useContext)(uu);if(!e)throw new Error("Dialog components must be used within a Dialog");return e},su={Small:"padding-x-large",Medium:"padding-x-xlarge",Large:"padding-x-xlarge"},du={Small:"padding-top-large",Medium:"padding-top-xlarge",Large:"padding-top-xlarge"},fu={Small:"padding-bottom-large",Medium:"padding-bottom-xlarge",Large:"padding-bottom-xlarge"},mu=function(e){var t=e.open,n=e.onOpenChange,r=e.children,i=e.size,c=e.type,u=void 0===c?"Default":c,l=e.ariaLabel,s=e.isModal,d=e.hasCloseAffordance,f=void 0===d||d,m=e.hasMarginTop,p=void 0===m||m,v=e.hasMarginBottom,h=void 0===v||v,g=e.experimentalDisablePointerEventsStylingOnBody,y=void 0!==g&&g,b=(0,o.useMemo)((function(){return{size:i,ariaLabel:l,isModal:s,type:u,hasCloseAffordance:f,hasMarginTop:p,hasMarginBottom:h}}),[i,l,s,u,f,p,h]);return(0,o.useEffect)((function(){y&&setTimeout((function(){Object.assign(document.body.style,{pointerEvents:"unset"})}),0)}),[y,t]),a().createElement(uu.Provider,{value:b},a().createElement(Yc,{open:t,onOpenChange:n},r))};mu.displayName="Dialog";var pu=function(e){var t=e.children,n=e.className,r=e.overlayClassName,o=He(e,["children","className","overlayClassName"]),i=lu(),c=i.size,u=i.isModal,l=i.hasCloseAffordance,s=qe("foundation-web-dialog-overlay padding-y-medium foundation-web-portal-zindex",u&&"bg-common-backdrop",r),d=qe("relative radius-large bg-surface-100 stroke-muted stroke-standard foundation-web-dialog-content shadow-transient-high",n);return a().createElement(Zc,null,a().createElement($c,{className:s},a().createElement(Jc,Ve({className:d,"data-size":c},o),l&&a().createElement("div",{className:"absolute foundation-web-dialog-close-container"},a().createElement(tu,{asChild:!0},a().createElement(qi,{variant:"OverMedia",size:c,isCircular:!0}))),t)))};pu.displayName="DialogContent";var vu=function(e){var t=e.children,n=e.className,r=He(e,["children","className"]);return a().createElement("div",Ve({className:qe("foundation-web-dialog-hero-media",n)},r),t)};vu.displayName="DialogHeroMedia";var hu=function(e){var t=e.children,n=e.className,r=He(e,["children","className"]),o=lu(),i=o.size,c=o.ariaLabel,u=o.hasMarginTop,l=o.hasMarginBottom,s=qe(su[i],u&&du[i],l&&fu[i],n);return a().createElement("div",Ve({className:s},r),a().createElement(cu,null,a().createElement(eu,null,c)),t)};hu.displayName="DialogBody";var gu=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},yu=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},bu=function(e){return gu(void 0,void 0,Promise,(function(){var t;return yu(this,(function(n){switch(n.label){case 0:return t={url:S.urls.getAllGroupRolePermissionsURL(e),withCredentials:!0},[4,q.httpService.get(t)];case 1:return[2,n.sent().data.data.sort((function(e,t){return t.role.rank-e.role.rank}))]}}))}))},wu=(0,o.createContext)(void 0);function Eu(e){var t=e.metadata,n=e.children;return a().createElement(wu.Provider,{value:t},n)}var Cu=function(e){return["getAllGroupRolePermissions",e]},xu=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Su=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},ku=(0,s.withTranslations)((function(e){var t=e.groupId,n=e.onSelect,r=e.onClose,i=e.hiddenRoleIds,c=e.hideGuestRole,l=e.hideOwnerRole,s=e.translate,d=(0,u.useSystemFeedback)().systemFeedbackService,f=(0,o.useState)(""),m=f[0],p=f[1],v=function(){var e=(0,o.useContext)(wu);if(!e)throw new Error("useConfigurationMetadata must be used within a ConfigurationMetadataContext");return e}(),h=(0,We.useQuery)({queryKey:Cu(t),queryFn:function(){return xu(void 0,void 0,void 0,(function(){return Su(this,(function(e){switch(e.label){case 0:return[4,bu(t)];case 1:return[2,e.sent()]}}))}))},onError:function(){return d.warning(s("NetworkError"))},retry:!1,refetchOnWindowFocus:!1}),g=h.isLoading,y=h.data,b=(0,o.useMemo)((function(){return(null==y?void 0:y.filter((function(e){return!i.find((function(t){return t===e.role.id}))&&!(c&&e.role.rank===v.roleConfiguration.minRank)&&!(l&&e.role.rank===v.roleConfiguration.maxRank)&&(0===m.length||e.role.name.toLowerCase().includes(m.toLowerCase()))})))||[]}),[y,i,m,v,c,l]);return a().createElement(mu,{ariaLabel:s("Label.ChooseRole"),open:!0,onOpenChange:r,isModal:!0,size:"Small",type:"Default"},a().createElement(pu,null,a().createElement(vu,{className:"role-select-dialog-title-bar-content"},a().createElement("div",{className:"role-select-dialog-title-bar-title"},s("Label.ChooseRole"))),a().createElement(hu,{className:"add-role-dialog"},a().createElement("input",{className:"form-control input-field",type:"text",value:m,onChange:function(e){return p(e.target.value)},placeholder:s("Label.Search")}),g?a().createElement("div",{className:"spinner spinner-default"}):a().createElement("div",{className:"role-dialog-list-container"},a().createElement("ul",{className:"role-dialog-list"},0===b.length?s("Label.NoResults",{searchTerm:m}):b.map((function(e){return a().createElement("li",{key:e.role.id,className:"role-dialog-list-item"},a().createElement(vn,{key:e.role.name,size:"Small",variant:"ActionUtility",onClick:function(){return n(e)}},e.role.name))})))))))}),Bt);function Pu(e){return function(e){if(Array.isArray(e))return Ru(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ou(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nu(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Iu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Ou(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ou(e,t){if(e){if("string"==typeof e)return Ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ru(e,t):void 0}}function Ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(n),!0).forEach((function(t){ju(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ju(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lu(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null!=e&&e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}function Mu(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Du(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!1,r=t.map((function(t){var r=Mu(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return function(){for(var e=0;e<r.length;e++){var n=r[e];"function"==typeof n?n():Mu(t[e],null)}}}}function Fu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if(1===t.length)return r;var a=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,o=n.scopeName;return Tu(Tu({},e),r(t)["__scope".concat(o)])}),{});return o.useMemo((function(){return ju({},"__scope".concat(r.scopeName),n)}),[n])}};return a.scopeName=r.scopeName,a}function _u(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e})),o.useMemo((function(){return function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}}),[])}var Bu=null!==globalThis&&void 0!==globalThis&&globalThis.document?o.useLayoutEffect:function(){};var Uu=Symbol("radix.slottable");function zu(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Uu}var Wu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=function(e){var t=function(e){var t=o.forwardRef((function(e,t){var n=e.children,r=Nu(e,["children"]);if(o.isValidElement(n)){var a=function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(o=(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n),i=function(e,t){var n=Tu({},t),r=function(r){var o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=function(){a.apply(void 0,arguments),o.apply(void 0,arguments)}:o&&(n[r]=o):"style"===r?n[r]=Tu(Tu({},o),a):"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))};for(var o in t)r(o);return Tu(Tu({},e),n)}(r,n.props);return n.type!==o.Fragment&&(i.ref=t?Du(t,a):a),o.cloneElement(n,i)}return o.Children.count(n)>1?o.Children.only(null):null}));return t.displayName="".concat(e,".SlotClone"),t}(e),n=o.forwardRef((function(e,n){var r=e.children,a=Nu(e,["children"]),i=o.Children.toArray(r),c=i.find(zu);if(c){var u=c.props.children,l=i.map((function(e){return e===c?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:e}));return(0,Jo.jsx)(t,Tu(Tu({},a),{},{ref:n,children:o.isValidElement(u)?o.cloneElement(u,void 0,l):null}))}return(0,Jo.jsx)(t,Tu(Tu({},a),{},{ref:n,children:r}))}));return n.displayName="".concat(e,".Slot"),n}("Primitive.".concat(t)),r=o.forwardRef((function(e,r){var o=e.asChild,a=Nu(e,["asChild"]),i=o?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Jo.jsx)(i,Tu(Tu({},a),{},{ref:r}))}));return r.displayName="Primitive.".concat(t),Tu(Tu({},e),{},ju({},t,r))}),{}),Vu="Switch",Hu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=function(){var t=n.map((function(e){return o.createContext(e)}));return function(n){var r=(null==n?void 0:n[e])||t;return o.useMemo((function(){return ju({},"__scope".concat(e),Tu(Tu({},n),{},ju({},e,r)))}),[n,r])}};return r.scopeName=e,[function(t,r){var a=o.createContext(r),i=n.length;n=[].concat(Pu(n),[r]);var c=function(t){var n,r=t.scope,c=t.children,u=Nu(t,["scope","children"]),l=(null==r||null===(n=r[e])||void 0===n?void 0:n[i])||a,s=o.useMemo((function(){return u}),Object.values(u));return(0,Jo.jsx)(l.Provider,{value:s,children:c})};return c.displayName=t+"Provider",[c,function(n,c){var u,l=(null==c||null===(u=c[e])||void 0===u?void 0:u[i])||a,s=o.useContext(l);if(s)return s;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},Fu.apply(void 0,[r].concat(Pu(t)))]}(Vu),Gu=Iu(Hu,2),Ku=Gu[0],qu=(Gu[1],Iu(Ku(Vu),2)),Xu=qu[0],Qu=qu[1],Yu=o.forwardRef((function(e,t){var n=e.__scopeSwitch,r=e.name,a=e.checked,i=e.defaultChecked,c=e.required,u=e.disabled,l=e.value,s=void 0===l?"on":l,d=e.onCheckedChange,f=e.form,m=Nu(e,["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),p=Iu(o.useState(null),2),v=p[0],h=p[1],g=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useCallback(Du.apply(void 0,t),t)}(t,(function(e){return h(e)})),y=o.useRef(!1),b=!v||f||!!v.closest("form"),w=function(e){var t=e.prop,n=e.defaultProp,r=e.onChange,a=void 0===r?function(){}:r,i=function(e){var t=e.defaultProp,n=e.onChange,r=o.useState(t),a=Iu(r,1)[0],i=o.useRef(a),c=_u(n);return o.useEffect((function(){i.current!==a&&(c(a),i.current=a)}),[a,i,c]),r}({defaultProp:n,onChange:a}),c=Iu(i,2),u=c[0],l=c[1],s=void 0!==t,d=s?t:u,f=_u(a);return[d,o.useCallback((function(e){if(s){var n="function"==typeof e?e(t):e;n!==t&&f(n)}else l(e)}),[s,t,l,f])]}({prop:a,defaultProp:i,onChange:d}),E=Iu(w,2),C=E[0],x=void 0!==C&&C,S=E[1];return(0,Jo.jsxs)(Xu,{scope:n,checked:x,disabled:u,children:[(0,Jo.jsx)(Wu.button,Tu(Tu({type:"button",role:"switch","aria-checked":x,"aria-required":c,"data-state":el(x),"data-disabled":u?"":void 0,disabled:u,value:s},m),{},{ref:g,onClick:Lu(e.onClick,(function(e){S((function(e){return!e})),b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())}))})),b&&(0,Jo.jsx)(Ju,{control:v,bubbles:!y.current,name:r,value:s,checked:x,required:c,disabled:u,form:f,style:{transform:"translateX(-100%)"}})]})}));Yu.displayName=Vu;var Zu="SwitchThumb",$u=o.forwardRef((function(e,t){var n=e.__scopeSwitch,r=Nu(e,["__scopeSwitch"]),o=Qu(Zu,n);return(0,Jo.jsx)(Wu.span,Tu(Tu({"data-state":el(o.checked),"data-disabled":o.disabled?"":void 0},r),{},{ref:t}))}));$u.displayName=Zu;var Ju=function(e){var t=e.control,n=e.checked,r=e.bubbles,a=void 0===r||r,i=Nu(e,["control","checked","bubbles"]),c=o.useRef(null),u=function(e){var t=o.useRef({value:e,previous:e});return o.useMemo((function(){return t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous}),[e])}(n),l=function(e){var t=Iu(o.useState(void 0),2),n=t[0],r=t[1];return Bu((function(){if(e){r({width:e.offsetWidth,height:e.offsetHeight});var t=new ResizeObserver((function(t){if(Array.isArray(t)&&t.length){var n,o,a=t[0];if("borderBoxSize"in a){var i=a.borderBoxSize,c=Array.isArray(i)?i[0]:i;n=c.inlineSize,o=c.blockSize}else n=e.offsetWidth,o=e.offsetHeight;r({width:n,height:o})}}));return t.observe(e,{box:"border-box"}),function(){return t.unobserve(e)}}r(void 0)}),[e]),n}(t);return o.useEffect((function(){var e=c.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(u!==n&&r){var o=new Event("click",{bubbles:a});r.call(e,n),e.dispatchEvent(o)}}),[u,n,a]),(0,Jo.jsx)("input",Tu(Tu({type:"checkbox","aria-hidden":!0,defaultChecked:n},i),{},{tabIndex:-1,ref:c,style:Tu(Tu(Tu({},e.style),l),{},{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function el(e){return e?"checked":"unchecked"}var tl=Yu,nl=$u,rl={XSmall:{togglePadding:null,toggleWidth:"width-700",toggleHeight:"height-400",thumbSize:"size-200",textSize:"text-title-small",textPadding:null,hintSize:"text-body-small"},Small:{togglePadding:null,toggleWidth:"width-800",toggleHeight:"height-500",thumbSize:"size-300",textSize:"text-title-small",textPadding:"padding-top-xxsmall",hintSize:"text-body-small"},Medium:{togglePadding:null,toggleWidth:"width-1000",toggleHeight:"height-600",thumbSize:"size-400",textSize:"text-title-medium",textPadding:"padding-top-xxsmall",hintSize:"text-body-medium"},Large:{togglePadding:"padding-y-xxsmall",toggleWidth:"width-1100",toggleHeight:"height-600",thumbSize:"size-400",textSize:"text-title-large",textPadding:"padding-top-xxsmall",hintSize:"text-body-large"}},ol=a().forwardRef((function(e,t){var n,r=e.label,o=e.className,i=e.isChecked,c=e.isDisabled,u=e.size,l=e.hint,s=e.placement,d=e.onCheckedChange,f=He(e,["label","className","isChecked","isDisabled","size","hint","placement","onCheckedChange"]),m=rl[u],p=m.togglePadding,v=m.toggleWidth,h=m.toggleHeight,g=m.thumbSize,y=m.textSize,b=m.textPadding,w=m.hintSize;return a().createElement("label",{className:qe("foundation-web-toggle flex gap-medium items-start",(n={},n[Ye]=c,n["flex-row"]="Start"===s,n["flex-row-reverse"]="End"===s,n),o)},a().createElement("div",{className:qe("flex",p)},a().createElement(tl,Ve({ref:t,className:qe(Xe,"flex items-center padding-x-xsmall padding-y-none stroke-none radius-circle",v,h,i?"bg-system-emphasis":"bg-action-standard"),disabled:c,checked:i,onCheckedChange:d},f),a().createElement(Qe,null),a().createElement("span",{className:qe("motion-safe:transition-[flex-grow] ease-standard-out duration-100",i?"fill":"size-0")}),a().createElement(nl,{className:qe("transition-colors radius-circle",g,i?"bg-[var(--dark-mode-action-standard-foreground)]":"bg-[var(--color-action-standard-foreground)]")}),a().createElement("span",{className:qe("motion-safe:transition-[flex-grow] ease-standard-out duration-100",i?"size-0":"fill")}))),r&&a().createElement("div",{className:"flex flex-col fill"},a().createElement("span",{className:qe("content-emphasis",b,y)},r),l&&a().createElement("span",{className:qe("content-default",w)},l)))}));ol.displayName="Toggle";var al={groupPostsPermissions:"Heading.PostsPermissions",groupForumsPermissions:"Heading.ForumsPermissions",groupMembershipPermissions:"Heading.MembershipPermissions",groupEconomyPermissions:"Heading.EconomyPermissions",groupManagementPermissions:"Heading.ManagementPermissions",groupOpenCloudPermissions:"Heading.OpenCloudPermissions",groupContentModerationPermissions:"Heading.ContentModerationPermissions",administerCloudAuthentication:"Label.AdministerCloudAuthentication",useCloudAuthentication:"Label.ManageCloudAuthentication",viewWall:"Label.ViewWall",postToWall:"Label.PostToWall",deleteFromWall:"Label.DeleteFromWall",viewStatus:"Label.ViewStatus",viewAnnouncements:"Label.ViewAnnouncements",postToStatus:"Label.PostToStatus",changeRank:"Label.ChangeRanks",inviteMembers:"Label.InviteMembers",removeMembers:"Label.RemoveMembers",banMembers:"Label.BanMembers",manageRelationships:"Label.ManageRelationships",viewAuditLogs:"Label.ViewAuditLogs",spendGroupFunds:"Label.SpendGroupFund",createItems:"Label.CreateItem",manageItems:"Label.ManageItems",manageGroupGames:"Label.ManageGroupGames",viewAnalytics:"Label.ViewAnalytics",viewForums:"Label.ViewForums",manageCategories:"Label.ManageForumCategories",createPosts:"Label.CreateForumPosts",removePosts:"Label.RemoveForumPosts",lockPosts:"Label.LockForumPosts",pinPosts:"Label.PinForumPosts",createComments:"Label.CreateForumComments",removeComments:"Label.RemoveForumComments",manageKeywordBlockList:"Label.ManageContentModeration",viewKeywordBlockList:"Label.ViewContentModeration",bypassSlowmode:"Label.BypassSlowMode"},il={roleSettingsTranslationKey:al,channelRoleSettingsTranslationKey:{manageCategories:"Label.ManageForumCategory"}},cl=function(e,t){if(void 0===t&&(t=!1),t){var n=il.channelRoleSettingsTranslationKey[e];if(n)return n}return il.roleSettingsTranslationKey[e]},ul=(0,s.withTranslations)((function(e){var t=e.isChannelPermissions,n=e.permissions,r=e.togglePermission,o=e.translate;return a().createElement("div",{className:"group-config-permissions-section"},Object.entries(n).map((function(e){var n=e[0],i=e[1],c=cl(n,t);return c&&a().createElement("div",{className:"group-config-permissions-section-row",key:n},a().createElement(ol,{isChecked:i,label:o(c),onCheckedChange:function(){return r(n,!i)},size:"Medium",placement:"End"}))})))}),Bt);function ll(e){return function(e){if(Array.isArray(e))return fl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||dl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||dl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e,t){if(e){if("string"==typeof e)return fl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fl(e,t):void 0}}function fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ml(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if(1===t.length)return r;var a=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,o=n.scopeName;return vl(vl({},e),r(t)["__scope".concat(o)])}),{});return o.useMemo((function(){return hl({},"__scope".concat(r.scopeName),n)}),[n])}};return a.scopeName=r.scopeName,a}function yl(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function bl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!1,r=t.map((function(t){var r=yl(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return function(){for(var e=0;e<r.length;e++){var n=r[e];"function"==typeof n?n():yl(t[e],null)}}}}function wl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useCallback(bl.apply(void 0,t),t)}function El(e){var t=function(e){var t=o.forwardRef((function(e,t){var n=e.children,r=ml(e,["children"]);if(o.isValidElement(n)){var a=function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(o=(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n),i=function(e,t){var n=vl({},t),r=function(r){var o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=function(){a.apply(void 0,arguments),o.apply(void 0,arguments)}:o&&(n[r]=o):"style"===r?n[r]=vl(vl({},o),a):"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))};for(var o in t)r(o);return vl(vl({},e),n)}(r,n.props);return n.type!==o.Fragment&&(i.ref=t?bl(t,a):a),o.cloneElement(n,i)}return o.Children.count(n)>1?o.Children.only(null):null}));return t.displayName="".concat(e,".SlotClone"),t}(e),n=o.forwardRef((function(e,n){var r=e.children,a=ml(e,["children"]),i=o.Children.toArray(r),c=i.find(xl);if(c){var u=c.props.children,l=i.map((function(e){return e===c?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:e}));return(0,Jo.jsx)(t,vl(vl({},a),{},{ref:n,children:o.isValidElement(u)?o.cloneElement(u,void 0,l):null}))}return(0,Jo.jsx)(t,vl(vl({},a),{},{ref:n,children:r}))}));return n.displayName="".concat(e,".Slot"),n}var Cl=Symbol("radix.slottable");function xl(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Cl}var Sl=o.createContext(void 0);function kl(e){return kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(e)}function Pl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Nl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Ol(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Il(e){return function(e){if(Array.isArray(e))return Rl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ol(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ol(e,t){if(e){if("string"==typeof e)return Rl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rl(e,t):void 0}}function Rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Al(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Tl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Al(a,r,o,i,c,"next",e)}function c(e){Al(a,r,o,i,c,"throw",e)}i(void 0)}))}}function jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(n),!0).forEach((function(t){Ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ml(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dl=["top","right","bottom","left"],Fl=Math.min,_l=Math.max,Bl=Math.round,Ul=Math.floor,zl=function(e){return{x:e,y:e}},Wl={left:"right",right:"left",bottom:"top",top:"bottom"},Vl={start:"end",end:"start"};function Hl(e,t,n){return _l(e,Fl(t,n))}function Gl(e,t){return"function"==typeof e?e(t):e}function Kl(e){return e.split("-")[0]}function ql(e){return e.split("-")[1]}function Xl(e){return"x"===e?"y":"x"}function Ql(e){return"y"===e?"height":"width"}var Yl=new Set(["top","bottom"]);function Zl(e){return Yl.has(Kl(e))?"y":"x"}function $l(e){return Xl(Zl(e))}function Jl(e){return e.replace(/start|end/g,(function(e){return Vl[e]}))}var es=["left","right"],ts=["right","left"],ns=["top","bottom"],rs=["bottom","top"];function os(e,t,n,r){var o=ql(e),a=function(e,t,n){switch(e){case"top":case"bottom":return n?t?ts:es:t?es:ts;case"left":case"right":return t?ns:rs;default:return[]}}(Kl(e),"start"===n,r);return o&&(a=a.map((function(e){return e+"-"+o})),t&&(a=a.concat(a.map(Jl)))),a}function as(e){return e.replace(/left|right|bottom|top/g,(function(e){return Wl[e]}))}function is(e){return"number"!=typeof e?function(e){return Ll({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function cs(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function us(e,t,n){var r,o=e.reference,a=e.floating,i=Zl(t),c=$l(t),u=Ql(c),l=Kl(t),s="y"===i,d=o.x+o.width/2-a.width/2,f=o.y+o.height/2-a.height/2,m=o[u]/2-a[u]/2;switch(l){case"top":r={x:d,y:o.y-a.height};break;case"bottom":r={x:d,y:o.y+o.height};break;case"right":r={x:o.x+o.width,y:f};break;case"left":r={x:o.x-a.width,y:f};break;default:r={x:o.x,y:o.y}}switch(ql(t)){case"start":r[c]-=m*(n&&s?-1:1);break;case"end":r[c]+=m*(n&&s?-1:1)}return r}function ls(e,t){return ss.apply(this,arguments)}function ss(){return ss=Tl(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,u,l,s,d,f,m,p,v,h,g,y,b,w,E,C,x,S,k,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),o=t.x,a=t.y,i=t.platform,c=t.rects,u=t.elements,l=t.strategy,s=Gl(n,t),d=s.boundary,f=void 0===d?"clippingAncestors":d,m=s.rootBoundary,p=void 0===m?"viewport":m,v=s.elementContext,h=void 0===v?"floating":v,g=s.altBoundary,y=void 0!==g&&g,b=s.padding,w=is(void 0===b?0:b),E=u[y?"floating"===h?"reference":"floating":h],e.t0=cs,e.t1=i,e.next=24,null==i.isElement?void 0:i.isElement(E);case 24:if(e.t3=r=e.sent,e.t2=null==e.t3,e.t2){e.next=28;break}e.t2=r;case 28:if(!e.t2){e.next=32;break}e.t4=E,e.next=38;break;case 32:if(e.t5=E.contextElement,e.t5){e.next=37;break}return e.next=36,null==i.getDocumentElement?void 0:i.getDocumentElement(u.floating);case 36:e.t5=e.sent;case 37:e.t4=e.t5;case 38:return e.t6=e.t4,e.t7=f,e.t8=p,e.t9=l,e.t10={element:e.t6,boundary:e.t7,rootBoundary:e.t8,strategy:e.t9},e.next=45,e.t1.getClippingRect.call(e.t1,e.t10);case 45:return e.t11=e.sent,C=(0,e.t0)(e.t11),x="floating"===h?{x:o,y:a,width:c.floating.width,height:c.floating.height}:c.reference,e.next=50,null==i.getOffsetParent?void 0:i.getOffsetParent(u.floating);case 50:return S=e.sent,e.next=53,null==i.isElement?void 0:i.isElement(S);case 53:if(e.t13=e.sent,!e.t13){e.next=58;break}return e.next=57,null==i.getScale?void 0:i.getScale(S);case 57:e.t13=e.sent;case 58:if(e.t12=e.t13,e.t12){e.next=61;break}e.t12={x:1,y:1};case 61:if(k=e.t12,e.t14=cs,!i.convertOffsetParentRelativeRectToViewportRelativeRect){e.next=69;break}return e.next=66,i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:x,offsetParent:S,strategy:l});case 66:e.t15=e.sent,e.next=70;break;case 69:e.t15=x;case 70:return e.t16=e.t15,P=(0,e.t14)(e.t16),e.abrupt("return",{top:(C.top-P.top+w.top)/k.y,bottom:(P.bottom-C.bottom+w.bottom)/k.y,left:(C.left-P.left+w.left)/k.x,right:(P.right-C.right+w.right)/k.x});case 73:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function ds(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fs(e){return Dl.some((function(t){return e[t]>=0}))}var ms=new Set(["left","top"]);function ps(){return"undefined"!=typeof window}function vs(e){return ys(e)?(e.nodeName||"").toLowerCase():"#document"}function hs(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function gs(e){var t;return null==(t=(ys(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ys(e){return!!ps()&&(e instanceof Node||e instanceof hs(e).Node)}function bs(e){return!!ps()&&(e instanceof Element||e instanceof hs(e).Element)}function ws(e){return!!ps()&&(e instanceof HTMLElement||e instanceof hs(e).HTMLElement)}function Es(e){return!(!ps()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof hs(e).ShadowRoot)}var Cs=new Set(["inline","contents"]);function xs(e){var t=Ms(e),n=t.overflow,r=t.overflowX,o=t.overflowY,a=t.display;return/auto|scroll|overlay|hidden|clip/.test(n+o+r)&&!Cs.has(a)}var Ss=new Set(["table","td","th"]);function ks(e){return Ss.has(vs(e))}var Ps=[":popover-open",":modal"];function Ns(e){return Ps.some((function(t){try{return e.matches(t)}catch(e){return!1}}))}var Is=["transform","translate","scale","rotate","perspective"],Os=["transform","translate","scale","rotate","perspective","filter"],Rs=["paint","layout","strict","content"];function As(e){var t=Ts(),n=bs(e)?Ms(e):e;return Is.some((function(e){return!!n[e]&&"none"!==n[e]}))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||Os.some((function(e){return(n.willChange||"").includes(e)}))||Rs.some((function(e){return(n.contain||"").includes(e)}))}function Ts(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}var js=new Set(["html","body","#document"]);function Ls(e){return js.has(vs(e))}function Ms(e){return hs(e).getComputedStyle(e)}function Ds(e){return bs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fs(e){if("html"===vs(e))return e;var t=e.assignedSlot||e.parentNode||Es(e)&&e.host||gs(e);return Es(t)?t.host:t}function _s(e){var t=Fs(e);return Ls(t)?e.ownerDocument?e.ownerDocument.body:e.body:ws(t)&&xs(t)?t:_s(t)}function Bs(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);var o=_s(e),a=o===(null==(r=e.ownerDocument)?void 0:r.body),i=hs(o);if(a){var c=Us(i);return t.concat(i,i.visualViewport||[],xs(o)?o:[],c&&n?Bs(c):[])}return t.concat(o,Bs(o,[],n))}function Us(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zs(e){var t=Ms(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,o=ws(e),a=o?e.offsetWidth:n,i=o?e.offsetHeight:r,c=Bl(n)!==a||Bl(r)!==i;return c&&(n=a,r=i),{width:n,height:r,$:c}}function Ws(e){return bs(e)?e:e.contextElement}function Vs(e){var t=Ws(e);if(!ws(t))return zl(1);var n=t.getBoundingClientRect(),r=zs(t),o=r.width,a=r.height,i=r.$,c=(i?Bl(n.width):n.width)/o,u=(i?Bl(n.height):n.height)/a;return c&&Number.isFinite(c)||(c=1),u&&Number.isFinite(u)||(u=1),{x:c,y:u}}var Hs=zl(0);function Gs(e){var t=hs(e);return Ts()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Hs}function Ks(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=e.getBoundingClientRect(),a=Ws(e),i=zl(1);t&&(r?bs(r)&&(i=Vs(r)):i=Vs(e));var c=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==hs(e))&&t}(a,n,r)?Gs(a):zl(0),u=(o.left+c.x)/i.x,l=(o.top+c.y)/i.y,s=o.width/i.x,d=o.height/i.y;if(a)for(var f=hs(a),m=r&&bs(r)?hs(r):r,p=f,v=Us(p);v&&r&&m!==p;){var h=Vs(v),g=v.getBoundingClientRect(),y=Ms(v),b=g.left+(v.clientLeft+parseFloat(y.paddingLeft))*h.x,w=g.top+(v.clientTop+parseFloat(y.paddingTop))*h.y;u*=h.x,l*=h.y,s*=h.x,d*=h.y,u+=b,l+=w,v=Us(p=hs(v))}return cs({width:s,height:d,x:u,y:l})}function qs(e,t){var n=Ds(e).scrollLeft;return t?t.left+n:Ks(gs(e)).left+n}function Xs(e,t,n){void 0===n&&(n=!1);var r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:qs(e,r)),y:r.top+t.scrollTop}}var Qs=new Set(["absolute","fixed"]);function Ys(e,t,n){var r;if("viewport"===t)r=function(e,t){var n=hs(e),r=gs(e),o=n.visualViewport,a=r.clientWidth,i=r.clientHeight,c=0,u=0;if(o){a=o.width,i=o.height;var l=Ts();(!l||l&&"fixed"===t)&&(c=o.offsetLeft,u=o.offsetTop)}return{width:a,height:i,x:c,y:u}}(e,n);else if("document"===t)r=function(e){var t=gs(e),n=Ds(e),r=e.ownerDocument.body,o=_l(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=_l(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),i=-n.scrollLeft+qs(e),c=-n.scrollTop;return"rtl"===Ms(r).direction&&(i+=_l(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:c}}(gs(e));else if(bs(t))r=function(e,t){var n=Ks(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=ws(e)?Vs(e):zl(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:o*a.x,y:r*a.y}}(t,n);else{var o=Gs(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return cs(r)}function Zs(e,t){var n=Fs(e);return!(n===t||!bs(n)||Ls(n))&&("fixed"===Ms(n).position||Zs(n,t))}function $s(e,t,n){var r=ws(t),o=gs(t),a="fixed"===n,i=Ks(e,!0,a,t),c={scrollLeft:0,scrollTop:0},u=zl(0);function l(){u.x=qs(o)}if(r||!r&&!a)if(("body"!==vs(t)||xs(o))&&(c=Ds(t)),r){var s=Ks(t,!0,a,t);u.x=s.x+t.clientLeft,u.y=s.y+t.clientTop}else o&&l();a&&!r&&o&&l();var d=!o||r||a?zl(0):Xs(o,c);return{x:i.left+c.scrollLeft-u.x-d.x,y:i.top+c.scrollTop-u.y-d.y,width:i.width,height:i.height}}function Js(e){return"static"===Ms(e).position}function ed(e,t){if(!ws(e)||"fixed"===Ms(e).position)return null;if(t)return t(e);var n=e.offsetParent;return gs(e)===n&&(n=n.ownerDocument.body),n}function td(e,t){var n=hs(e);if(Ns(e))return n;if(!ws(e)){for(var r=Fs(e);r&&!Ls(r);){if(bs(r)&&!Js(r))return r;r=Fs(r)}return n}for(var o=ed(e,t);o&&ks(o)&&Js(o);)o=ed(o,t);return o&&Ls(o)&&Js(o)&&!As(o)?n:o||function(e){for(var t=Fs(e);ws(t)&&!Ls(t);){if(As(t))return t;if(Ns(t))return null;t=Fs(t)}return null}(e)||n}var nd,rd={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){var t=e.elements,n=e.rect,r=e.offsetParent,o="fixed"===e.strategy,a=gs(r),i=!!t&&Ns(t.floating);if(r===a||i&&o)return n;var c={scrollLeft:0,scrollTop:0},u=zl(1),l=zl(0),s=ws(r);if((s||!s&&!o)&&(("body"!==vs(r)||xs(a))&&(c=Ds(r)),ws(r))){var d=Ks(r);u=Vs(r),l.x=d.x+r.clientLeft,l.y=d.y+r.clientTop}var f=!a||s||o?zl(0):Xs(a,c,!0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+l.x+f.x,y:n.y*u.y-c.scrollTop*u.y+l.y+f.y}},getDocumentElement:gs,getClippingRect:function(e){var t=e.element,n=e.boundary,r=e.rootBoundary,o=e.strategy,a=[].concat(Il("clippingAncestors"===n?Ns(t)?[]:function(e,t){var n=t.get(e);if(n)return n;for(var r=Bs(e,[],!1).filter((function(e){return bs(e)&&"body"!==vs(e)})),o=null,a="fixed"===Ms(e).position,i=a?Fs(e):e;bs(i)&&!Ls(i);){var c=Ms(i),u=As(i);u||"fixed"!==c.position||(o=null),(a?!u&&!o:!u&&"static"===c.position&&o&&Qs.has(o.position)||xs(i)&&!u&&Zs(e,i))?r=r.filter((function(e){return e!==i})):o=c,i=Fs(i)}return t.set(e,r),r}(t,this._c):[].concat(n)),[r]),i=a[0],c=a.reduce((function(e,n){var r=Ys(t,n,o);return e.top=_l(r.top,e.top),e.right=Fl(r.right,e.right),e.bottom=Fl(r.bottom,e.bottom),e.left=_l(r.left,e.left),e}),Ys(t,i,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:td,getElementRects:(nd=Tl(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getOffsetParent||td,r=this.getDimensions,e.next=4,r(t.floating);case 4:return o=e.sent,e.t0=$s,e.t1=t.reference,e.next=9,n(t.floating);case 9:return e.t2=e.sent,e.t3=t.strategy,e.t4=(0,e.t0)(e.t1,e.t2,e.t3),e.t5={x:0,y:0,width:o.width,height:o.height},e.abrupt("return",{reference:e.t4,floating:e.t5});case 14:case"end":return e.stop()}}),e,this)}))),function(e){return nd.apply(this,arguments)}),getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){var t=zs(e);return{width:t.width,height:t.height}},getScale:Vs,isElement:bs,isRTL:function(e){return"rtl"===Ms(e).direction}};function od(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ad(e,t,n,r){void 0===r&&(r={});var o=r,a=o.ancestorScroll,i=void 0===a||a,c=o.ancestorResize,u=void 0===c||c,l=o.elementResize,s=void 0===l?"function"==typeof ResizeObserver:l,d=o.layoutShift,f=void 0===d?"function"==typeof IntersectionObserver:d,m=o.animationFrame,p=void 0!==m&&m,v=Ws(e),h=i||u?[].concat(Il(v?Bs(v):[]),Il(Bs(t))):[];h.forEach((function(e){i&&e.addEventListener("scroll",n,{passive:!0}),u&&e.addEventListener("resize",n)}));var g,y=v&&f?function(e,t){var n,r=null,o=gs(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function i(c,u){void 0===c&&(c=!1),void 0===u&&(u=1),a();var l=e.getBoundingClientRect(),s=l.left,d=l.top,f=l.width,m=l.height;if(c||t(),f&&m){var p={rootMargin:-Ul(d)+"px "+-Ul(o.clientWidth-(s+f))+"px "+-Ul(o.clientHeight-(d+m))+"px "+-Ul(s)+"px",threshold:_l(0,Fl(1,u))||1},v=!0;try{r=new IntersectionObserver(h,Ll(Ll({},p),{},{root:o.ownerDocument}))}catch(e){r=new IntersectionObserver(h,p)}r.observe(e)}function h(t){var r=t[0].intersectionRatio;if(r!==u){if(!v)return i();r?i(!1,r):n=setTimeout((function(){i(!1,1e-7)}),1e3)}1!==r||od(l,e.getBoundingClientRect())||i(),v=!1}}(!0),a}(v,n):null,b=-1,w=null;s&&(w=new ResizeObserver((function(e){var r=Nl(e,1)[0];r&&r.target===v&&w&&(w.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame((function(){var e;null==(e=w)||e.observe(t)}))),n()})),v&&!p&&w.observe(v),w.observe(t));var E=p?Ks(e):null;return p&&function t(){var r=Ks(e);E&&!od(E,r)&&n(),E=r,g=requestAnimationFrame(t)}(),n(),function(){var e;h.forEach((function(e){i&&e.removeEventListener("scroll",n),u&&e.removeEventListener("resize",n)})),null==y||y(),null==(e=w)||e.disconnect(),w=null,p&&cancelAnimationFrame(g)}}var id=function(e){return{name:"arrow",options:e,fn:function(t){return Tl(regeneratorRuntime.mark((function n(){var r,o,a,i,c,u,l,s,d,f,m,p,v,h,g,y,b,w,E,C,x,S,k,P,N,I,O,R,A,T,j,L,M,D,F,_;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.x,i=t.y,c=t.placement,u=t.rects,l=t.platform,s=t.elements,d=t.middlewareData,f=Gl(e,t)||{},m=f.element,p=f.padding,v=void 0===p?0:p,null!=m){n.next=3;break}return n.abrupt("return",{});case 3:return h=is(v),g={x:a,y:i},y=$l(c),b=Ql(y),n.next=9,l.getDimensions(m);case 9:return w=n.sent,C=(E="y"===y)?"top":"left",x=E?"bottom":"right",S=E?"clientHeight":"clientWidth",k=u.reference[b]+u.reference[y]-g[y]-u.floating[b],P=g[y]-u.reference[y],n.next=18,null==l.getOffsetParent?void 0:l.getOffsetParent(m);case 18:if(N=n.sent,I=N?N[S]:0,n.t0=I,!n.t0){n.next=25;break}return n.next=24,null==l.isElement?void 0:l.isElement(N);case 24:n.t0=n.sent;case 25:if(n.t1=n.t0,n.t1){n.next=28;break}I=s.floating[S]||u.floating[b];case 28:return O=k/2-P/2,R=I/2-w[b]/2-1,A=Fl(h[C],R),T=Fl(h[x],R),j=A,L=I-w[b]-T,M=I/2-w[b]/2+O,D=Hl(j,M,L),F=!d.arrow&&null!=ql(c)&&M!==D&&u.reference[b]/2-(M<j?A:T)-w[b]/2<0,_=F?M<j?M-j:M-L:0,n.abrupt("return",(Ml(o={},y,g[y]+_),Ml(o,"data",Ll((Ml(r={},y,D),Ml(r,"centerOffset",M-D-_),r),F&&{alignmentOffset:_})),Ml(o,"reset",F),o));case 30:case"end":return n.stop()}}),n)})))()}}},cd="undefined"!=typeof document?o.useLayoutEffect:function(){};function ud(e,t){if(e===t)return!0;if(kl(e)!=kl(t))return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;var n,r,o;if(e&&t&&"object"==kl(e)){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!=r--;)if(!ud(e[r],t[r]))return!1;return!0}if((n=(o=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){var a=o[r];if(!("_owner"===a&&e.$$typeof||ud(e[a],t[a])))return!1}return!0}return e!=e&&t!=t}function ld(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sd(e,t){var n=ld(e);return Math.round(t*n)/n}function dd(e){var t=o.useRef(e);return cd((function(){t.current=e})),t}function fd(e){void 0===e&&(e={});var t=e,n=t.placement,r=void 0===n?"bottom":n,a=t.strategy,c=void 0===a?"absolute":a,u=t.middleware,l=void 0===u?[]:u,s=t.platform,d=t.elements,f=(d=void 0===d?{}:d).reference,m=d.floating,p=t.transform,v=void 0===p||p,h=t.whileElementsMounted,g=t.open,y=Nl(o.useState({x:0,y:0,strategy:c,placement:r,middlewareData:{},isPositioned:!1}),2),b=y[0],w=y[1],E=Nl(o.useState(l),2),C=E[0],x=E[1];ud(C,l)||x(l);var S=Nl(o.useState(null),2),k=S[0],P=S[1],N=Nl(o.useState(null),2),I=N[0],O=N[1],R=o.useCallback((function(e){e!==L.current&&(L.current=e,P(e))}),[]),A=o.useCallback((function(e){e!==M.current&&(M.current=e,O(e))}),[]),T=f||k,j=m||I,L=o.useRef(null),M=o.useRef(null),D=o.useRef(b),F=null!=h,_=dd(h),B=dd(s),U=dd(g),z=o.useCallback((function(){if(L.current&&M.current){var e={placement:r,strategy:c,middleware:C};B.current&&(e.platform=B.current),function(e,t,n){var r=new Map,o=Ll({platform:rd},n),a=Ll(Ll({},o.platform),{},{_c:r});return function(){var e=Tl(regeneratorRuntime.mark((function e(t,n,r){var o,a,i,c,u,l,s,d,f,m,p,v,h,g,y,b,w,E,C,x,S,k,P,N,I,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.placement,a=void 0===o?"bottom":o,i=r.strategy,c=void 0===i?"absolute":i,u=r.middleware,l=void 0===u?[]:u,s=r.platform,d=l.filter(Boolean),e.next=10,null==s.isRTL?void 0:s.isRTL(n);case 10:return f=e.sent,e.next=13,s.getElementRects({reference:t,floating:n,strategy:c});case 13:m=e.sent,p=us(m,a,f),v=p.x,h=p.y,g=a,y={},b=0,w=0;case 21:if(!(w<d.length)){e.next=56;break}return C=d[w],x=C.name,S=C.fn,e.next=27,S({x:v,y:h,initialPlacement:a,placement:g,strategy:c,middlewareData:y,rects:m,platform:s,elements:{reference:t,floating:n}});case 27:if(k=e.sent,P=k.x,N=k.y,I=k.data,O=k.reset,v=null!=P?P:v,h=null!=N?N:h,y=Ll(Ll({},y),{},Ml({},x,Ll(Ll({},y[x]),I))),e.t0=O&&b<=50,!e.t0){e.next=53;break}if(b++,e.t1="object"==kl(O),!e.t1){e.next=52;break}if(O.placement&&(g=O.placement),e.t2=O.rects,!e.t2){e.next=51;break}if(!0!==O.rects){e.next=49;break}return e.next=46,s.getElementRects({reference:t,floating:n,strategy:c});case 46:e.t3=e.sent,e.next=50;break;case 49:e.t3=O.rects;case 50:m=e.t3;case 51:E=us(m,g,f),v=E.x,h=E.y;case 52:w=-1;case 53:w++,e.next=21;break;case 56:return e.abrupt("return",{x:v,y:h,placement:g,strategy:c,middlewareData:y});case 57:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(e,t,Ll(Ll({},o),{},{platform:a}))}(L.current,M.current,e).then((function(e){var t=Ll(Ll({},e),{},{isPositioned:!1!==U.current});W.current&&!ud(D.current,t)&&(D.current=t,i.flushSync((function(){w(t)})))}))}}),[C,r,c,B,U]);cd((function(){!1===g&&D.current.isPositioned&&(D.current.isPositioned=!1,w((function(e){return Ll(Ll({},e),{},{isPositioned:!1})})))}),[g]);var W=o.useRef(!1);cd((function(){return W.current=!0,function(){W.current=!1}}),[]),cd((function(){if(T&&(L.current=T),j&&(M.current=j),T&&j){if(_.current)return _.current(T,j,z);z()}}),[T,j,z,_,F]);var V=o.useMemo((function(){return{reference:L,floating:M,setReference:R,setFloating:A}}),[R,A]),H=o.useMemo((function(){return{reference:T,floating:j}}),[T,j]),G=o.useMemo((function(){var e={position:c,left:0,top:0};if(!H.floating)return e;var t=sd(H.floating,b.x),n=sd(H.floating,b.y);return v?Ll(Ll({},e),{},{transform:"translate("+t+"px, "+n+"px)"},ld(H.floating)>=1.5&&{willChange:"transform"}):{position:c,left:t,top:n}}),[c,v,H.floating,b.x,b.y]);return o.useMemo((function(){return Ll(Ll({},b),{},{update:z,refs:V,elements:H,floatingStyles:G})}),[b,z,V,H,G])}var md=function(e,t){return Ll(Ll({},function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn:function(t){return Tl(regeneratorRuntime.mark((function n(){var r,o,a,i,c,u,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.x,i=t.y,c=t.placement,u=t.middlewareData,n.next=6,function(){var e=Tl(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,u,l,s,d,f,m,p,v,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.placement,o=t.platform,a=t.elements,e.next=5,null==o.isRTL?void 0:o.isRTL(a.floating);case 5:return i=e.sent,c=Kl(r),u=ql(r),l="y"===Zl(r),s=ms.has(c)?-1:1,d=i&&l?-1:1,f=Gl(n,t),m="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis},p=m.mainAxis,v=m.crossAxis,h=m.alignmentAxis,e.abrupt("return",(u&&"number"==typeof h&&(v="end"===u?-1*h:h),l?{x:v*d,y:p*s}:{x:p*s,y:v*d}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,e);case 6:return l=n.sent,n.abrupt("return",c===(null==(r=u.offset)?void 0:r.placement)&&null!=(o=u.arrow)&&o.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:Ll(Ll({},l),{},{placement:c})});case 8:case"end":return n.stop()}}),n)})))()}}}(e)),{},{options:[e,t]})},pd=function(e,t){return Ll(Ll({},function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn:function(t){return Tl(regeneratorRuntime.mark((function n(){var r,o,a,i,c,u,l,s,d,f,m,p,v,h,g,y,b,w,E,C,x,S;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.x,i=t.y,c=t.placement,u=Gl(e,t),l=u.mainAxis,s=void 0===l||l,d=u.crossAxis,f=void 0!==d&&d,m=u.limiter,p=void 0===m?{fn:function(e){return{x:e.x,y:e.y}}}:m,v=Pl(u,["mainAxis","crossAxis","limiter"]),h={x:a,y:i},n.next=14,ls(t,v);case 14:return g=n.sent,y=Zl(Kl(c)),b=Xl(y),w=h[b],E=h[y],s&&(C="y"===b?"bottom":"right",w=Hl(w+g["y"===b?"top":"left"],w,w-g[C])),f&&(x="y"===y?"bottom":"right",E=Hl(E+g["y"===y?"top":"left"],E,E-g[x])),S=p.fn(Ll(Ll({},t),{},(Ml(r={},b,w),Ml(r,y,E),r))),n.abrupt("return",Ll(Ll({},S),{},{data:{x:S.x-a,y:S.y-i,enabled:(o={},Ml(o,b,s),Ml(o,y,f),o)}}));case 22:case"end":return n.stop()}}),n)})))()}}}(e)),{},{options:[e,t]})},vd=function(e,t){return Ll(Ll({},function(e){return void 0===e&&(e={}),{options:e,fn:function(t){var n,r=t.x,o=t.y,a=t.placement,i=t.rects,c=t.middlewareData,u=Gl(e,t),l=u.offset,s=void 0===l?0:l,d=u.mainAxis,f=void 0===d||d,m=u.crossAxis,p=void 0===m||m,v={x:r,y:o},h=Zl(a),g=Xl(h),y=v[g],b=v[h],w=Gl(s,t),E="number"==typeof w?{mainAxis:w,crossAxis:0}:Ll({mainAxis:0,crossAxis:0},w);if(f){var C="y"===g?"height":"width",x=i.reference[g]-i.floating[C]+E.mainAxis,S=i.reference[g]+i.reference[C]-E.mainAxis;y<x?y=x:y>S&&(y=S)}if(p){var k,P,N="y"===g?"width":"height",I=ms.has(Kl(a)),O=i.reference[h]-i.floating[N]+(I&&(null==(k=c.offset)?void 0:k[h])||0)+(I?0:E.crossAxis),R=i.reference[h]+i.reference[N]+(I?0:(null==(P=c.offset)?void 0:P[h])||0)-(I?E.crossAxis:0);b<O?b=O:b>R&&(b=R)}return Ml(n={},g,y),Ml(n,h,b),n}}}(e)),{},{options:[e,t]})},hd=function(e,t){return Ll(Ll({},function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn:function(t){return Tl(regeneratorRuntime.mark((function n(){var r,o,a,i,c,u,l,s,d,f,m,p,v,h,g,y,b,w,E,C,x,S,k,P,N,I,O,R,A,T,j,L,M,D,F,_,B,U,z;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.placement,i=t.middlewareData,c=t.rects,u=t.initialPlacement,l=t.platform,s=t.elements,d=Gl(e,t),f=d.mainAxis,m=void 0===f||f,p=d.crossAxis,v=void 0===p||p,h=d.fallbackPlacements,g=d.fallbackStrategy,y=void 0===g?"bestFit":g,b=d.fallbackAxisSideDirection,w=void 0===b?"none":b,E=d.flipAlignment,C=void 0===E||E,x=Pl(d,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]),null==(r=i.arrow)||!r.alignmentOffset){n.next=3;break}return n.abrupt("return",{});case 3:return S=Kl(a),k=Zl(u),P=Kl(u)===u,n.next=8,null==l.isRTL?void 0:l.isRTL(s.floating);case 8:return N=n.sent,I=h||(P||!C?[as(u)]:function(e){var t=as(e);return[Jl(e),t,Jl(t)]}(u)),O="none"!==w,!h&&O&&I.push.apply(I,Il(os(u,C,w,N))),R=[u].concat(Il(I)),n.next=15,ls(t,x);case 15:if(A=n.sent,T=[],j=(null==(o=i.flip)?void 0:o.overflows)||[],m&&T.push(A[S]),v&&(L=function(e,t,n){void 0===n&&(n=!1);var r=ql(e),o=$l(e),a=Ql(o),i="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=as(i)),[i,as(i)]}(a,c,N),T.push(A[L[0]],A[L[1]])),j=[].concat(Il(j),[{placement:a,overflows:T}]),T.every((function(e){return e<=0}))){n.next=35;break}if(F=((null==(M=i.flip)?void 0:M.index)||0)+1,!(_=R[F])){n.next=24;break}if("alignment"===v&&k!==Zl(_)&&!j.every((function(e){return Zl(e.placement)!==k||e.overflows[0]>0}))){n.next=24;break}return n.abrupt("return",{data:{index:F,overflows:j},reset:{placement:_}});case 24:if(B=null==(D=j.filter((function(e){return e.overflows[0]<=0})).sort((function(e,t){return e.overflows[1]-t.overflows[1]}))[0])?void 0:D.placement,B){n.next=33;break}n.t0=y,n.next="bestFit"===n.t0?29:"initialPlacement"===n.t0?32:33;break;case 29:return z=null==(U=j.filter((function(e){if(O){var t=Zl(e.placement);return t===k||"y"===t}return!0})).map((function(e){return[e.placement,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])?void 0:U[0],z&&(B=z),n.abrupt("break",33);case 32:B=u;case 33:if(a===B){n.next=35;break}return n.abrupt("return",{reset:{placement:B}});case 35:return n.abrupt("return",{});case 36:case"end":return n.stop()}}),n)})))()}}}(e)),{},{options:[e,t]})},gd=function(e,t){return Ll(Ll({},function(e){return void 0===e&&(e={}),{name:"size",options:e,fn:function(t){return Tl(regeneratorRuntime.mark((function n(){var r,o,a,i,c,u,l,s,d,f,m,p,v,h,g,y,b,w,E,C,x,S,k,P,N,I,O,R,A,T,j;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.placement,i=t.rects,c=t.platform,u=t.elements,l=Gl(e,t),s=l.apply,d=void 0===s?function(){}:s,f=Pl(l,["apply"]),n.next=10,ls(t,f);case 10:if(m=n.sent,p=Kl(a),v=ql(a),h="y"===Zl(a),g=i.floating,y=g.width,b=g.height,"top"!==p&&"bottom"!==p){n.next=36;break}return w=p,n.t0=v,n.next=22,null==c.isRTL?void 0:c.isRTL(u.floating);case 22:if(!n.sent){n.next=26;break}n.t1="start",n.next=27;break;case 26:n.t1="end";case 27:if(n.t2=n.t1,n.t0!==n.t2){n.next=32;break}n.t3="left",n.next=33;break;case 32:n.t3="right";case 33:E=n.t3,n.next=37;break;case 36:E=p,w="end"===v?"top":"bottom";case 37:return C=b-m.top-m.bottom,x=y-m.left-m.right,S=Fl(b-m[w],C),k=Fl(y-m[E],x),P=!t.middlewareData.shift,N=S,I=k,null!=(r=t.middlewareData.shift)&&r.enabled.x&&(I=x),null!=(o=t.middlewareData.shift)&&o.enabled.y&&(N=C),P&&!v&&(O=_l(m.left,0),R=_l(m.right,0),A=_l(m.top,0),T=_l(m.bottom,0),h?I=y-2*(0!==O||0!==R?O+R:_l(m.left,m.right)):N=b-2*(0!==A||0!==T?A+T:_l(m.top,m.bottom))),n.next=42,d(Ll(Ll({},t),{},{availableWidth:I,availableHeight:N}));case 42:return n.next=44,c.getDimensions(u.floating);case 44:return j=n.sent,n.abrupt("return",y!==j.width||b!==j.height?{reset:{rects:!0}}:{});case 46:case"end":return n.stop()}}),n)})))()}}}(e)),{},{options:[e,t]})},yd=function(e,t){return Ll(Ll({},function(e){return void 0===e&&(e={}),{name:"hide",options:e,fn:function(t){return Tl(regeneratorRuntime.mark((function n(){var r,o,a,i,c,u,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.rects,o=Gl(e,t),a=o.strategy,i=void 0===a?"referenceHidden":a,c=Pl(o,["strategy"]),n.t0=i,n.next="referenceHidden"===n.t0?4:"escaped"===n.t0?11:18;break;case 4:return n.t1=ds,n.next=7,ls(t,Ll(Ll({},c),{},{elementContext:"reference"}));case 7:return n.t2=n.sent,n.t3=r.reference,u=(0,n.t1)(n.t2,n.t3),n.abrupt("return",{data:{referenceHiddenOffsets:u,referenceHidden:fs(u)}});case 11:return n.t4=ds,n.next=14,ls(t,Ll(Ll({},c),{},{altBoundary:!0}));case 14:return n.t5=n.sent,n.t6=r.floating,l=(0,n.t4)(n.t5,n.t6),n.abrupt("return",{data:{escapedOffsets:l,escaped:fs(l)}});case 18:return n.abrupt("return",{});case 19:case"end":return n.stop()}}),n)})))()}}}(e)),{},{options:[e,t]})},bd=function(e,t){return Ll(Ll({},function(e){return{name:"arrow",options:e,fn:function(t){var n,r="function"==typeof e?e(t):e,o=r.element,a=r.padding;return o&&(n=o,{}.hasOwnProperty.call(n,"current"))?null!=o.current?id({element:o.current,padding:a}).fn(t):{}:o?id({element:o,padding:a}).fn(t):{}}}}(e)),{},{options:[e,t]})};function wd(e){return function(e){if(Array.isArray(e))return xd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Cd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ed(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||Cd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cd(e,t){if(e){if("string"==typeof e)return xd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xd(e,t):void 0}}function xd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sd(Object(n),!0).forEach((function(t){Pd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nd(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Id(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var Od=Symbol("radix.slottable");function Rd(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Od}var Ad=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=function(e){var t=function(e){var t=o.forwardRef((function(e,t){var n=e.children,r=Nd(e,["children"]);if(o.isValidElement(n)){var a=function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(o=(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n),i=function(e,t){var n=kd({},t),r=function(r){var o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=function(){a.apply(void 0,arguments),o.apply(void 0,arguments)}:o&&(n[r]=o):"style"===r?n[r]=kd(kd({},o),a):"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))};for(var o in t)r(o);return kd(kd({},e),n)}(r,n.props);return n.type!==o.Fragment&&(i.ref=t?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!1,r=t.map((function(t){var r=Id(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return function(){for(var e=0;e<r.length;e++){var n=r[e];"function"==typeof n?n():Id(t[e],null)}}}}(t,a):a),o.cloneElement(n,i)}return o.Children.count(n)>1?o.Children.only(null):null}));return t.displayName="".concat(e,".SlotClone"),t}(e),n=o.forwardRef((function(e,n){var r=e.children,a=Nd(e,["children"]),i=o.Children.toArray(r),c=i.find(Rd);if(c){var u=c.props.children,l=i.map((function(e){return e===c?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:e}));return(0,Jo.jsx)(t,kd(kd({},a),{},{ref:n,children:o.isValidElement(u)?o.cloneElement(u,void 0,l):null}))}return(0,Jo.jsx)(t,kd(kd({},a),{},{ref:n,children:r}))}));return n.displayName="".concat(e,".Slot"),n}("Primitive.".concat(t)),r=o.forwardRef((function(e,r){var o=e.asChild,a=Nd(e,["asChild"]),i=o?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Jo.jsx)(i,kd(kd({},a),{},{ref:r}))}));return r.displayName="Primitive.".concat(t),kd(kd({},e),{},Pd({},t,r))}),{}),Td=o.forwardRef((function(e,t){var n=e.children,r=e.width,o=void 0===r?10:r,a=e.height,i=void 0===a?5:a,c=Nd(e,["children","width","height"]);return(0,Jo.jsx)(Ad.svg,kd(kd({},c),{},{ref:t,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,Jo.jsx)("polygon",{points:"0,0 30,0 15,10"})}))}));Td.displayName="Arrow";var jd=Td;function Ld(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Md(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!1,r=t.map((function(t){var r=Ld(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return function(){for(var e=0;e<r.length;e++){var n=r[e];"function"==typeof n?n():Ld(t[e],null)}}}}function Dd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useCallback(Md.apply(void 0,t),t)}function Fd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if(1===t.length)return r;var a=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,o=n.scopeName;return kd(kd({},e),r(t)["__scope".concat(o)])}),{});return o.useMemo((function(){return Pd({},"__scope".concat(r.scopeName),n)}),[n])}};return a.scopeName=r.scopeName,a}var _d=Symbol("radix.slottable");function Bd(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===_d}var Ud=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=function(e){var t=function(e){var t=o.forwardRef((function(e,t){var n=e.children,r=Nd(e,["children"]);if(o.isValidElement(n)){var a=function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(o=(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n),i=function(e,t){var n=kd({},t),r=function(r){var o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=function(){a.apply(void 0,arguments),o.apply(void 0,arguments)}:o&&(n[r]=o):"style"===r?n[r]=kd(kd({},o),a):"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))};for(var o in t)r(o);return kd(kd({},e),n)}(r,n.props);return n.type!==o.Fragment&&(i.ref=t?Md(t,a):a),o.cloneElement(n,i)}return o.Children.count(n)>1?o.Children.only(null):null}));return t.displayName="".concat(e,".SlotClone"),t}(e),n=o.forwardRef((function(e,n){var r=e.children,a=Nd(e,["children"]),i=o.Children.toArray(r),c=i.find(Bd);if(c){var u=c.props.children,l=i.map((function(e){return e===c?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:e}));return(0,Jo.jsx)(t,kd(kd({},a),{},{ref:n,children:o.isValidElement(u)?o.cloneElement(u,void 0,l):null}))}return(0,Jo.jsx)(t,kd(kd({},a),{},{ref:n,children:r}))}));return n.displayName="".concat(e,".Slot"),n}("Primitive.".concat(t)),r=o.forwardRef((function(e,r){var o=e.asChild,a=Nd(e,["asChild"]),i=o?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Jo.jsx)(i,kd(kd({},a),{},{ref:r}))}));return r.displayName="Primitive.".concat(t),kd(kd({},e),{},Pd({},t,r))}),{}),zd=null!==globalThis&&void 0!==globalThis&&globalThis.document?o.useLayoutEffect:function(){},Wd="Popper",Vd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=function(){var t=n.map((function(e){return o.createContext(e)}));return function(n){var r=(null==n?void 0:n[e])||t;return o.useMemo((function(){return Pd({},"__scope".concat(e),kd(kd({},n),{},Pd({},e,r)))}),[n,r])}};return r.scopeName=e,[function(t,r){var a=o.createContext(r),i=n.length;n=[].concat(wd(n),[r]);var c=function(t){var n,r=t.scope,c=t.children,u=Nd(t,["scope","children"]),l=(null==r||null===(n=r[e])||void 0===n?void 0:n[i])||a,s=o.useMemo((function(){return u}),Object.values(u));return(0,Jo.jsx)(l.Provider,{value:s,children:c})};return c.displayName=t+"Provider",[c,function(n,c){var u,l=(null==c||null===(u=c[e])||void 0===u?void 0:u[i])||a,s=o.useContext(l);if(s)return s;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},Fd.apply(void 0,[r].concat(wd(t)))]}(Wd),Hd=Ed(Vd,2),Gd=Hd[0],Kd=Hd[1],qd=Ed(Gd(Wd),2),Xd=qd[0],Qd=qd[1],Yd=function(e){var t=e.__scopePopper,n=e.children,r=Ed(o.useState(null),2),a=r[0],i=r[1];return(0,Jo.jsx)(Xd,{scope:t,anchor:a,onAnchorChange:i,children:n})};Yd.displayName=Wd;var Zd="PopperAnchor",$d=o.forwardRef((function(e,t){var n=e.__scopePopper,r=e.virtualRef,a=Nd(e,["__scopePopper","virtualRef"]),i=Qd(Zd,n),c=o.useRef(null),u=Dd(t,c);return o.useEffect((function(){i.onAnchorChange((null==r?void 0:r.current)||c.current)})),r?null:(0,Jo.jsx)(Ud.div,kd(kd({},a),{},{ref:u}))}));$d.displayName=Zd;var Jd="PopperContent",ef=Ed(Gd(Jd),2),tf=ef[0],nf=ef[1],rf=o.forwardRef((function(e,t){var n,r,a,i,c,u,l,s,d=e.__scopePopper,f=e.side,m=void 0===f?"bottom":f,p=e.sideOffset,v=void 0===p?0:p,h=e.align,g=void 0===h?"center":h,y=e.alignOffset,b=void 0===y?0:y,w=e.arrowPadding,E=void 0===w?0:w,C=e.avoidCollisions,x=void 0===C||C,S=e.collisionBoundary,k=void 0===S?[]:S,P=e.collisionPadding,N=void 0===P?0:P,I=e.sticky,O=void 0===I?"partial":I,R=e.hideWhenDetached,A=void 0!==R&&R,T=e.updatePositionStrategy,j=void 0===T?"optimized":T,L=e.onPlaced,M=Nd(e,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),D=Qd(Jd,d),F=Ed(o.useState(null),2),_=F[0],B=F[1],U=Dd(t,(function(e){return B(e)})),z=Ed(o.useState(null),2),W=z[0],V=z[1],H=function(e){var t=Ed(o.useState(void 0),2),n=t[0],r=t[1];return zd((function(){if(e){r({width:e.offsetWidth,height:e.offsetHeight});var t=new ResizeObserver((function(t){if(Array.isArray(t)&&t.length){var n,o,a=t[0];if("borderBoxSize"in a){var i=a.borderBoxSize,c=Array.isArray(i)?i[0]:i;n=c.inlineSize,o=c.blockSize}else n=e.offsetWidth,o=e.offsetHeight;r({width:n,height:o})}}));return t.observe(e,{box:"border-box"}),function(){return t.unobserve(e)}}r(void 0)}),[e]),n}(W),G=null!==(n=null==H?void 0:H.width)&&void 0!==n?n:0,K=null!==(r=null==H?void 0:H.height)&&void 0!==r?r:0,q=m+("center"!==g?"-"+g:""),X="number"==typeof N?N:kd({top:0,right:0,bottom:0,left:0},N),Q=Array.isArray(k)?k:[k],Y=Q.length>0,Z={padding:X,boundary:Q.filter(uf),altBoundary:Y},$=fd({strategy:"fixed",placement:q,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ad.apply(void 0,t.concat([{animationFrame:"always"===j}]))},elements:{reference:D.anchor},middleware:[md({mainAxis:v+K,alignmentAxis:b}),x&&pd(kd({mainAxis:!0,crossAxis:!1,limiter:"partial"===O?vd():void 0},Z)),x&&hd(kd({},Z)),gd(kd(kd({},Z),{},{apply:function(e){var t=e.elements,n=e.rects,r=e.availableWidth,o=e.availableHeight,a=n.reference,i=a.width,c=a.height,u=t.floating.style;u.setProperty("--radix-popper-available-width","".concat(r,"px")),u.setProperty("--radix-popper-available-height","".concat(o,"px")),u.setProperty("--radix-popper-anchor-width","".concat(i,"px")),u.setProperty("--radix-popper-anchor-height","".concat(c,"px"))}})),W&&bd({element:W,padding:E}),lf({arrowWidth:G,arrowHeight:K}),A&&yd(kd({strategy:"referenceHidden"},Z))]}),J=$.refs,ee=$.floatingStyles,te=$.placement,ne=$.isPositioned,re=$.middlewareData,oe=Ed(sf(te),2),ae=oe[0],ie=oe[1],ce=function(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e})),o.useMemo((function(){return function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}}),[])}(L);zd((function(){ne&&(null==ce||ce())}),[ne,ce]);var ue=null===(a=re.arrow)||void 0===a?void 0:a.x,le=null===(i=re.arrow)||void 0===i?void 0:i.y,se=0!==(null===(c=re.arrow)||void 0===c?void 0:c.centerOffset),de=Ed(o.useState(),2),fe=de[0],me=de[1];return zd((function(){_&&me(window.getComputedStyle(_).zIndex)}),[_]),(0,Jo.jsx)("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:kd(kd({},ee),{},{transform:ne?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[null===(u=re.transformOrigin)||void 0===u?void 0:u.x,null===(l=re.transformOrigin)||void 0===l?void 0:l.y].join(" ")},(null===(s=re.hide)||void 0===s?void 0:s.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,Jo.jsx)(tf,{scope:d,placedSide:ae,onArrowChange:V,arrowX:ue,arrowY:le,shouldHideArrow:se,children:(0,Jo.jsx)(Ud.div,kd(kd({"data-side":ae,"data-align":ie},M),{},{ref:U,style:kd(kd({},M.style),{},{animation:ne?void 0:"none"})}))})})}));rf.displayName=Jd;var of="PopperArrow",af={top:"bottom",right:"left",bottom:"top",left:"right"},cf=o.forwardRef((function(e,t){var n,r=e.__scopePopper,o=Nd(e,["__scopePopper"]),a=nf(of,r),i=af[a.placedSide];return(0,Jo.jsx)("span",{ref:a.onArrowChange,style:(n={position:"absolute",left:a.arrowX,top:a.arrowY},Pd(n,i,0),Pd(n,"transformOrigin",{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide]),Pd(n,"transform",{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide]),Pd(n,"visibility",a.shouldHideArrow?"hidden":void 0),n),children:(0,Jo.jsx)(jd,kd(kd({},o),{},{ref:t,style:kd(kd({},o.style),{},{display:"block"})}))})}));function uf(e){return null!==e}cf.displayName=of;var lf=function(e){return{name:"transformOrigin",options:e,fn:function(t){var n,r,o,a,i,c=t.placement,u=t.rects,l=t.middlewareData,s=0!==(null===(n=l.arrow)||void 0===n?void 0:n.centerOffset),d=s?0:e.arrowWidth,f=s?0:e.arrowHeight,m=Ed(sf(c),2),p=m[0],v={start:"0%",center:"50%",end:"100%"}[m[1]],h=(null!==(r=null===(o=l.arrow)||void 0===o?void 0:o.x)&&void 0!==r?r:0)+d/2,g=(null!==(a=null===(i=l.arrow)||void 0===i?void 0:i.y)&&void 0!==a?a:0)+f/2,y="",b="";return"bottom"===p?(y=s?v:"".concat(h,"px"),b=-f+"px"):"top"===p?(y=s?v:"".concat(h,"px"),b="".concat(u.floating.height+f,"px")):"right"===p?(y=-f+"px",b=s?v:"".concat(g,"px")):"left"===p&&(y="".concat(u.floating.width+f,"px"),b=s?v:"".concat(g,"px")),{data:{x:y,y:b}}}}};function sf(e){var t=Ed(e.split("-"),2),n=t[0],r=t[1];return[n,void 0===r?"center":r]}var df=Yd,ff=$d,mf=rf,pf=cf,vf=0,hf=function(e){void 0===e&&(e=":r");var t=(0,o.useRef)();return t.current||(vf+=1,t.current="".concat(e).concat(vf)),t.current};function gf(e){return function(e){if(Array.isArray(e))return Pf(e)}(e)||yf(e)||kf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yf(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function bf(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wf(Object(n),!0).forEach((function(t){Cf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xf(e,t){return Nf(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||kf(e,t)||Sf()}function Sf(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kf(e,t){if(e){if("string"==typeof e)return Pf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pf(e,t):void 0}}function Pf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nf(e){if(Array.isArray(e))return e}function If(e,t){var n=xf(t,2),r=n[0],o=n[1];return Math.min(o,Math.max(r,e))}function Of(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null!=e&&e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}function Rf(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Af(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!1,r=t.map((function(t){var r=Rf(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return function(){for(var e=0;e<r.length;e++){var n=r[e];"function"==typeof n?n():Rf(t[e],null)}}}}function Tf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.useCallback(Af.apply(void 0,t),t)}function jf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if(1===t.length)return r;var a=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,o=n.scopeName;return Ef(Ef({},e),r(t)["__scope".concat(o)])}),{});return o.useMemo((function(){return Cf({},"__scope".concat(r.scopeName),n)}),[n])}};return a.scopeName=r.scopeName,a}function Lf(e){var t=function(e){var t=o.forwardRef((function(e,t){var n=e.children,r=bf(e,["children"]);if(o.isValidElement(n)){var a=function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(o=(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n),i=function(e,t){var n=Ef({},t),r=function(r){var o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=function(){a.apply(void 0,arguments),o.apply(void 0,arguments)}:o&&(n[r]=o):"style"===r?n[r]=Ef(Ef({},o),a):"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))};for(var o in t)r(o);return Ef(Ef({},e),n)}(r,n.props);return n.type!==o.Fragment&&(i.ref=t?Af(t,a):a),o.cloneElement(n,i)}return o.Children.count(n)>1?o.Children.only(null):null}));return t.displayName="".concat(e,".SlotClone"),t}(e),n=o.forwardRef((function(e,n){var r=e.children,a=bf(e,["children"]),i=o.Children.toArray(r),c=i.find(Df);if(c){var u=c.props.children,l=i.map((function(e){return e===c?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:e}));return(0,Jo.jsx)(t,Ef(Ef({},a),{},{ref:n,children:o.isValidElement(u)?o.cloneElement(u,void 0,l):null}))}return(0,Jo.jsx)(t,Ef(Ef({},a),{},{ref:n,children:r}))}));return n.displayName="".concat(e,".Slot"),n}var Mf=Symbol("radix.slottable");function Df(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Mf}var Ff=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=Lf("Primitive.".concat(t)),r=o.forwardRef((function(e,r){var o=e.asChild,a=bf(e,["asChild"]),i=o?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Jo.jsx)(i,Ef(Ef({},a),{},{ref:r}))}));return r.displayName="Primitive.".concat(t),Ef(Ef({},e),{},Cf({},t,r))}),{});function _f(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e})),o.useMemo((function(){return function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}}),[])}function Bf(e){var t=e.prop,n=e.defaultProp,r=e.onChange,a=void 0===r?function(){}:r,i=function(e){var t=e.defaultProp,n=e.onChange,r=o.useState(t),a=xf(r,1)[0],i=o.useRef(a),c=_f(n);return o.useEffect((function(){i.current!==a&&(c(a),i.current=a)}),[a,i,c]),r}({defaultProp:n,onChange:a}),c=xf(i,2),u=c[0],l=c[1],s=void 0!==t,d=s?t:u,f=_f(a);return[d,o.useCallback((function(e){if(s){var n="function"==typeof e?e(t):e;n!==t&&f(n)}else l(e)}),[s,t,l,f])]}var Uf=null!==globalThis&&void 0!==globalThis&&globalThis.document?o.useLayoutEffect:function(){},zf=o.forwardRef((function(e,t){return(0,Jo.jsx)(Ff.span,Ef(Ef({},e),{},{ref:t,style:Ef({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"},e.style)}))}));zf.displayName="VisuallyHidden";var Wf=[" ","Enter","ArrowUp","ArrowDown"],Vf=[" ","Enter"],Hf="Select",Gf=function(e){var t=e+"CollectionProvider",n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=function(){var t=n.map((function(e){return o.createContext(e)}));return function(n){var r=(null==n?void 0:n[e])||t;return o.useMemo((function(){return hl({},"__scope".concat(e),vl(vl({},n),{},hl({},e,r)))}),[n,r])}};return r.scopeName=e,[function(t,r){var a=o.createContext(r),i=n.length;n=[].concat(ll(n),[r]);var c=function(t){var n,r=t.scope,c=t.children,u=ml(t,["scope","children"]),l=(null==r||null===(n=r[e])||void 0===n?void 0:n[i])||a,s=o.useMemo((function(){return u}),Object.values(u));return(0,Jo.jsx)(l.Provider,{value:s,children:c})};return c.displayName=t+"Provider",[c,function(n,c){var u,l=(null==c||null===(u=c[e])||void 0===u?void 0:u[i])||a,s=o.useContext(l);if(s)return s;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},gl.apply(void 0,[r].concat(ll(t)))]}(t),r=sl(n,2),i=r[0],c=r[1],u=sl(i(t,{collectionRef:{current:null},itemMap:new Map}),2),l=u[0],s=u[1],d=function(e){var t=e.scope,n=e.children,r=a().useRef(null),o=a().useRef(new Map).current;return(0,Jo.jsx)(l,{scope:t,itemMap:o,collectionRef:r,children:n})};d.displayName=t;var f=e+"CollectionSlot",m=El(f),p=a().forwardRef((function(e,t){var n=e.scope,r=e.children,o=wl(t,s(f,n).collectionRef);return(0,Jo.jsx)(m,{ref:o,children:r})}));p.displayName=f;var v=e+"CollectionItemSlot",h="data-radix-collection-item",g=El(v),y=a().forwardRef((function(e,t){var n,r=e.scope,o=e.children,i=ml(e,["scope","children"]),c=a().useRef(null),u=wl(t,c),l=s(v,r);return a().useEffect((function(){return l.itemMap.set(c,vl({ref:c},i)),function(){l.itemMap.delete(c)}})),(0,Jo.jsx)(g,(hl(n={},h,""),hl(n,"ref",u),hl(n,"children",o),n))}));return y.displayName=v,[{Provider:d,Slot:p,ItemSlot:y},function(t){var n=s(e+"CollectionConsumer",t);return a().useCallback((function(){var e=n.collectionRef.current;if(!e)return[];var t=Array.from(e.querySelectorAll("[".concat(h,"]")));return Array.from(n.itemMap.values()).sort((function(e,n){return t.indexOf(e.ref.current)-t.indexOf(n.ref.current)}))}),[n.collectionRef,n.itemMap])},c]}(Hf),Kf=xf(Gf,3),qf=Kf[0],Xf=Kf[1],Qf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=function(){var t=n.map((function(e){return o.createContext(e)}));return function(n){var r=(null==n?void 0:n[e])||t;return o.useMemo((function(){return Cf({},"__scope".concat(e),Ef(Ef({},n),{},Cf({},e,r)))}),[n,r])}};return r.scopeName=e,[function(t,r){var a=o.createContext(r),i=n.length;n=[].concat(gf(n),[r]);var c=function(t){var n,r=t.scope,c=t.children,u=bf(t,["scope","children"]),l=(null==r||null===(n=r[e])||void 0===n?void 0:n[i])||a,s=o.useMemo((function(){return u}),Object.values(u));return(0,Jo.jsx)(l.Provider,{value:s,children:c})};return c.displayName=t+"Provider",[c,function(n,c){var u,l=(null==c||null===(u=c[e])||void 0===u?void 0:u[i])||a,s=o.useContext(l);if(s)return s;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},jf.apply(void 0,[r].concat(gf(t)))]}(Hf,[Kf[2],Kd]),Yf=xf(Qf,2),Zf=Yf[0],$f=(Yf[1],Kd()),Jf=xf(Zf(Hf),2),em=Jf[0],tm=Jf[1],nm=xf(Zf(Hf),2),rm=nm[0],om=nm[1],am=function(e){var t=e.__scopeSelect,n=e.children,r=e.open,a=e.defaultOpen,i=e.onOpenChange,c=e.value,u=e.defaultValue,l=e.onValueChange,s=e.dir,d=e.name,f=e.autoComplete,m=e.disabled,p=e.required,v=e.form,h=$f(t),g=xf(o.useState(null),2),y=g[0],b=g[1],w=xf(o.useState(null),2),E=w[0],C=w[1],x=xf(o.useState(!1),2),S=x[0],k=x[1],P=function(e){var t=o.useContext(Sl);return e||t||"ltr"}(s),N=xf(Bf({prop:r,defaultProp:a,onChange:i}),2),I=N[0],O=void 0!==I&&I,R=N[1],A=xf(Bf({prop:c,defaultProp:u,onChange:l}),2),T=A[0],j=A[1],L=o.useRef(null),M=!y||v||!!y.closest("form"),D=xf(o.useState(new Set),2),F=D[0],_=D[1],B=Array.from(F).map((function(e){return e.props.value})).join(";");return(0,Jo.jsx)(df,Ef(Ef({},h),{},{children:(0,Jo.jsxs)(em,{required:p,scope:t,trigger:y,onTriggerChange:b,valueNode:E,onValueNodeChange:C,valueNodeHasChildren:S,onValueNodeHasChildrenChange:k,contentId:aa(),value:T,onValueChange:j,open:O,onOpenChange:R,dir:P,triggerPointerDownPosRef:L,disabled:m,children:[(0,Jo.jsx)(qf.Provider,{scope:t,children:(0,Jo.jsx)(rm,{scope:e.__scopeSelect,onNativeOptionAdd:o.useCallback((function(e){_((function(t){return new Set(t).add(e)}))}),[]),onNativeOptionRemove:o.useCallback((function(e){_((function(t){var n=new Set(t);return n.delete(e),n}))}),[]),children:n})}),M?(0,Jo.jsxs)(Gm,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:function(e){return j(e.target.value)},disabled:m,form:v,children:[void 0===T?(0,Jo.jsx)("option",{value:""}):null,Array.from(F)]},B):null]})}))};am.displayName=Hf;var im="SelectTrigger",cm=o.forwardRef((function(e,t){var n=e.__scopeSelect,r=e.disabled,a=void 0!==r&&r,i=bf(e,["__scopeSelect","disabled"]),c=$f(n),u=tm(im,n),l=u.disabled||a,s=Tf(t,u.onTriggerChange),d=Xf(n),f=o.useRef("touch"),m=Km((function(e){var t=d().filter((function(e){return!e.disabled})),n=t.find((function(e){return e.value===u.value})),r=qm(t,e,n);void 0!==r&&u.onValueChange(r.value)})),p=xf(m,3),v=p[0],h=p[1],g=p[2],y=function(e){l||(u.onOpenChange(!0),g()),e&&(u.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,Jo.jsx)(ff,Ef(Ef({asChild:!0},c),{},{children:(0,Jo.jsx)(Ff.button,Ef(Ef({type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Hm(u.value)?"":void 0},i),{},{ref:s,onClick:Of(i.onClick,(function(e){e.currentTarget.focus(),"mouse"!==f.current&&y(e)})),onPointerDown:Of(i.onPointerDown,(function(e){f.current=e.pointerType;var t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(y(e),e.preventDefault())})),onKeyDown:Of(i.onKeyDown,(function(e){var t=""!==v.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),t&&" "===e.key||Wf.includes(e.key)&&(y(),e.preventDefault())}))}))}))}));cm.displayName=im;var um="SelectValue",lm=o.forwardRef((function(e,t){var n=e.__scopeSelect,r=(e.className,e.style,e.children),o=e.placeholder,a=void 0===o?"":o,i=bf(e,["__scopeSelect","className","style","children","placeholder"]),c=tm(um,n),u=c.onValueNodeHasChildrenChange,l=void 0!==r,s=Tf(t,c.onValueNodeChange);return Uf((function(){u(l)}),[u,l]),(0,Jo.jsx)(Ff.span,Ef(Ef({},i),{},{ref:s,style:{pointerEvents:"none"},children:Hm(c.value)?(0,Jo.jsx)(Jo.Fragment,{children:a}):r}))}));lm.displayName=um;var sm=o.forwardRef((function(e,t){e.__scopeSelect;var n=e.children,r=bf(e,["__scopeSelect","children"]);return(0,Jo.jsx)(Ff.span,Ef(Ef({"aria-hidden":!0},r),{},{ref:t,children:n||"▼"}))}));sm.displayName="SelectIcon";var dm=function(e){return(0,Jo.jsx)(Ya,Ef({asChild:!0},e))};dm.displayName="SelectPortal";var fm="SelectContent",mm=o.forwardRef((function(e,t){var n=tm(fm,e.__scopeSelect),r=xf(o.useState(),2),a=r[0],c=r[1];if(Uf((function(){c(new DocumentFragment)}),[]),!n.open){var u=a;return u?i.createPortal((0,Jo.jsx)(hm,{scope:e.__scopeSelect,children:(0,Jo.jsx)(qf.Slot,{scope:e.__scopeSelect,children:(0,Jo.jsx)("div",{children:e.children})})}),u):null}return(0,Jo.jsx)(bm,Ef(Ef({},e),{},{ref:t}))}));mm.displayName=fm;var pm=10,vm=xf(Zf(fm),2),hm=vm[0],gm=vm[1],ym=Lf("SelectContent.RemoveScroll"),bm=o.forwardRef((function(e,t){var n=e.__scopeSelect,r=e.position,a=void 0===r?"item-aligned":r,i=e.onCloseAutoFocus,c=e.onEscapeKeyDown,u=e.onPointerDownOutside,l=e.side,s=e.sideOffset,d=e.align,f=e.alignOffset,m=e.arrowPadding,p=e.collisionBoundary,v=e.collisionPadding,h=e.sticky,g=e.hideWhenDetached,y=e.avoidCollisions,b=bf(e,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),w=tm(fm,n),E=xf(o.useState(null),2),C=E[0],x=E[1],S=xf(o.useState(null),2),k=S[0],P=S[1],N=Tf(t,(function(e){return x(e)})),I=xf(o.useState(null),2),O=I[0],R=I[1],A=xf(o.useState(null),2),T=A[0],j=A[1],L=Xf(n),M=xf(o.useState(!1),2),D=M[0],F=M[1],_=o.useRef(!1);o.useEffect((function(){if(C)return Wi(C)}),[C]),$a();var B=o.useCallback((function(e){var t,n,r=L().map((function(e){return e.ref.current})),o=Nf(t=r)||yf(t)||kf(t)||Sf(),a=o[0],i=xf(o.slice(1).slice(-1),1)[0],c=document.activeElement,u=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=kf(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(e);try{for(u.s();!(n=u.n()).done;){var l=n.value;if(l===c)return;if(null!=l&&l.scrollIntoView({block:"nearest"}),l===a&&k&&(k.scrollTop=0),l===i&&k&&(k.scrollTop=k.scrollHeight),null!=l&&l.focus(),document.activeElement!==c)return}}catch(e){u.e(e)}finally{u.f()}}),[L,k]),U=o.useCallback((function(){return B([O,C])}),[B,O,C]);o.useEffect((function(){D&&U()}),[D,U]);var z=w.onOpenChange,W=w.triggerPointerDownPosRef;o.useEffect((function(){if(C){var e={x:0,y:0},t=function(t){var n,r,o,a;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=W.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(o=null===(a=W.current)||void 0===a?void 0:a.y)&&void 0!==o?o:0))}},n=function(n){e.x<=10&&e.y<=10?n.preventDefault():C.contains(n.target)||z(!1),document.removeEventListener("pointermove",t),W.current=null};return null!==W.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),function(){document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[C,z,W]),o.useEffect((function(){var e=function(){return z(!1)};return window.addEventListener("blur",e),window.addEventListener("resize",e),function(){window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[z]);var V=Km((function(e){var t=L().filter((function(e){return!e.disabled})),n=t.find((function(e){return e.ref.current===document.activeElement})),r=qm(t,e,n);r&&setTimeout((function(){return r.ref.current.focus()}))})),H=xf(V,2),G=H[0],K=H[1],q=o.useCallback((function(e,t,n){var r=!_.current&&!n;(void 0!==w.value&&w.value===t||r)&&(R(e),r&&(_.current=!0))}),[w.value]),X=o.useCallback((function(){return null==C?void 0:C.focus()}),[C]),Q=o.useCallback((function(e,t,n){var r=!_.current&&!n;(void 0!==w.value&&w.value===t||r)&&j(e)}),[w.value]),Y="popper"===a?Em:wm,Z=Y===Em?{side:l,sideOffset:s,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:v,sticky:h,hideWhenDetached:g,avoidCollisions:y}:{};return(0,Jo.jsx)(hm,{scope:n,content:C,viewport:k,onViewportChange:P,itemRefCallback:q,selectedItem:O,onItemLeave:X,itemTextRefCallback:Q,focusSelectedItem:U,selectedItemText:T,position:a,isPositioned:D,searchRef:G,children:(0,Jo.jsx)(Di,{as:ym,allowPinchZoom:!0,children:(0,Jo.jsx)(_a,{asChild:!0,trapped:w.open,onMountAutoFocus:function(e){e.preventDefault()},onUnmountAutoFocus:Of(i,(function(e){var t;null!==(t=w.trigger)&&void 0!==t&&t.focus({preventScroll:!0}),e.preventDefault()})),children:(0,Jo.jsx)(Pa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:function(e){return e.preventDefault()},onDismiss:function(){return w.onOpenChange(!1)},children:(0,Jo.jsx)(Y,Ef(Ef(Ef({role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:function(e){return e.preventDefault()}},b),Z),{},{onPlaced:function(){return F(!0)},ref:N,style:Ef({display:"flex",flexDirection:"column",outline:"none"},b.style),onKeyDown:Of(b.onKeyDown,(function(e){var t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||K(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){var n=L().filter((function(e){return!e.disabled})).map((function(e){return e.ref.current}));if(["ArrowUp","End"].includes(e.key)&&(n=n.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){var r=e.target,o=n.indexOf(r);n=n.slice(o+1)}setTimeout((function(){return B(n)})),e.preventDefault()}}))}))})})})})}));bm.displayName="SelectContentImpl";var wm=o.forwardRef((function(e,t){var n=e.__scopeSelect,r=e.onPlaced,a=bf(e,["__scopeSelect","onPlaced"]),i=tm(fm,n),c=gm(fm,n),u=xf(o.useState(null),2),l=u[0],s=u[1],d=xf(o.useState(null),2),f=d[0],m=d[1],p=Tf(t,(function(e){return m(e)})),v=Xf(n),h=o.useRef(!1),g=o.useRef(!0),y=c.viewport,b=c.selectedItem,w=c.selectedItemText,E=c.focusSelectedItem,C=o.useCallback((function(){if(i.trigger&&i.valueNode&&l&&f&&y&&b&&w){var e=i.trigger.getBoundingClientRect(),t=f.getBoundingClientRect(),n=i.valueNode.getBoundingClientRect(),o=w.getBoundingClientRect();if("rtl"!==i.dir){var a=o.left-t.left,c=n.left-a,u=e.left-c,s=e.width+u,d=Math.max(s,t.width),m=window.innerWidth-pm,p=If(c,[pm,Math.max(pm,m-d)]);l.style.minWidth=s+"px",l.style.left=p+"px"}else{var g=t.right-o.right,E=window.innerWidth-n.right-g,C=window.innerWidth-e.right-E,x=e.width+C,S=Math.max(x,t.width),k=window.innerWidth-pm,P=If(E,[pm,Math.max(pm,k-S)]);l.style.minWidth=x+"px",l.style.right=P+"px"}var N=v(),I=window.innerHeight-20,O=y.scrollHeight,R=window.getComputedStyle(f),A=parseInt(R.borderTopWidth,10),T=parseInt(R.paddingTop,10),j=parseInt(R.borderBottomWidth,10),L=A+T+O+parseInt(R.paddingBottom,10)+j,M=Math.min(5*b.offsetHeight,L),D=window.getComputedStyle(y),F=parseInt(D.paddingTop,10),_=parseInt(D.paddingBottom,10),B=e.top+e.height/2-pm,U=I-B,z=b.offsetHeight/2,W=A+T+(b.offsetTop+z),V=L-W;if(W<=B){var H=N.length>0&&b===N[N.length-1].ref.current;l.style.bottom="0px";var G=f.clientHeight-y.offsetTop-y.offsetHeight,K=W+Math.max(U,z+(H?_:0)+G+j);l.style.height=K+"px"}else{var q=N.length>0&&b===N[0].ref.current;l.style.top="0px";var X=Math.max(B,A+y.offsetTop+(q?F:0)+z)+V;l.style.height=X+"px",y.scrollTop=W-B+y.offsetTop}l.style.margin="".concat(pm,"px 0"),l.style.minHeight=M+"px",l.style.maxHeight=I+"px",null!=r&&r(),requestAnimationFrame((function(){return h.current=!0}))}}),[v,i.trigger,i.valueNode,l,f,y,b,w,i.dir,r]);Uf((function(){return C()}),[C]);var x=xf(o.useState(),2),S=x[0],k=x[1];Uf((function(){f&&k(window.getComputedStyle(f).zIndex)}),[f]);var P=o.useCallback((function(e){e&&!0===g.current&&(C(),null!=E&&E(),g.current=!1)}),[C,E]);return(0,Jo.jsx)(xm,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:P,children:(0,Jo.jsx)("div",{ref:s,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:(0,Jo.jsx)(Ff.div,Ef(Ef({},a),{},{ref:p,style:Ef({boxSizing:"border-box",maxHeight:"100%"},a.style)}))})})}));wm.displayName="SelectItemAlignedPosition";var Em=o.forwardRef((function(e,t){var n=e.__scopeSelect,r=e.align,o=void 0===r?"start":r,a=e.collisionPadding,i=void 0===a?pm:a,c=bf(e,["__scopeSelect","align","collisionPadding"]),u=$f(n);return(0,Jo.jsx)(mf,Ef(Ef(Ef({},u),c),{},{ref:t,align:o,collisionPadding:i,style:Ef(Ef({boxSizing:"border-box"},c.style),{},{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))}));Em.displayName="SelectPopperPosition";var Cm=xf(Zf(fm,{}),2),xm=Cm[0],Sm=Cm[1],km="SelectViewport",Pm=o.forwardRef((function(e,t){var n=e.__scopeSelect,r=e.nonce,a=bf(e,["__scopeSelect","nonce"]),i=gm(km,n),c=Sm(km,n),u=Tf(t,i.onViewportChange),l=o.useRef(0);return(0,Jo.jsxs)(Jo.Fragment,{children:[(0,Jo.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),(0,Jo.jsx)(qf.Slot,{scope:n,children:(0,Jo.jsx)(Ff.div,Ef(Ef({"data-radix-select-viewport":"",role:"presentation"},a),{},{ref:u,style:Ef({position:"relative",flex:1,overflow:"hidden auto"},a.style),onScroll:Of(a.onScroll,(function(e){var t=e.currentTarget,n=c.contentWrapper,r=c.shouldExpandOnScrollRef;if(null!=r&&r.current&&n){var o=Math.abs(l.current-t.scrollTop);if(o>0){var a=window.innerHeight-20,i=parseFloat(n.style.minHeight),u=parseFloat(n.style.height),s=Math.max(i,u);if(s<a){var d=s+o,f=Math.min(a,d),m=d-f;n.style.height=f+"px","0px"===n.style.bottom&&(t.scrollTop=m>0?m:0,n.style.justifyContent="flex-end")}}}l.current=t.scrollTop}))}))})]})}));Pm.displayName=km;var Nm="SelectGroup",Im=xf(Zf(Nm),2),Om=Im[0],Rm=Im[1];o.forwardRef((function(e,t){var n=e.__scopeSelect,r=bf(e,["__scopeSelect"]),o=aa();return(0,Jo.jsx)(Om,{scope:n,id:o,children:(0,Jo.jsx)(Ff.div,Ef(Ef({role:"group","aria-labelledby":o},r),{},{ref:t}))})})).displayName=Nm;var Am="SelectLabel";o.forwardRef((function(e,t){var n=e.__scopeSelect,r=bf(e,["__scopeSelect"]),o=Rm(Am,n);return(0,Jo.jsx)(Ff.div,Ef(Ef({id:o.id},r),{},{ref:t}))})).displayName=Am;var Tm="SelectItem",jm=xf(Zf(Tm),2),Lm=jm[0],Mm=jm[1],Dm=o.forwardRef((function(e,t){var n=e.__scopeSelect,r=e.value,a=e.disabled,i=void 0!==a&&a,c=e.textValue,u=bf(e,["__scopeSelect","value","disabled","textValue"]),l=tm(Tm,n),s=gm(Tm,n),d=l.value===r,f=xf(o.useState(null!=c?c:""),2),m=f[0],p=f[1],v=xf(o.useState(!1),2),h=v[0],g=v[1],y=Tf(t,(function(e){var t;return null===(t=s.itemRefCallback)||void 0===t?void 0:t.call(s,e,r,i)})),b=aa(),w=o.useRef("touch"),E=function(){i||(l.onValueChange(r),l.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,Jo.jsx)(Lm,{scope:n,value:r,disabled:i,textId:b,isSelected:d,onItemTextChange:o.useCallback((function(e){p((function(t){var n;return t||(null!==(n=null==e?void 0:e.textContent)&&void 0!==n?n:"").trim()}))}),[]),children:(0,Jo.jsx)(qf.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:(0,Jo.jsx)(Ff.div,Ef(Ef({role:"option","aria-labelledby":b,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},u),{},{ref:y,onFocus:Of(u.onFocus,(function(){return g(!0)})),onBlur:Of(u.onBlur,(function(){return g(!1)})),onClick:Of(u.onClick,(function(){"mouse"!==w.current&&E()})),onPointerUp:Of(u.onPointerUp,(function(){"mouse"===w.current&&E()})),onPointerDown:Of(u.onPointerDown,(function(e){w.current=e.pointerType})),onPointerMove:Of(u.onPointerMove,(function(e){var t;w.current=e.pointerType,i?null===(t=s.onItemLeave)||void 0===t||t.call(s):"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:Of(u.onPointerLeave,(function(e){var t;e.currentTarget===document.activeElement&&(null===(t=s.onItemLeave)||void 0===t||t.call(s))})),onKeyDown:Of(u.onKeyDown,(function(e){var t;""!==(null===(t=s.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(Vf.includes(e.key)&&E()," "===e.key&&e.preventDefault())}))}))})})}));Dm.displayName=Tm;var Fm="SelectItemText",_m=o.forwardRef((function(e,t){var n=e.__scopeSelect,r=(e.className,e.style,bf(e,["__scopeSelect","className","style"])),a=tm(Fm,n),c=gm(Fm,n),u=Mm(Fm,n),l=om(Fm,n),s=xf(o.useState(null),2),d=s[0],f=s[1],m=Tf(t,(function(e){return f(e)}),u.onItemTextChange,(function(e){var t;return null===(t=c.itemTextRefCallback)||void 0===t?void 0:t.call(c,e,u.value,u.disabled)})),p=null==d?void 0:d.textContent,v=o.useMemo((function(){return(0,Jo.jsx)("option",{value:u.value,disabled:u.disabled,children:p},u.value)}),[u.disabled,u.value,p]),h=l.onNativeOptionAdd,g=l.onNativeOptionRemove;return Uf((function(){return h(v),function(){return g(v)}}),[h,g,v]),(0,Jo.jsxs)(Jo.Fragment,{children:[(0,Jo.jsx)(Ff.span,Ef(Ef({id:u.textId},r),{},{ref:m})),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?i.createPortal(r.children,a.valueNode):null]})}));_m.displayName=Fm;var Bm="SelectItemIndicator";o.forwardRef((function(e,t){var n=e.__scopeSelect,r=bf(e,["__scopeSelect"]);return Mm(Bm,n).isSelected?(0,Jo.jsx)(Ff.span,Ef(Ef({"aria-hidden":!0},r),{},{ref:t})):null})).displayName=Bm;var Um="SelectScrollUpButton";o.forwardRef((function(e,t){var n=gm(Um,e.__scopeSelect),r=Sm(Um,e.__scopeSelect),a=xf(o.useState(!1),2),i=a[0],c=a[1],u=Tf(t,r.onScrollButtonChange);return Uf((function(){if(n.viewport&&n.isPositioned){var e=function(){var e=t.scrollTop>0;c(e)},t=n.viewport;return e(),t.addEventListener("scroll",e),function(){return t.removeEventListener("scroll",e)}}}),[n.viewport,n.isPositioned]),i?(0,Jo.jsx)(Wm,Ef(Ef({},e),{},{ref:u,onAutoScroll:function(){var e=n.viewport,t=n.selectedItem;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null})).displayName=Um;var zm="SelectScrollDownButton";o.forwardRef((function(e,t){var n=gm(zm,e.__scopeSelect),r=Sm(zm,e.__scopeSelect),a=xf(o.useState(!1),2),i=a[0],c=a[1],u=Tf(t,r.onScrollButtonChange);return Uf((function(){if(n.viewport&&n.isPositioned){var e=function(){var e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;c(n)},t=n.viewport;return e(),t.addEventListener("scroll",e),function(){return t.removeEventListener("scroll",e)}}}),[n.viewport,n.isPositioned]),i?(0,Jo.jsx)(Wm,Ef(Ef({},e),{},{ref:u,onAutoScroll:function(){var e=n.viewport,t=n.selectedItem;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null})).displayName=zm;var Wm=o.forwardRef((function(e,t){var n=e.__scopeSelect,r=e.onAutoScroll,a=bf(e,["__scopeSelect","onAutoScroll"]),i=gm("SelectScrollButton",n),c=o.useRef(null),u=Xf(n),l=o.useCallback((function(){null!==c.current&&(window.clearInterval(c.current),c.current=null)}),[]);return o.useEffect((function(){return function(){return l()}}),[l]),Uf((function(){var e,t;null===(e=u().find((function(e){return e.ref.current===document.activeElement})))||void 0===e||null===(t=e.ref.current)||void 0===t||t.scrollIntoView({block:"nearest"})}),[u]),(0,Jo.jsx)(Ff.div,Ef(Ef({"aria-hidden":!0},a),{},{ref:t,style:Ef({flexShrink:0},a.style),onPointerDown:Of(a.onPointerDown,(function(){null===c.current&&(c.current=window.setInterval(r,50))})),onPointerMove:Of(a.onPointerMove,(function(){var e;null!==(e=i.onItemLeave)&&void 0!==e&&e.call(i),null===c.current&&(c.current=window.setInterval(r,50))})),onPointerLeave:Of(a.onPointerLeave,(function(){l()}))}))}));o.forwardRef((function(e,t){e.__scopeSelect;var n=bf(e,["__scopeSelect"]);return(0,Jo.jsx)(Ff.div,Ef(Ef({"aria-hidden":!0},n),{},{ref:t}))})).displayName="SelectSeparator";var Vm="SelectArrow";function Hm(e){return""===e||void 0===e}o.forwardRef((function(e,t){var n=e.__scopeSelect,r=bf(e,["__scopeSelect"]),o=$f(n),a=tm(Vm,n),i=gm(Vm,n);return a.open&&"popper"===i.position?(0,Jo.jsx)(pf,Ef(Ef(Ef({},o),r),{},{ref:t})):null})).displayName=Vm;var Gm=o.forwardRef((function(e,t){var n=e.value,r=bf(e,["value"]),a=o.useRef(null),i=Tf(t,a),c=function(e){var t=o.useRef({value:e,previous:e});return o.useMemo((function(){return t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous}),[e])}(n);return o.useEffect((function(){var e=a.current,t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(c!==n&&r){var o=new Event("change",{bubbles:!0});r.call(e,n),e.dispatchEvent(o)}}),[c,n]),(0,Jo.jsx)(zf,{asChild:!0,children:(0,Jo.jsx)("select",Ef(Ef({},r),{},{ref:i,defaultValue:n}))})}));function Km(e){var t=_f(e),n=o.useRef(""),r=o.useRef(0),a=o.useCallback((function(e){var o=n.current+e;t(o),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout((function(){return e("")}),1e3))}(o)}),[t]),i=o.useCallback((function(){n.current="",window.clearTimeout(r.current)}),[]);return o.useEffect((function(){return function(){return window.clearTimeout(r.current)}}),[]),[n,a,i]}function qm(e,t,n){var r,o,a=t.length>1&&Array.from(t).every((function(e){return e===t[0]}))?t[0]:t,i=n?e.indexOf(n):-1,c=(r=e,o=Math.max(i,0),r.map((function(e,t){return r[(o+t)%r.length]})));1===a.length&&(c=c.filter((function(e){return e!==n})));var u=c.find((function(e){return e.textValue.toLowerCase().startsWith(a.toLowerCase())}));return u!==n?u:void 0}Gm.displayName="BubbleSelect";var Xm=am,Qm=cm,Ym=lm,Zm=sm,$m=dm,Jm=mm,ep=Pm,tp=Dm,np=_m;ln(".foundation-web-menu-separator{border-top:1px solid var(--color-stroke-default)}");var rp=(0,o.createContext)(null),op={XSmall:"size-300",Small:"size-400",Medium:"size-500",Large:"size-600"},ap={XSmall:"padding-x-medium",Small:"padding-x-medium",Medium:"padding-x-medium",Large:"padding-x-large"},ip={XSmall:"text-title-small",Small:"text-title-small",Medium:"text-title-medium",Large:"text-title-large"},cp={XSmall:"text-body-small",Small:"text-body-small",Medium:"text-body-medium",Large:"text-body-large"},up={XSmall:"gap-xsmall",Small:"gap-small",Medium:"gap-small",Large:"gap-small"},lp={XSmall:"radius-small",Small:"radius-medium",Medium:"radius-medium",Large:"radius-medium"},sp={XSmall:"height-600",Small:"height-800",Medium:"height-1000",Large:"height-1200"},dp=(0,o.forwardRef)((function(e,t){var n=e.label,r=e.ariaLabelledBy,i=e.className,c=e.size,u=e.value,l=e.placeholder,s=e.isDisabled,d=e.hasError,f=e.hint,m=e.onValueChange,p=e.onOpenChange,v=e.children,h=hf(),g=(0,o.useMemo)((function(){return{size:c}}),[c]);return a().createElement(rp.Provider,{value:g},a().createElement("div",{className:qe("flex flex-col",s&&[Ye,"pointer-events-none"],up[c],i)},n&&a().createElement("span",{id:h,className:qe(ip[c],"content-emphasis")},n),a().createElement(Xm,{value:u,disabled:s,onValueChange:m,onOpenChange:p},a().createElement(Qm,{className:qe(Xe,"flex items-center justify-between width-full bg-none stroke-standard cursor-pointer",lp[c],sp[c],ap[c],cp[c],d?"stroke-system-alert":"stroke-default",void 0===u?"content-muted":"content-default"),ref:t,"aria-labelledby":n?h:r},a().createElement(Qe,null),a().createElement("div",{className:"grow-1 text-truncate-split text-align-x-left"},a().createElement(Ym,{placeholder:l})),a().createElement(Zm,{className:qe(op[c],"icon icon-regular-chevron-large-down content-default")})),a().createElement($m,null,a().createElement(Jm,{position:"popper",className:"padding-y-small foundation-web-portal-zindex",style:{maxHeight:"var(--radix-select-content-available-height)"}},v))),f&&a().createElement("span",{className:"text-caption-small content-default"},f)))}));dp.displayName="Dropdown";var fp={XSmall:"radius-medium",Small:"radius-large",Medium:"radius-large",Large:"radius-large"},mp={XSmall:"padding-xsmall",Small:"padding-small",Medium:"padding-small",Large:"padding-small"},pp={XSmall:"padding-x-medium",Small:"padding-x-medium",Medium:"padding-x-medium",Large:"padding-x-large"},vp={XSmall:"padding-y-xsmall",Small:"padding-y-small",Medium:"padding-y-small",Large:"padding-y-medium"},hp={XSmall:"gap-x-medium",Small:"gap-x-medium",Medium:"gap-x-medium",Large:"gap-x-large"},gp={XSmall:"gap-y-xxsmall",Small:"gap-y-xxsmall",Medium:"gap-y-xsmall",Large:"gap-y-xsmall"},yp={XSmall:"text-body-small",Small:"text-body-small",Medium:"text-body-medium",Large:"text-body-large"},bp={XSmall:"radius-small",Small:"radius-medium",Medium:"radius-medium",Large:"radius-medium"},wp=(0,o.createContext)(null),Ep=function(){var e=(0,o.useContext)(wp);if(!e)throw new Error("Menu components must be used within a Menu");return e},Cp=function(e){var t,n=e.children,r=e.className,i=e.size,c=(0,o.useContext)(rp),u=c?"dropdown":"standalone",l=null!==(t=null!=i?i:null==c?void 0:c.size)&&void 0!==t?t:"Medium",s=(0,o.useMemo)((function(){return{size:l,mode:u}}),[l,u]),d=a().createElement("div",{className:qe("bg-surface-100 stroke-standard stroke-default shadow-transient-high",fp[l],r)},n);return a().createElement(wp.Provider,{value:s},"dropdown"===u?a().createElement(ep,{asChild:!0,style:{width:"var(--radix-popper-anchor-width)"}},d):d)},xp=function(e){var t=e.children,n=e.className,r=Ep().size;return a().createElement("div",{className:qe(mp[r],n)},t)},Sp=function(e){var t=e.value,n=e.leading,r=e.title,o=e.description,i=e.trailing,c=e.disabled,u=e.className,l=e.onSelect,s=Ep(),d=s.size,f=s.mode,m=qe(Xe,"flex items-center content-default text-truncate-split focus-visible:hover:outline-none cursor-pointer stroke-none bg-none text-align-x-left width-full",yp[d],pp[d],vp[d],hp[d],bp[d],c&&Ye,u),p=a().createElement("span",{className:"text-no-wrap text-truncate-split content-emphasis"},r);switch(f){case"dropdown":p=a().createElement(np,{asChild:!0},p);break;case"standalone":break;default:var v=f;console.error("Invalid menu mode:",v)}var h=a().createElement("button",{type:"button",className:m,style:{outlineOffset:0},onClick:c?void 0:l},!c&&a().createElement(Qe,null),n,a().createElement("div",{className:qe("grow-1 text-truncate-split flex flex-col",gp[d])},p,o&&a().createElement("div",{className:"content-muted"},o)),i);return"dropdown"===f?a().createElement(tp,{value:t,disabled:c,asChild:!0},h):h},kp=(0,s.withTranslations)((function(e){var t=e.roles,n=e.selectedRoleId,r=e.onSelectRoleId,o=e.onAddRole,i=e.translate;return a().createElement("div",{className:"group-config-roles-list-container"},a().createElement("div",{className:"menu-vertical-container"},a().createElement("div",{className:"group-config-roles-list"},t.map((function(e){return a().createElement(vn,{key:e.id,className:m()("group-config-roles-list-button",e.id===n&&"active"),size:"Small",variant:"Standard",onClick:function(){return r(e.id)}},e.name)})),a().createElement(vn,{className:"group-config-roles-list-add-button",variant:"Standard",size:"XSmall",onClick:o},i("Action.AddRole")))),a().createElement("div",{className:"menu-dropdown-container"},a().createElement(dp,{className:"group-config-roles-dropdown",size:"Small",value:(null==n?void 0:n.toString())||"",placeholder:i("Action.AddRole"),onValueChange:function(e){r(Number(e))}},a().createElement(Cp,null,a().createElement(xp,null,t.map((function(e){return a().createElement(Sp,{key:e.id,title:e.name,value:e.id.toString()})}))))),a().createElement(vn,{className:"group-config-roles-list-add-button",variant:"Standard",size:"Small",onClick:o},i("Action.AddRole"))))}),Bt),Pp=function(){return Pp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pp.apply(this,arguments)},Np=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Ip=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Op=(0,s.withTranslations)((function(e){var t,n,r=e.group,i=e.forumCategory,c=e.translate,l=(0,o.useState)(!1),s=l[0],d=l[1],f=(0,o.useState)(void 0),m=f[0],p=f[1],v=(0,u.useSystemFeedback)().systemFeedbackService,h=(0,We.useQueryClient)(),g=(t=r.id,n=i.id,["getCategoryRolesPermissions",t,n]),y=(0,We.useQuery)({queryKey:g,queryFn:function(){return Np(void 0,void 0,void 0,(function(){var e,t,n;return Ip(this,(function(o){switch(o.label){case 0:return[4,Ee(r.id,i.id)];case 1:return e=o.sent(),t=e.data.sort((function(e,t){return t.role.rank-e.role.rank})),m||p(null===(n=t[0])||void 0===n?void 0:n.role.id),[2,t]}}))}))},onError:function(){return v.warning(c("NetworkError"))},retry:!1,refetchOnWindowFocus:!1}),b=y.isLoading,w=y.data,E=y.refetch,C=null==w?void 0:w.find((function(e){return e.role.id===m})),x=(null==w?void 0:w.map((function(e){return e.role})))||[],S=(null==x?void 0:x.map((function(e){return e.id})))||[],k=c("NetworkError"),P=(0,o.useCallback)((function(){d(!0)}),[d]),N=(0,o.useCallback)((function(){d(!1)}),[d]),I=(0,We.useMutation)((function(e){return Np(void 0,void 0,void 0,(function(){return Ip(this,(function(t){switch(t.label){case 0:return N(),[4,Ce(r.id,i.id,e)];case 1:return t.sent(),[2]}}))}))}),{onSuccess:function(e,t){p(t),v.success(c("Message.RoleUpdateSuccess"))},onError:function(){v.warning(k)},onSettled:function(){return Np(void 0,void 0,void 0,(function(){return Ip(this,(function(e){switch(e.label){case 0:return[4,E()];case 1:return e.sent(),[2]}}))}))}}),O=(0,We.useMutation)((function(e){return Np(void 0,void 0,void 0,(function(){return Ip(this,(function(t){switch(t.label){case 0:return[4,Se(r.id,i.id,e)];case 1:return t.sent(),[2]}}))}))}),{onSuccess:function(e,t){var n;if(w){var r=w.filter((function(e){return e.role.id!==t}));h.setQueryData(g,r),p(null===(n=r[0])||void 0===n?void 0:n.role.id),v.success(c("Message.RoleDeleteSuccess"))}},onError:function(){v.warning(k)}}),R=(0,o.useCallback)((function(e,t,n){if(w){var r=w.map((function(r){var o;return r.role.id===e?Pp(Pp({},r),{permissions:Pp(Pp({},r.permissions),{groupForumsPermissions:Pp(Pp({},r.permissions.groupForumsPermissions),(o={},o[t]=n,o))})}):r}));h.setQueryData(g,r)}}),[w,h,g]),A=(0,We.useMutation)((function(e){return Np(void 0,[e],void 0,(function(e){var t,n=e.permissionName,o=e.value,a=e.roleId;return Ip(this,(function(e){switch(e.label){case 0:return R(a,n,o),[4,xe(r.id,i.id,a,(t={},t[n]=o,t))];case 1:return e.sent(),[2]}}))}))}),{onSuccess:function(){v.success(c("Message.PermissionUpdateSuccess"))},onError:function(e,t){var n=t.permissionName,r=t.value,o=t.roleId;R(o,n,!r),v.warning(k)}}),T=(0,o.useMemo)((function(){return b||I.isLoading||O.isLoading}),[b,I,O]);return a().createElement(a().Fragment,null,s&&a().createElement(ku,{groupId:r.id,onSelect:function(e){return Np(void 0,void 0,void 0,(function(){return Ip(this,(function(t){switch(t.label){case 0:return[4,I.mutateAsync(e.role.id)];case 1:return t.sent(),[2]}}))}))},onClose:N,hiddenRoleIds:S,hideGuestRole:!0,hideOwnerRole:!0}),a().createElement("div",{className:"group-forums-config-expanded"},a().createElement("div",{className:"font-bold"},c("Header.ForumCategoryPermissions")),a().createElement("div",{className:"font-small text-secondary padding-top-xsmall"},c("Description.ForumCategoryPermissions")),T?a().createElement("div",{className:"spinner spinner-default"}):a().createElement("div",{className:"group-forums-roles-config"},a().createElement(kp,{roles:x,selectedRoleId:m,onSelectRoleId:p,onAddRole:P}),C&&a().createElement("div",{className:"group-forum-roles-config-permissions"},a().createElement(ul,{isChannelPermissions:!0,permissions:C.permissions.groupForumsPermissions,togglePermission:function(e,t){return Np(void 0,void 0,void 0,(function(){return Ip(this,(function(n){switch(n.label){case 0:return[4,A.mutateAsync({permissionName:e,value:t,roleId:C.role.id})];case 1:return n.sent(),[2]}}))}))}}),a().createElement(vn,{className:"group-forum-roles-config-permissions-remove-role",variant:"Alert",size:"Small",onClick:function(){return Np(void 0,void 0,void 0,(function(){return Ip(this,(function(e){switch(e.label){case 0:return[4,O.mutateAsync(C.role.id)];case 1:return e.sent(),[2]}}))}))}},c("Action.RemoveRole"))))))}),d),Rp=(0,s.withTranslations)((function(e){var n=e.group,r=e.forumCategory,i=e.refetchForumCategories,c=e.isDeleteDisabled,l=void 0!==c&&c,s=e.isArchiveDisabled,d=void 0!==s&&s,f=e.displayPermissionsConfig,m=void 0!==f&&f,p=e.translate,v=(0,o.useState)(!1),h=v[0],g=v[1],y=(0,o.useState)(!1),b=y[0],w=y[1],C=(0,o.useState)(!1),x=C[0],S=C[1],k=(0,o.useState)(!1),P=k[0],N=k[1],I=(0,o.useMemo)((function(){return null!=r.archivedBy}),[r.archivedBy]),O=(0,o.useMemo)((function(){var e;return m&&(null===(e=n.owner)||void 0===e?void 0:e.userId)===Number(t.CurrentUser.userId)&&!I}),[m,n]),R=(0,o.useMemo)((function(){return!I}),[I]),A=(0,o.useMemo)((function(){return!d}),[d]),T=(0,o.useMemo)((function(){return!l}),[l]),j=(0,o.useCallback)((function(){g(!0)}),[g]),L=(0,o.useCallback)((function(){g(!1)}),[g]),M=(0,o.useCallback)((function(){w(!0)}),[w]),D=(0,o.useCallback)((function(){w(!1)}),[w]),F=(0,o.useCallback)((function(){S(!0)}),[S]),_=(0,o.useCallback)((function(){S(!1)}),[S]),B=(0,o.useCallback)((function(){N(!P)}),[P,N]);return a().createElement(a().Fragment,null,h&&a().createElement(Ko,{groupId:n.id,forumCategory:r,onSuccess:i,onClose:L}),b&&a().createElement(Qo,{groupId:n.id,forumCategory:r,onSuccess:i,onClose:D}),x&&a().createElement($o,{groupId:n.id,forumCategory:r,onSuccess:i,onClose:_}),a().createElement("div",{className:"group-forums-config-category border-bottom"},a().createElement("div",{className:"group-forums-config-category-header"},a().createElement("div",{className:"group-forums-config-category-name font-bold"},r.name),a().createElement("div",{className:"group-forums-config-category-icons"},a().createElement(u.Popover,{id:"group-event-dropdown-menu-popover",button:a().createElement(ot,{as:"button",icon:"icon-filled-three-dots-horizontal",variant:"Utility",size:"Medium",ariaLabel:p("Action.More"),onClick:E.noOpFunctionRef}),trigger:"click",placement:"bottom"},a().createElement("ul",{className:"group-forums-config-dropdown-menu dropdown-menu",role:"menu"},R&&a().createElement("li",null,a().createElement("button",{type:"button",className:"btn-secondary-md btn-min-width group-forums-config-dialog-button",onClick:j},p("Action.RenameForumCategory"))),A&&a().createElement("li",null,a().createElement("button",{type:"button",className:"btn-secondary-md btn-min-width group-forums-config-dialog-button",onClick:F},p(I?"Action.UnarchiveForumCategory":"Action.ArchiveForumCategory"))),T&&a().createElement("li",null,a().createElement("button",{type:"button",className:"btn-secondary-md btn-min-width group-forums-config-dialog-button",onClick:M},p("Action.DeleteForumCategory"))))),O&&a().createElement(ot,{as:"button",icon:P?"icon-filled-chevron-large-up":"icon-filled-chevron-large-down",variant:"Utility",size:"Medium",ariaLabel:p("Action.More"),onClick:B}))),P&&a().createElement(Op,{group:n,forumCategory:r})))}),d),Ap=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Tp=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},jp=(0,s.withTranslations)((function(e){var t=e.group,n=e.onFinished,r=e.translate,i=(0,u.useSystemFeedback)().systemFeedbackService,c=(0,o.useState)(!1),l=c[0],s=c[1],d=(0,o.useCallback)((function(){return Ap(void 0,void 0,void 0,(function(){return Tp(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),s(!0),[4,Promise.all([$(t.id,r("Label.HelpAndSupport")),$(t.id,r("Label.Feedback")),$(t.id,r("Label.GeneralDiscussions"))])];case 1:return e.sent(),en({groupId:t.id,clickTargetType:"forumsGetStarted"}),[3,4];case 2:return e.sent(),i.warning(r("NetworkError")),[3,4];case 3:return n(),s(!1),[7];case 4:return[2]}}))}))}),[t.id,r,s,n,i]);return a().createElement("div",{className:"section-content"},a().createElement("div",{className:"group-forums-upsell-container"},a().createElement("div",{className:"group-forums-upsell-banner"}),a().createElement("h2",null,r("Heading.ForumsUpsell")),a().createElement("span",{className:"text-label"},r("Description.ForumsUpsell")),a().createElement(Wo.Alert,{severity:"info",variant:"outlined",className:"group-forums-upsell-alert"},a().createElement("span",{className:"text-body-small"},r("Description.ForumsReplacesWallNotice"))),a().createElement("button",{disabled:l,type:"button",className:"btn-growth-md btn-min-width group-forums-start-button",onClick:d},a().createElement("span",{className:"font-bold"},r("Action.GetStarted")))))}),d),Lp=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Mp=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Dp=new We.QueryClient,Fp=(0,s.withTranslations)((function(e){var t=e.group,n=e.permissions,r=e.channelsPermissions,i=e.displayPermissionsConfig,c=e.metadata,l=e.translate,d=(0,u.useSystemFeedback)(),f=d.SystemFeedbackComponent,m=d.systemFeedbackService,p=(0,s.useTheme)(),v=(0,o.useState)(!1),h=v[0],g=v[1],y=(0,o.useState)([]),b=y[0],w=y[1],C=(0,o.useState)(0),x=C[0],S=C[1],k=(0,o.useState)(0),P=k[0],N=k[1],I=(0,o.useState)([]),O=I[0],R=I[1],A=(0,o.useState)(!0),T=A[0],j=A[1],L=(0,o.useState)(!1),M=L[0],D=L[1],F=(0,o.useState)(n.groupMembershipPermissions.changeRank)[0],_=function(e){var t;if(r){var o=null===(t=r.find((function(t){return t.channelId===e.id})))||void 0===t?void 0:t.groupForumsPermissions;return!o||o.manageCategories}return n.groupForumsPermissions.manageCategories},B=(0,o.useCallback)((function(){return Lp(void 0,void 0,void 0,(function(){var e,n,r;return Mp(this,(function(o){switch(o.label){case 0:if(!(null==t?void 0:t.id))return[2];o.label=1;case 1:return o.trys.push([1,3,4,5]),j(!0),[4,Promise.all([Z(t.id,!1),Z(t.id,!0)])];case 2:return e=o.sent(),n=e[0],r=e[1],w(n.data.filter(_)),R(r.data.filter(_)),S(n.data.length),N(r.data.length),[3,5];case 3:return o.sent(),m.warning(l("NetworkError")),D(!0),[3,5];case 4:return j(!1),[7];case 5:return[2]}}))}))}),[t.id,l,j,w,m]),U=(0,o.useCallback)((function(){return Lp(void 0,void 0,void 0,(function(){return Mp(this,(function(e){switch(e.label){case 0:return[4,B()];case 1:return e.sent(),[2]}}))}))}),[B]),z=(0,o.useCallback)((function(){return Lp(void 0,void 0,void 0,(function(){return Mp(this,(function(e){switch(e.label){case 0:return[4,B()];case 1:return e.sent(),[2]}}))}))}),[B]),W=(0,o.useMemo)((function(){return x+P<E.limits.maxNumberOfCategories}),[x,P]),V=n.groupForumsPermissions.manageCategories;(0,o.useEffect)((function(){B()}),[B]);var H=(0,o.useCallback)((function(){g(!0)}),[g]),G=(0,o.useCallback)((function(){g(!1)}),[g]);return M?null:0===x&&0===P&&V?T?a().createElement(u.Loading,null):a().createElement(Wo.UIThemeProvider,{theme:p,cssBaselineMode:"disabled"},a().createElement("div",{className:"section-content remove-panel"},a().createElement(jp,{group:t,onFinished:z}),a().createElement(f,null))):a().createElement(We.QueryClientProvider,{client:Dp},a().createElement(Eu,{metadata:c},a().createElement("div",{className:"section-content remove-panel group-forums-config-section"},F&&a().createElement(Vo,{title:l("Heading.Roles"),content:l("Description.ForumsRolesLink"),buttonText:l("Action.VisitRoles"),onClickButton:function(){window.location.hash="#!/roles"},isDismissedLocalStorageKey:"visit-roles-local-storage-key"}),a().createElement("div",{className:"group-forums-config-section-header"},a().createElement("h2",null,l("Heading.Categories")),V&&a().createElement(a().Fragment,null,a().createElement(vn,{isDisabled:!W,className:"group-forums-config-add-category-button",variant:"Standard",onClick:H,size:"Small"},l("Action.AddForumCategory")),!W&&a().createElement("span",{className:"text-secondary"},l("Description.MaxNumberOfCategoriesReached",{maxNumberOfCategories:E.limits.maxNumberOfCategories})))),h&&a().createElement(Ko,{groupId:t.id,forumCategory:null,onSuccess:U,onClose:G}),T?a().createElement(u.Loading,null):a().createElement("div",{className:"group-forums-config-categories"},a().createElement("div",{className:"group-forums-config-categories-list"},b.map((function(e){return a().createElement(Rp,{key:e.id,group:t,forumCategory:e,refetchForumCategories:U,displayPermissionsConfig:i})}))),O.length>0&&a().createElement("div",{className:"font-bold"},l("Heading.ArchivedCategories")),a().createElement("div",{className:"group-forums-config-categories-list"},O.map((function(e){return a().createElement(Rp,{key:e.id,group:t,forumCategory:e,isDeleteDisabled:!1,isArchiveDisabled:!1,refetchForumCategories:U,displayPermissionsConfig:i})})))),a().createElement(f,null))))}),d),_p=(0,s.withTranslations)((function(e){var t=e.translate,n=e.onShowWallPost,r=e.groupId,i=e.areForumsEnabled,c=e.showWallCta,l=(0,o.useState)(!1),s=l[0],d=l[1];return a().createElement("div",{className:"group-wall-deprecation-notice"},a().createElement("span",{className:"group-wall-deprecation-notice-icon icon-warning"}),a().createElement("div",{className:"group-wall-deprecation-notice-content"},a().createElement("h3",{className:"group-wall-deprecation-notice-title"},t(i?"Heading.GroupWallDeprecated":"Heading.GroupWallDeprecatedNoForums")),a().createElement("div",{className:"group-wall-deprecation-notice-description"},t(i?"Description.GroupWallDeprecated":"Description.GroupWallDeprecatedNoForums"))),(i||c)&&a().createElement("div",{className:"group-wall-deprecation-notice-cta-container"},i&&a().createElement("div",{className:"group-wall-deprecation-notice-button"},a().createElement(u.Button,{variant:u.Button.variants.primary,size:u.Button.sizes.small,width:u.Button.widths.full,onClick:function(){var e=document.getElementById("forums");e?(document.documentElement.scrollTop=0,e.click()):window.location.href=E.deepLinks.groupForumUrl(r)}},t("Action.VisitForums"))),c&&a().createElement("div",{className:"group-wall-deprecation-notice-button"},a().createElement(u.Button,{variant:u.Button.variants.primary,size:u.Button.sizes.small,width:u.Button.widths.full,onClick:function(){d(!0),n()},isDisabled:s},t("Action.SeeWall")))))}),d),Bp=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},Up=function(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},zp=function(){return null},Wp=function(e){var t=e.translate,n=e.groupId,r=(0,u.useSystemFeedback)().systemFeedbackService,o=(0,We.useQuery)({queryFn:function(){return Bp(void 0,void 0,void 0,(function(){return Up(this,(function(e){switch(e.label){case 0:return[4,we(n,5)];case 1:return[2,e.sent().data]}}))}))},onError:function(){return r.warning(t("NetworkError"))},retry:!1,refetchOnWindowFocus:!1}),i=o.isLoading,c=o.data,l=(0,We.useQuery)({queryKey:bn(n),queryFn:function(){return Bp(void 0,void 0,void 0,(function(){return Up(this,(function(e){switch(e.label){case 0:return[4,Z(n,!1)];case 1:return[2,e.sent().data]}}))}))},onError:function(){return r.warning(t("NetworkError"))},retry:!1,refetchOnWindowFocus:!1}),s=l.isLoading,d=l.data;if(i||!c||!c.length||s||!d||!d.length)return null;var f=new Map(d.map((function(e){return[e.id,e]})));return a().createElement("div",{className:"group-forums-updates"},a().createElement("div",{className:"container-header group-forums-updates-header"},a().createElement("h2",{className:"group-forums-updates-header-title"},t("Heading.GroupForumsTopPosts")),a().createElement("a",{className:"see-all-link-icon",href:E.deepLinks.groupForumUrl(n)},t("Action.SeeAll"))),a().createElement("div",{className:"group-forums-posts-list"},a().createElement("div",{className:"group-forums-post-list-content"},c.map((function(e){var t,n;return a().createElement(nn,{hasMenu:!1,hasRouter:!1,showPinned:!1,key:e.id,post:e,categoryName:(null===(t=f.get(e.categoryId))||void 0===t?void 0:t.name)||"",categoryShortId:(null===(n=f.get(e.categoryId))||void 0===n?void 0:n.shortId)||"",refetchPosts:zp,togglePostNotifications:zp})})))))};Wp.displayName="GroupForumUpdates";var Vp=(0,s.withTranslations)(Wp,d),Hp=new We.QueryClient,Gp=function(e){var t=e.groupId,n=e.permissions,r=e.channelsPermissions,o=e.isGroupMember;return e.isEnabled&&t?a().createElement(u.SystemFeedbackProvider,null,a().createElement(We.QueryClientProvider,{client:Hp},a().createElement(xt,{groupId:t},a().createElement(Rt,null,a().createElement(Ht,null,a().createElement(_t,{permissions:n},a().createElement(jt,{permissions:n,channelsPermissions:r,isGroupMember:o},a().createElement(Vp,{groupId:t})))))))):null},Kp=function(){return Kp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Kp.apply(this,arguments)},qp={renderGroupForums:function(e,t){(0,i.unmountComponentAtNode)(e),(0,i.render)(a().createElement(zo,Kp({},t)),e)},renderGroupForumsConfigSection:function(e,t){(0,i.unmountComponentAtNode)(e),(0,i.render)(a().createElement(u.SystemFeedbackProvider,null,a().createElement(Fp,Kp({},t))),e)},renderGroupWallDeprecationNotice:function(e,t){(0,i.unmountComponentAtNode)(e),(0,i.render)(a().createElement(_p,Kp({},t)),e)},renderGroupForumsDiscovery:function(e,t){(0,i.unmountComponentAtNode)(e),(0,i.render)(a().createElement(Gp,Kp({},t)),e)}};Object.assign(r(),{GroupForumsService:qp})}()}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/41ac8798af059ec1de56a92cf900dc21-groupForums.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GroupForums");
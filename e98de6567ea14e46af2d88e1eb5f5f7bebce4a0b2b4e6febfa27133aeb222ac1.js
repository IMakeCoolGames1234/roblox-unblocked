/*! For license information please see groupShouts.bundle.min.js.LICENSE.txt */
!function(){var e={2173:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xOS42NTc3IDE3Ljc4ODVIMzAuNDYyNkwyOC4zNzQ3IDI5Ljk1MDZIMTcuNTY5OEwxOS42NTc3IDE3Ljc4ODVaTTM4LjM0NDUgMzEuNTQyNkMzOC4zNDQ1IDMwLjY2MzMgMzcuNjMxNyAyOS45NTA2IDM2Ljc1MjQgMjkuOTUwNkgzMS42NjMyTDMzLjc1MTEgMTcuODQwN0gzOC44NDA0QzM5LjcxOTYgMTcuODQwNyA0MC40MzI0IDE3LjEyNzkgNDAuNDMyNCAxNi4yNDg2QzQwLjQzMjQgMTUuMzY5NCAzOS43MTk2IDE0LjY1NjYgMzguODQwNCAxNC42NTY2SDM0LjI3MzFMMzUuNjE1NCA2Ljg5NjMyQzM1Ljc4NjcgNS45MDU4MyAzNS4wMjQxIDUgMzQuMDE4OSA1QzMzLjIzMDcgNSAzMi41NTY4IDUuNTY3MzEgMzIuNDIyNCA2LjM0NDAzTDMwLjk4NDYgMTQuNjU2NkgyMC4yMzE4TDIxLjU3NDIgNi44OTYzMkMyMS43NDU1IDUuOTA1ODMgMjAuOTgyOSA1IDE5Ljk3NzcgNUMxOS4xODk0IDUgMTguNTE1NiA1LjU2NzMxIDE4LjM4MTIgNi4zNDQwM0wxNi45NDM0IDE0LjY1NjZIMTEuMzMyMUMxMC40NTI5IDE0LjY1NjYgOS43NDAwOSAxNS4zNjk0IDkuNzQwMDkgMTYuMjQ4NkM5Ljc0MDA5IDE3LjEyNzkgMTAuNDUyOSAxNy44NDA3IDExLjMzMjEgMTcuODQwN0gxNi40MjE0TDE0LjMzMzUgMjkuOTUwNkg5LjE5MjAxQzguMzEyNzUgMjkuOTUwNiA3LjU5OTk4IDMwLjY2MzMgNy41OTk5OCAzMS41NDI2QzcuNTk5OTggMzIuNDIxOCA4LjMxMjc1IDMzLjEzNDYgOS4xOTIwMSAzMy4xMzQ2SDEzLjc1OTNMMTIuNDEgNDEuMTA0MUMxMi4yNDIxIDQyLjA5NTYgMTMuMDA2MiA0MyAxNC4wMTE5IDQzQzE0LjgwMTMgNDMgMTUuNDc2NSA0Mi40MzI1IDE1LjYxMjMgNDEuNjU0OEwxNy4xIDMzLjEzNDZIMjcuODAwNUwyNi40NTA1IDQxLjEwODJDMjYuMjgzIDQyLjA5NzYgMjcuMDQ1NCA0MyAyOC4wNDg5IDQzQzI4LjgzOTggNDMgMjkuNTE1MyA0Mi40MjkzIDI5LjY0NzMgNDEuNjQ5NUwzMS4wODkgMzMuMTM0NkgzNi43NTI0QzM3LjYzMTcgMzMuMTM0NiAzOC4zNDQ1IDMyLjQyMTggMzguMzQ0NSAzMS41NDI2WiIgZmlsbD0id2hpdGUiLz4NCjwvc3ZnPg0K"},1428:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzAiIGhlaWdodD0iNzAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF85ODVfMTM0MjcpIj4NCjxyZWN0IHk9IjAuNSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiByeD0iNCIgZmlsbD0iI0Y1QzQwMCIvPg0KPHBhdGggZD0iTTE4LjgyNzkgMjMuNDI0NUMxOC44Mjc5IDIzLjQyNDUgMTguODYxMyAyOC4xNjg3IDIxLjI5NzIgMzMuMDc1M0MyMy43OTk5IDM3Ljc5ODMgMjcuMjUwNSA0MC44MzIxIDMwLjA5NzIgNDIuMDQwNkMzMy4wMzg1IDQwLjY2NTcgMzUuODc5OCAzOC4yNzkxIDM3LjQzMDQgMzUuNzA3NkgyOS4zNTU4QzI3LjI2NjUgMzMuOTc2IDI1LjYyMjUgMzEuMTAzNCAyNS4yNDUyIDI3Ljc4M0g0OC45MzNDNDcuNzY1IDMzLjEyMTUgNDUuMjg2NCAzNy45NzY2IDQyLjkyNSA0MS4wNjg1QzM5LjY0NzYgNDUuMzU1NSAzNS4yMDM1IDQ4LjYyNzQgMzAuMTE0NSA1MC41SDMwLjAzOThDMjEuNTQzOSA0Ny4xMTQ5IDE2Ljk3MzMgNDEuNzgzIDEzLjk1NzMgMzUuNzY3QzEyLjAyMjYgMzEuOTExNyAxMCAyNC45MTE3IDEwIDE1LjVINDkuOTk5OEM1MC4wMDYzIDE4LjE1MDUgNDkuODI4MSAyMC43OTgzIDQ5LjQ2NjMgMjMuNDI0NUgxOC44Mjc5WiIgZmlsbD0iIzExMTgyMCIvPg0KPC9nPg0KPGRlZnM+DQo8Y2xpcFBhdGggaWQ9ImNsaXAwXzk4NV8xMzQyNyI+DQo8cmVjdCB5PSIwLjUiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcng9IjQiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo="},2020:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMyAxSDlWMi41SDNDMi43MjM4NiAyLjUgMi41IDIuNzIzODYgMi41IDNWMTVDMi41IDE1LjI3NjEgMi43MjM4NiAxNS41IDMgMTUuNUgxNUMxNS4yNzYxIDE1LjUgMTUuNSAxNS4yNzYxIDE1LjUgMTVWOUgxN1YxNUMxNyAxNi4xMDQ2IDE2LjEwNDYgMTcgMTUgMTdIM0MxLjg5NTQzIDE3IDEgMTYuMTA0NiAxIDE1VjNDMSAxLjg5NTQzIDEuODk1NDMgMSAzIDFaTTExLjUgMS43NUMxMS41IDEuMzM1NzkgMTEuODM1OCAxIDEyLjI1IDFIMTYuMjVIMTdWMS43NVY1Ljc1QzE3IDYuMTY0MjEgMTYuNjY0MiA2LjUgMTYuMjUgNi41QzE1LjgzNTggNi41IDE1LjUgNi4xNjQyMSAxNS41IDUuNzVWMy41NjA2Nkw5LjUzMDMzIDkuNTMwMzNDOS4yMzc0NCA5LjgyMzIyIDguNzYyNTYgOS44MjMyMiA4LjQ2OTY3IDkuNTMwMzNDOC4xNzY3OCA5LjIzNzQ0IDguMTc2NzggOC43NjI1NiA4LjQ2OTY3IDguNDY5NjdMMTQuNDM5MyAyLjVMMTIuMjUgMi41QzExLjgzNTggMi41IDExLjUgMi4xNjQyMSAxMS41IDEuNzVaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9zdmc+DQo="},4452:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=Roblox,t=n.n(e),r=React,a=n.n(r),o=ReactDOM,i=Roblox.ui,l=ReactStyleGuide,c=ReactUtilities,u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}var m,f,p,h,v,y,b,g=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r},E="relative clip group/interactable focus-visible:outline-focus disabled:outline-none",C=function(){return a().createElement("div",{role:"presentation",className:"absolute inset-[0] transition-colors group-hover/interactable:bg-[var(--color-state-hover)] group-active/interactable:bg-[var(--color-state-press)] group-disabled/interactable:bg-none"})},w="opacity-[0.5]",N={Large:"size-1200",Medium:"size-1000",Small:"size-800",XSmall:"size-600"},I={XSmall:"size-300",Small:"size-400",Medium:"size-500",Large:"size-500"},k={Large:{circular:"radius-circle",square:"radius-medium"},Medium:{circular:"radius-circle",square:"radius-medium"},Small:{circular:"radius-circle",square:"radius-medium"},XSmall:{circular:"radius-circle",square:"radius-small"}},x={Emphasis:"bg-action-emphasis",Standard:"bg-action-standard",Alert:"bg-action-alert",Utility:"bg-action-link",OverMedia:"bg-over-media-0"},M={Emphasis:"bg-action-standard",Standard:"bg-action-standard",Alert:"bg-action-standard",Utility:"bg-action-link",OverMedia:"bg-over-media-0"},S={Emphasis:"content-action-emphasis",Standard:"content-action-standard",Alert:"content-action-alert",Utility:"content-emphasis",OverMedia:"content-emphasis"},T={Emphasis:"content-action-standard",Standard:"content-action-standard",Alert:"content-action-standard",Utility:"content-emphasis",OverMedia:"content-emphasis"},A=(0,r.forwardRef)((function(e,t){var n=e.className,r=e.icon,o=e.ariaLabel,i=e.isDisabled,l=void 0!==i&&i,c=e.isCircular,d=void 0!==c&&c,m=e.size,f=void 0===m?"Large":m,p=e.variant,h=void 0===p?"Emphasis":p,v=s(e,["className","icon","ariaLabel","isDisabled","isCircular","size","variant"]),y=g("foundation-web-icon-button",l?w:[E,"cursor-pointer"],"relative flex items-center justify-center padding-none stroke-none select-none",N[f],k[f][d?"circular":"square"],l?M[h]:x[h],n),b=a().createElement(a().Fragment,null,a().createElement(C,null),a().createElement("span",{className:g("icon",r,I[f],l?T[h]:S[h])}));if("a"===v.as){v.as;var A=v.href,D=s(v,["as","href"]);return a().createElement("a",u({ref:t},D,{"aria-label":o,"aria-disabled":l,href:l?void 0:A,className:y}),b)}v.as;var L=s(v,["as"]);return a().createElement("button",u({ref:t,type:"button"},L,{"aria-label":o,disabled:l,className:y}),b)})),D={common:[],feature:"Feature.Groups"},L={common:[],feature:"Feature.CommunityLinks"},j=CoreUtilities,O=e.EnvironmentUrls.apiGatewayUrl,z=e.EnvironmentUrls.groupsApi,U=e.EnvironmentUrls.catalogApi,P="".concat(O,"/community-links/v1/groups"),R="".concat(O,"/community-links/v1/guilded"),G="".concat(O,"/community-links/v1/shout"),B="rgp",F={urls:{getGroupCommunityInfoUrl:function(e){return"".concat(P,"/").concat(e,"/community")},getGroupCommunityLinkUrl:function(e){return"".concat(P,"/").concat(e,"/community/link")},getGroupShoutUrl:function(e){return"".concat(P,"/").concat(e,"/shout")},getCreateShoutUrl:function(e){return"".concat(G,"/").concat(e,"/create")},getEditShoutUrl:function(e){return"".concat(G,"/").concat(e,"/update")},getDeleteShoutUrl:function(e){return"".concat(G,"/").concat(e)},getUserCommunityChannelsUrl:function(e){return"".concat(R,"/user/community/").concat(e,"/channels/announcements")},getReactionIncrementUrl:function(){return"".concat(G,"/reactions/increment")},getReactionDecrementUrl:function(){return"".concat(G,"/reactions/decrement")},getGroupMembershipUrl:function(e){return"".concat(z,"/v1/groups/").concat(e,"/membership")},getGroupNotificationPreferenceUrl:function(e){return"".concat(z,"/v1/groups/").concat(e,"/notification-preference")},getCatalogItemDetailsUrl:function(e,t){return"".concat(U,"/v1/catalog/items/").concat(t,"/details?itemType=").concat(e)},getViewCommunityUrl:function(t,n){return"".concat(e.EnvironmentUrls.guildedBaseUrl,"/teams/").concat(t,"?a=").concat(B).concat(n?"&token=".concat(n):"")},getJoinCommunityUrl:function(e){return"".concat(R,"/").concat(e,"/join?a=").concat(B)},getViewAnnouncementChannelUrl:function(t,n,r){return"".concat(e.EnvironmentUrls.guildedBaseUrl,"/teams/").concat(t,"/channels/").concat(n,"/announcements?a=").concat(B).concat(r?"&token=".concat(r):"")},getGroupCommunityValidateUrl:function(e){return"".concat(P,"/").concat(e,"/community/validate")},getConfigureGroupGuildedSectionUrl:function(t){return"".concat(e.EnvironmentUrls.websiteUrl,"/groups/configure?id=").concat(t,"#!/guilded")},reportAbuseRevamp:function(e){var t=e.targetId,n=e.submitterId,r=e.abuseVector,a=e.custom,o=new URLSearchParams({targetId:t,submitterId:n,abuseVector:r,custom:JSON.stringify(a)});return"/report-abuse/?".concat(o.toString())},guildedUserUrl:"".concat(R,"/user"),guildedUserServersUrl:"".concat(R,"/user/servers"),getUsersInfoURL:"".concat(e.EnvironmentUrls.usersApi,"/v1/users"),guildedTermsUrl:"https://support.guilded.gg/hc/en-us/articles/360039728313-Terms-of-use",guildedPrivacyPolicyUrl:"https://support.guilded.gg/hc/en-us/articles/360039235054-Privacy"},embedUrlRegexes:{catalogItem:/(roblox\.com|robloxlabs\.com)\/catalog\/(\d+)/},limits:{communityNameMinLength:3,communityNameMaxLength:30},routes:{base:"/",createAnnouncement:"/create-announcement",editAnnouncement:"/edit-announcement"},validation:{titleMinLength:3,titleMaxLength:120,contentMinLength:3,contentMaxLength:1e3}},Q=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},H=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},V=function(e){return Q(void 0,void 0,Promise,(function(){var t;return H(this,(function(n){switch(n.label){case 0:return t={url:F.urls.getGroupCommunityInfoUrl(e),retryable:!0,withCredentials:!0},[4,j.httpService.get(t)];case 1:return[2,n.sent().data]}}))}))},Y=function(){return Q(void 0,void 0,Promise,(function(){var e;return H(this,(function(t){return e={url:F.urls.guildedUserUrl,retryable:!0,withCredentials:!0},[2,j.httpService.get(e)]}))}))},_=function(){return Q(void 0,void 0,Promise,(function(){var e,t,n;return H(this,(function(r){switch(r.label){case 0:return e={url:F.urls.guildedUserServersUrl,retryable:!0,withCredentials:!0},[4,j.httpService.get(e)];case 1:return t=r.sent().data,[2,null!==(n=null==t?void 0:t.servers)&&void 0!==n?n:[]]}}))}))},W=function(e,t){return Q(void 0,void 0,Promise,(function(){var n;return H(this,(function(r){switch(r.label){case 0:return n={url:F.urls.getGroupCommunityInfoUrl(e),retryable:!0,withCredentials:!0},[4,j.httpService.post(n,{name:t})];case 1:return[2,r.sent().data]}}))}))},K=function(e,t,n){return Q(void 0,void 0,Promise,(function(){var r;return H(this,(function(a){switch(a.label){case 0:return r={url:F.urls.getGroupCommunityLinkUrl(e),retryable:!0,withCredentials:!0},[4,j.httpService.post(r,{communityId:t,announcementChannelId:n})];case 1:return[2,a.sent().data]}}))}))},Z=function(e){return Q(void 0,void 0,Promise,(function(){var t;return H(this,(function(n){switch(n.label){case 0:return t={url:F.urls.getUserCommunityChannelsUrl(e),retryable:!0,withCredentials:!0},[4,j.httpService.get(t)];case 1:return[2,n.sent().data]}}))}))},X=function(e){return Q(void 0,void 0,Promise,(function(){var t;return H(this,(function(n){switch(n.label){case 0:return t={url:F.urls.getGroupCommunityInfoUrl(e),retryable:!0,withCredentials:!0},[4,j.httpService.delete(t)];case 1:return n.sent(),[2]}}))}))},J=function(e,t){return Q(void 0,void 0,Promise,(function(){var n;return H(this,(function(r){switch(r.label){case 0:return n={url:F.urls.getGroupCommunityInfoUrl(e),retryable:!0,withCredentials:!0},[4,j.httpService.patch(n,{settings:t})];case 1:return r.sent(),[2]}}))}))},q=function(e){return Q(void 0,void 0,Promise,(function(){var t,n,r;return H(this,(function(a){switch(a.label){case 0:return t={url:F.urls.getGroupShoutUrl(e),retryable:!0,withCredentials:!0},[4,j.httpService.get(t)];case 1:return n=a.sent(),r=n.data,204===n.status?[2,null]:[2,r]}}))}))},$=function(e,t,n,r){return Q(void 0,void 0,Promise,(function(){var a,o;return H(this,(function(i){switch(i.label){case 0:return a={url:F.urls.getCreateShoutUrl(e),withCredentials:!0},(o=new FormData).append("title",t),o.append("content",n),r&&o.append("image",r),[4,j.httpService.post(a,o)];case 1:return[2,i.sent().data]}}))}))},ee=function(e,t,n,r){return Q(void 0,void 0,Promise,(function(){var a,o;return H(this,(function(i){switch(i.label){case 0:return a={url:F.urls.getEditShoutUrl(e),withCredentials:!0},(o=new FormData).append("title",t),o.append("content",n),r&&o.append("image",r),[4,j.httpService.patch(a,o)];case 1:return[2,i.sent().data]}}))}))},te=function(e){return Q(void 0,void 0,Promise,(function(){var t;return H(this,(function(n){switch(n.label){case 0:return t={url:F.urls.getDeleteShoutUrl(e),withCredentials:!0},[4,j.httpService.delete(t)];case 1:return n.sent(),[2]}}))}))},ne=function(e){return Q(void 0,void 0,Promise,(function(){var t;return H(this,(function(n){switch(n.label){case 0:return t={url:F.urls.getReactionIncrementUrl(),retryable:!0,withCredentials:!0},[4,j.httpService.post(t,e)];case 1:return[2,n.sent().data]}}))}))},re=function(e){return Q(void 0,void 0,Promise,(function(){var t;return H(this,(function(n){switch(n.label){case 0:return t={url:F.urls.getReactionDecrementUrl(),retryable:!0,withCredentials:!0},[4,j.httpService.post(t,e)];case 1:return[2,n.sent().data]}}))}))},ae=function(e,t){return Q(void 0,void 0,Promise,(function(){var n;return H(this,(function(r){switch(r.label){case 0:return n={url:F.urls.getGroupCommunityValidateUrl(e),retryable:!1,withCredentials:!0},[4,j.httpService.post(n,{name:t.name})];case 1:return[2,r.sent().data]}}))}))},oe=CoreRobloxUtilities;!function(e){e.CommunityDialogStateChanged="communityDialogStateChanged"}(m||(m={})),function(e){e.NotificationBell="notificationBell",e.NotificationUpsell="notificationUpsell"}(f||(f={})),function(e){e.Create="create",e.Link="link",e.ChangeChannel="changeChannel",e.Unlink="unlink"}(p||(p={})),function(e){e.Started="started",e.Completed="completed"}(h||(h={})),function(e){e.Group="group"}(v||(v={})),function(e){e.GroupPageClickEvent="groupPageClickEvent",e.GroupPageExposureEvent="groupPageExposureEvent"}(y||(y={})),function(e){e.GroupHomepage="groupHomepage",e.ConfigureGroup="configureGroup"}(b||(b={}));var ie=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},le=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},ce=(0,c.withTranslations)((function(e){var t=e.onConfirm,n=e.onClose,o=e.groupId,i=e.communityInfo,c=e.translate,u=(0,r.useCallback)((function(){return ie(void 0,void 0,void 0,(function(){return le(this,(function(e){switch(e.label){case 0:return e.trys.push([0,,3,4]),[4,X(o)];case 1:return e.sent(),function(e){var t=e.groupId,n=e.communityId,r=e.announcementChannelId;oe.eventStreamService.sendEventWithTarget(m.CommunityDialogStateChanged,b.ConfigureGroup,{dialogType:p.Unlink,dialogState:h.Completed,entityType:v.Group,entityId:t,guildedServerId:n,announcementChannelId:r})}({groupId:o,communityId:i.communityId,announcementChannelId:i.announcementChannelId}),[4,t()];case 2:return e.sent(),[3,4];case 3:return n(),[7];case 4:return[2]}}))}))}),[o,i.communityId,i.announcementChannelId,n,t]),s=a().createElement("p",null,c("Description.UnlinkCommunity"));return a().createElement(l.SimpleModal,{show:!0,title:c("Label.UnlinkCommunity"),body:s,actionButtonShow:!0,actionButtonText:c("Action.Unlink"),actionButtonVariant:l.Button.variants.alert,neutralButtonText:c("Action.Cancel"),onAction:u,onClose:n,onNeutral:n})}),D),ue=n(4452),se=n.n(ue),de=function(){return de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},de.apply(this,arguments)},me=function(e){var t=e.className,n=e.label,r=e.variant,o=void 0===r?l.Button.variants.primary:r,i=e.size,c=void 0===i?l.Button.sizes.medium:i,u=e.href,s=e.onClick,d=e.disabled,m=e.iconURL,f=e.openInNewTab,p=u?"a":"button",h=u?{href:u,target:f?"_blank":"_self",rel:"noopener"}:{};return a().createElement(p,de({className:se()(t,"btn-".concat(o,"-").concat(c)),onClick:s,disabled:d,role:"button"},h),a().createElement("span",{className:"linkable-button-content-container"},m&&a().createElement("img",{src:m,alt:"",className:"linkable-button-content-container-icon"}),n))};me.defaultProps={variant:l.Button.variants.primary,size:l.Button.sizes.medium,href:void 0,onClick:void 0,disabled:!1,iconURL:void 0,openInNewTab:!0};var fe=me,pe=function(){return pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},pe.apply(this,arguments)},he=function(e){var t=e.primaryButtonProps,n=e.secondaryButtonProps;return a().createElement("div",{className:"dialog-action-buttons-row"},!!t&&a().createElement(fe,pe({variant:l.Button.variants.primary},t)),!!n&&a().createElement(fe,pe({variant:l.Button.variants.secondary},n)))};he.defaultProps={primaryButtonProps:void 0,secondaryButtonProps:void 0};var ve=he,ye=function(e){var t=e.guildedUser,n=e.caption,r=e.translate;return a().createElement("div",{className:"guilded-user-info-display"},a().createElement("img",{className:se()("guilded-user-info-display-avatar",!t.profilePicture&&"guilded-user-info-display-avatar-default"),src:t.profilePicture,title:r("Label.GuildedAvatarAlt"),alt:""}),n&&a().createElement("div",{className:"guilded-user-info-display-caption"},n),a().createElement("h3",{className:"guilded-user-info-display-username"},t.username))};ye.defaultProps={caption:""};var be=(0,c.withTranslations)(ye,D),ge=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Ee=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Ce=(0,c.withTranslations)((function(e){var t=e.handleCancel,n=e.handleContinue,o=e.handleAccountNotFound,i=e.handleError,c=e.translate,u=(0,r.useState)(),s=u[0],d=u[1],m=(0,r.useState)(!0),f=m[0],p=m[1],h=(0,r.useCallback)((function(){return ge(void 0,void 0,void 0,(function(){var e,t;return Ee(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Y()];case 1:return e=n.sent(),t=e.data,204===e.status||(null===(r=t)||""===r||"object"==typeof r&&null!==r&&0===Object.keys(r).length)?o():(d(t),p(!1)),[3,3];case 2:return 404===n.sent().status?o():i(),[3,3];case 3:return[2]}var r}))}))}),[o,i]);return(0,r.useEffect)((function(){h()}),[h]),f||!s?a().createElement(l.Loading,null):a().createElement(l.Modal.Body,null,a().createElement(be,{guildedUser:s,caption:c("Label.ContinueAs")}),a().createElement("div",{className:"community-dialog-section"},c("Description.FetchedGuildedAccount")),a().createElement(ve,{primaryButtonProps:{label:c("Action.Continue"),onClick:n},secondaryButtonProps:{label:c("Action.Cancel"),onClick:t}}))}),D),we=(0,c.withTranslations)((function(t){var n=t.handleCancel,o=t.handleContinue,i=t.handleError,c=t.translate,u=(0,r.useState)(!1),s=u[0],d=u[1],m=(0,r.useCallback)((function(){d(!0)}),[]);return s?a().createElement(l.Modal.Body,null,a().createElement("div",{className:"link-community-account-not-found-image"}),a().createElement("div",{className:"community-dialog-section"},c("Description.GoToGuildedToLinkYourAccounts")),a().createElement(ve,{primaryButtonProps:{label:c("Action.ContinueToGuilded"),href:e.EnvironmentUrls.guildedBaseUrl},secondaryButtonProps:{label:c("Action.Cancel"),onClick:n}})):a().createElement(Ce,{handleContinue:o,handleCancel:n,handleAccountNotFound:m,handleError:i})}),D),Ne=function(e){var t=e.title,n=e.subtitle,o=e.iconClassName,i=e.iconUrl,l=e.selected,c=e.onClick,u=(0,r.useCallback)((function(e){"Enter"===e.key&&c()}),[c]);return a().createElement("div",{className:"selectable-list-item",onClick:c,onKeyDown:u,tabIndex:0,role:"radio","aria-checked":l},a().createElement("img",{className:se()("selectable-list-item-icon",o),src:i,alt:""}),a().createElement("div",{className:"selectable-list-item-info"},a().createElement("div",{className:"selectable-list-item-title"},t),n&&a().createElement("div",{className:"selectable-list-item-subtitle"},n)),a().createElement("div",{className:se()("selectable-list-item-checkbox",l&&"selectable-list-item-checkbox-filled")}))};Ne.defaultProps={subtitle:null,iconClassName:null};var Ie=Ne,ke=n(2173),xe=n.n(ke),Me=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Se=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Te=(0,c.withTranslations)((function(e){var t=e.communityId,n=e.handleCancel,o=e.handleContinue,i=e.handleChannelsNotFound,c=e.handleError,u=e.translate,s=(0,r.useState)(),d=s[0],m=s[1],f=(0,r.useState)(!0),p=f[0],h=f[1],v=(0,r.useState)(),y=v[0],b=v[1],g=(0,r.useCallback)((function(){return Me(void 0,void 0,void 0,(function(){var e,n;return Se(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Z(t)];case 1:return e=r.sent(),(null==(n=null==e?void 0:e.channels)?void 0:n.length)?(m(n),h(!1),[3,3]):(i(),[2]);case 2:return r.sent(),c(),[3,3];case 3:return[2]}}))}))}),[t,i,c]),E=(0,r.useCallback)((function(){y&&o(y)}),[o,y]);return(0,r.useEffect)((function(){g()}),[g]),p?a().createElement(l.Loading,null):a().createElement(l.Modal.Body,null,a().createElement("div",null,u("Description.SelectAnnouncementChannel")),a().createElement("ul",{className:"selectable-list-item-list"},(null!=d?d:[]).map((function(e){var t=e.id,n=e.name;return a().createElement(Ie,{key:t,iconUrl:xe(),iconClassName:"selectable-channel-icon",title:n,selected:t===y,onClick:function(){return b(t)}})}))),a().createElement(ve,{primaryButtonProps:{label:u("Action.Continue"),disabled:!y,onClick:E},secondaryButtonProps:{label:u("Action.Cancel"),onClick:n}}))}),D),Ae=(0,c.withTranslations)((function(e){var t=e.communityId,n=e.handleCancel,o=e.handleContinue,i=e.handleError,c=e.translate,u=(0,r.useState)(!1),s=u[0],d=u[1],m=(0,r.useCallback)((function(){d(!0)}),[]);return s?a().createElement(l.Modal.Body,null,a().createElement("div",null,c("Description.NoAnnouncementChannelsFound")),a().createElement(ve,{primaryButtonProps:{label:c("Action.ViewCommunity"),href:F.urls.getViewCommunityUrl(t)},secondaryButtonProps:{label:c("Action.Cancel"),onClick:n}})):a().createElement(Te,{communityId:t,handleCancel:n,handleContinue:o,handleChannelsNotFound:m,handleError:i})}),D),De=RobloxThumbnails,Le=function(e){var t=e.groupId,n=e.communityInfo,r=e.loginToken,o=(e.handleClose,e.translate);return a().createElement(l.Modal.Body,null,a().createElement("div",{className:"community-link-success-banner"},a().createElement("div",{className:"community-link-success-banner-icon"},a().createElement(De.Thumbnail2d,{type:De.ThumbnailTypes.groupIcon,targetId:t,size:De.ThumbnailGameIconSize.size150}))),a().createElement("div",{className:"community-dialog-section"},a().createElement("h3",null,o("Heading.CommunityLinkSuccess",{communityName:n.name})),a().createElement("div",null,o("Description.CommunityLinkSuccess"))),a().createElement(ve,{primaryButtonProps:{label:o("Action.CreateAnnouncement"),href:F.urls.getViewAnnouncementChannelUrl(n.communityId,n.announcementChannelId,r)},secondaryButtonProps:{label:o("Action.ViewCommunity"),href:F.urls.getViewCommunityUrl(n.communityId,r)}}))};Le.defaultProps={loginToken:void 0};var je,Oe=(0,c.withTranslations)(Le,D),ze=function(){return ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ze.apply(this,arguments)},Ue=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Pe=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Re=function(e){var t=e.groupId,n=e.communityInfo,o=e.announcementChannelId,i=e.handleClose,c=e.handleError,u=(0,r.useState)(!0),s=u[0],d=u[1],f=(0,r.useMemo)((function(){return ze(ze({},n),{announcementChannelId:o})}),[n,o]),y=(0,r.useCallback)((function(){return Ue(void 0,void 0,void 0,(function(){return Pe(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,J(t,{announcementChannelId:o})];case 1:return e.sent(),function(e){var t=e.groupId,n=e.communityId,r=e.announcementChannelId,a=e.prevAnnouncementChannelId;oe.eventStreamService.sendEventWithTarget(m.CommunityDialogStateChanged,b.ConfigureGroup,{dialogType:p.ChangeChannel,dialogState:h.Completed,entityType:v.Group,entityId:t,guildedServerId:n,announcementChannelId:r,prevAnnouncementChannelId:a})}({groupId:t,communityId:n.communityId,announcementChannelId:o,prevAnnouncementChannelId:n.announcementChannelId}),d(!1),[3,3];case 2:return e.sent(),c(),[3,3];case 3:return[2]}}))}))}),[t,o,n.communityId,n.announcementChannelId,c]);return(0,r.useEffect)((function(){y()}),[y]),s?a().createElement(l.Loading,null):a().createElement(Oe,{groupId:t,communityInfo:f,handleClose:i})},Ge=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],a=(0,r.useState)(!0),o=a[0],i=a[1],l=(0,r.useCallback)((function(e){var t;void 0===e&&(e={}),i(null===(t=null==e?void 0:e.canRetry)||void 0===t||t),n(!0)}),[]),c=(0,r.useCallback)((function(){n(!1)}),[]);return{errorState:(0,r.useMemo)((function(){return{hasError:t,canRetry:o}}),[t,o]),handleError:l,clearError:c}},Be=function(e){var t=e.title,n=e.message;return a().createElement("div",{className:"error-display"},a().createElement("div",{className:"error-display-image"}),a().createElement("div",{className:"error-display-content"},a().createElement("h3",null,t),a().createElement("div",null,n)))},Fe=(0,c.withTranslations)((function(e){var t=e.canRetry,n=e.handleRetry,o=e.handleClose,i=e.translate,c=(0,r.useMemo)((function(){if(t)return{label:i("Action.Retry"),onClick:n}}),[t,n,i]),u=(0,r.useMemo)((function(){return{label:i("Action.Cancel"),onClick:o}}),[o,i]);return a().createElement(l.Modal.Body,null,a().createElement(Be,{title:i("Heading.CommunityDialogError"),message:i("Description.CommunityDialogError")}),a().createElement(ve,{primaryButtonProps:c,secondaryButtonProps:u}))}),D);!function(e){e[e.ACCOUNT_FETCH=0]="ACCOUNT_FETCH",e[e.CHANNEL_SELECT=1]="CHANNEL_SELECT",e[e.UPDATE_COMMUNITY=2]="UPDATE_COMMUNITY"}(je||(je={}));var Qe,He=(0,c.withTranslations)((function(e){var t=e.groupId,n=e.communityInfo,o=e.onClose,i=e.onUpdateSuccess,c=e.translate,u=(0,r.useState)(je.ACCOUNT_FETCH),s=u[0],d=u[1],m=(0,r.useState)(""),f=m[0],p=m[1],h=Ge(),v=h.errorState,y=h.handleError,b=h.clearError,g=v.hasError,E=v.canRetry,C=(0,r.useCallback)((function(){i(),o()}),[i,o]),w=(0,r.useCallback)((function(){s===je.UPDATE_COMMUNITY?C():o()}),[s,o,C]),N=(0,r.useCallback)((function(){d(je.CHANNEL_SELECT)}),[]),I=(0,r.useCallback)((function(e){p(e),d(je.UPDATE_COMMUNITY)}),[]);return a().createElement(l.Modal,{className:"link-community-dialog",show:!0,size:"md",backdrop:"static"},a().createElement(l.Modal.Header,{title:c("Heading.ChangeAnnouncementChannel"),onClose:w}),g?a().createElement(Fe,{canRetry:E,handleRetry:b,handleClose:o}):a().createElement(r.Fragment,null,s===je.ACCOUNT_FETCH&&a().createElement(we,{handleCancel:o,handleContinue:N,handleError:y}),s===je.CHANNEL_SELECT&&a().createElement(Ae,{communityId:n.communityId,handleCancel:o,handleContinue:I,handleError:y}),s===je.UPDATE_COMMUNITY&&a().createElement(Re,{groupId:t,communityInfo:n,announcementChannelId:f,handleClose:C,handleError:y})))}),D),Ve=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Ye=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},_e=function(){},We=(0,c.withTranslations)((function(e){var t=e.groupId,n=e.communityInfo,o=e.translate,i=e.refetchCommunityInfo,c=(0,r.useState)(!0),u=c[0],s=c[1],d=(0,r.useState)(),f=d[0],y=d[1],g=(0,r.useState)(!1),E=g[0],C=g[1],w=(0,r.useState)(!1),N=w[0],I=w[1],k=(0,r.useCallback)((function(){var e;!function(e){var t=e.groupId,n=e.communityId,r=e.announcementChannelId;oe.eventStreamService.sendEventWithTarget(m.CommunityDialogStateChanged,b.ConfigureGroup,{dialogType:p.ChangeChannel,dialogState:h.Started,entityType:v.Group,entityId:t,guildedServerId:n,announcementChannelId:r})}({groupId:t,communityId:n.communityId,announcementChannelId:null!==(e=null==f?void 0:f.id)&&void 0!==e?e:""}),C(!0)}),[t,n.communityId,null==f?void 0:f.id]),x=(0,r.useCallback)((function(){C(!1)}),[]),M=(0,r.useCallback)((function(){var e;!function(e){var t=e.groupId,n=e.communityId,r=e.announcementChannelId;oe.eventStreamService.sendEventWithTarget(m.CommunityDialogStateChanged,b.ConfigureGroup,{dialogType:p.Unlink,dialogState:h.Started,entityType:v.Group,entityId:t,guildedServerId:n,announcementChannelId:r})}({groupId:t,communityId:n.communityId,announcementChannelId:null!==(e=null==f?void 0:f.id)&&void 0!==e?e:""}),I(!0)}),[t,n.communityId,null==f?void 0:f.id]),S=(0,r.useCallback)((function(){I(!1)}),[]),T=(0,r.useCallback)((function(){return Ve(void 0,void 0,void 0,(function(){var e,t;return Ye(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),[4,Z(n.communityId)];case 1:return e=r.sent(),(t=e.channels.find((function(e){return e.id===n.announcementChannelId})))&&y(t),[3,3];case 2:return s(!1),[7];case 3:return[2]}}))}))}),[n.communityId,n.announcementChannelId]),D=(0,r.useCallback)((function(){return Ve(void 0,void 0,void 0,(function(){return Ye(this,(function(e){switch(e.label){case 0:return[4,i()];case 1:return e.sent(),[4,T()];case 2:return e.sent(),[2]}}))}))}),[i,T]);(0,r.useEffect)((function(){T()}),[T]);var L=(0,r.useMemo)((function(){return F.urls.getViewCommunityUrl(n.communityId)}),[n.communityId]);return a().createElement("div",{className:"announcements-channel-configurator"},a().createElement("div",{className:"announcements-channel-configurator-community-icon-container"},a().createElement("div",{className:"announcements-channel-configurator-community-icon"})),a().createElement("div",{className:"announcements-channel-configurator-description"},a().createElement("h2",null,n.name),u?null:f?a().createElement("div",null,a().createElement("span",null,o("Description.ConnectedTo")),a().createElement("span",{className:"font-bold"}," #".concat(f.name," ")),a().createElement("span",null,o("Label.Channel").toLocaleLowerCase())):a().createElement("div",null,o("Description.LinkNewChannel")),a().createElement("div",{className:"announcements-channel-configurator-description-buttons"},a().createElement(fe,{variant:l.Button.variants.cta,size:l.Button.sizes.small,href:L,label:o("Action.ViewCommunity")}),u||f?null:a().createElement(l.Button,{variant:l.Button.variants.secondary,size:l.Button.sizes.small,onClick:k},o("Action.LinkChannel")))),a().createElement("div",{className:"announcements-channel-configurator-menu"},a().createElement(l.Popover,{id:"announcements-channel-configurator-dropdown-menu",button:a().createElement(A,{as:"button",icon:"icon-filled-three-dots-horizontal",variant:"Utility",size:"Medium",ariaLabel:o("Action.More"),onClick:_e}),trigger:"click",placement:"bottom"},a().createElement("ul",{className:"dropdown-menu",role:"menu"},a().createElement("li",null,a().createElement(l.Button,{variant:l.Button.variants.secondary,onClick:k},o("Label.ChangeChannel"))),a().createElement("li",null,a().createElement(l.Button,{variant:l.Button.variants.secondary,onClick:M},o("Label.UnlinkCommunity")))))),N&&a().createElement(ce,{onConfirm:i,onClose:S,groupId:t,communityInfo:n}),E&&a().createElement(He,{groupId:t,communityInfo:n,onClose:x,onUpdateSuccess:D}))}),D),Ke=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Ze=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Xe=function(e,t,n){return Ke(void 0,void 0,Promise,(function(){return Ze(this,(function(r){switch(r.label){case 0:return e.length<F.limits.communityNameMinLength?[2,"Error.CommunityNameValidationTooShort"]:n.asyncValidation?[4,ae(t,{name:e})]:[3,2];case 1:if(!r.sent().nameIsValid)return[2,"Error.CommunityNameValidationInvalid"];r.label=2;case 2:return[2,null]}}))}))},Je=(0,c.withTranslations)((function(e){var t=e.groupId,n=e.defaultName,o=e.handleContinue,i=e.handleCancel,c=e.translate,u=(0,r.useState)(n),s=u[0],d=u[1],m=(0,r.useState)(null),f=m[0],p=m[1],h=(0,r.useState)(!1),v=h[0],y=h[1],b=(0,r.useState)(!1),g=b[0],E=b[1],C=(0,r.useCallback)((function(e,n){return Ke(void 0,void 0,void 0,(function(){var r;return Ze(this,(function(a){switch(a.label){case 0:y(!0),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,Xe(e,t,{asyncValidation:n.asyncValidation})];case 2:return r=a.sent(),p(r),[3,4];case 3:return y(!1),[7];case 4:return[2]}}))}))}),[t]),w=(0,r.useCallback)((function(){E(!0),C(s,{asyncValidation:!0})}),[s,C]);(0,r.useEffect)((function(){g&&null===f&&!v&&o(s)}),[f,v,s,o,g]);var N=(0,r.useCallback)((function(e){E(!1);var t=e.target.value;d(t),C(t,{asyncValidation:!1})}),[C]);return(0,r.useEffect)((function(){C(n,{asyncValidation:!0})}),[C,n]),a().createElement(l.Modal.Body,null,a().createElement("div",{className:"create-community-form-image"},a().createElement(De.Thumbnail2d,{type:De.ThumbnailTypes.groupIcon,targetId:t,size:De.ThumbnailGameIconSize.size150})),a().createElement("div",{className:"community-dialog-section"},c("Description.NameYourCommunity")),a().createElement("div",{className:"create-community-form-input"},a().createElement("label",{className:"text-label",htmlFor:"create-community-name-input"},c("Label.CommunityName")),a().createElement("input",{id:"create-community-name-input",type:"text","focus-me":"true",placeholder:n,minLength:F.limits.communityNameMinLength,maxLength:F.limits.communityNameMaxLength,className:"form-control input-field",autoComplete:"off",onChange:N,value:s}),a().createElement("p",{className:"create-community-form-input-error"},f&&c(f))),a().createElement(ve,{primaryButtonProps:{label:c("Action.Continue"),disabled:!!f||v,onClick:w},secondaryButtonProps:{label:c("Action.Cancel"),onClick:i}}))}),D),qe=(0,c.withTranslations)((function(t){var n=t.handleCancel,o=t.handleContinue,i=t.handleOpenLinkDialog,c=t.handleError,u=t.translate,s=(0,r.useState)(!1),d=s[0],m=s[1],f=(0,r.useState)(!1),p=f[0],h=f[1],v=(0,r.useCallback)((function(){m(!0)}),[]),y=(0,r.useCallback)((function(e){h(e.target.checked)}),[]),b=(0,r.useMemo)((function(){return{__html:u("Label.AcceptGuildedTerms",{termsLinkStart:'<a href="'.concat(F.urls.guildedTermsUrl,'" rel="noopener" target="_blank">'),termsLinkEnd:"</a>",privacyLinkStart:'<a href="'.concat(F.urls.guildedPrivacyPolicyUrl,'" rel="noopener" target="_blank">'),privacyLinkEnd:"</a>"})}}),[u]),g=(0,r.useCallback)((function(e){"Enter"===e.key&&i()}),[i]);return d?a().createElement(l.Modal.Body,null,a().createElement(be,{guildedUser:{userId:"placeholder",username:e.CurrentUser.name,profilePicture:""},caption:u("Label.CreatingGuildedAccountAs")}),a().createElement("div",{className:"community-dialog-section align-left"},u("Description.CreatingGuildedAccount")),a().createElement("div",{className:"community-dialog-section align-left"},u("Description.AlreadyHaveAGuildedAccount")," ",a().createElement("a",{role:"button",className:"link-existing-community-link",onClick:i,onKeyDown:g,tabIndex:0},u("Action.LinkExistingCommunity"))),a().createElement("div",{className:"community-dialog-section accept-guilded-terms"},a().createElement("input",{className:"accept-guilded-terms-checkbox",id:"accept-guilded-terms",type:"checkbox",onChange:y,checked:p,tabIndex:0})," ",a().createElement("label",{htmlFor:"accept-guilded-terms"},a().createElement("span",{className:"accept-guilded-terms-label",dangerouslySetInnerHTML:b}))),a().createElement(ve,{primaryButtonProps:{label:u("Action.Continue"),disabled:!p,onClick:o},secondaryButtonProps:{label:u("Action.Cancel"),onClick:n}})):a().createElement(Ce,{handleContinue:o,handleCancel:n,handleAccountNotFound:v,handleError:c})}),D),$e=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},et=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},tt=function(e){var t=e.groupId,n=e.communityName,o=e.eventContext,i=e.handleClose,c=e.handleError,u=(0,r.useState)(),s=u[0],d=u[1],f=(0,r.useCallback)((function(){return $e(void 0,void 0,void 0,(function(){var e;return et(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,W(t,n)];case 1:return e=r.sent(),d(e),function(e){var t=e.groupId,n=e.communityId,r=e.announcementChannelId,a=e.context;oe.eventStreamService.sendEventWithTarget(m.CommunityDialogStateChanged,a,{dialogType:p.Create,dialogState:h.Completed,entityType:v.Group,entityId:t,guildedServerId:n,announcementChannelId:r})}({groupId:t,communityId:e.communityInfo.communityId,announcementChannelId:e.communityInfo.announcementChannelId,context:o}),[3,3];case 2:return r.sent(),c({canRetry:!1}),[3,3];case 3:return[2]}}))}))}),[t,n,o,c]);return(0,r.useEffect)((function(){f()}),[f]),s?a().createElement(Oe,{groupId:t,communityInfo:s.communityInfo,loginToken:s.loginToken,handleClose:i}):a().createElement(l.Loading,null)};!function(e){e[e.FORM_INPUT=0]="FORM_INPUT",e[e.ACCOUNT_FETCH=1]="ACCOUNT_FETCH",e[e.CREATE=2]="CREATE"}(Qe||(Qe={}));var nt,rt=(0,c.withTranslations)((function(e){var t=e.groupId,n=e.defaultName,o=e.eventContext,i=e.onClose,c=e.onCreateSuccess,u=e.openLinkCommunityDialog,s=e.translate,d=(0,r.useState)(Qe.FORM_INPUT),m=d[0],f=d[1],p=(0,r.useState)(""),h=p[0],v=p[1],y=Ge(),b=y.errorState,g=y.handleError,E=y.clearError,C=b.hasError,w=b.canRetry,N=(0,r.useCallback)((function(){c(),i()}),[c,i]),I=(0,r.useCallback)((function(){m===Qe.CREATE?N():i()}),[m,i,N]),k=(0,r.useCallback)((function(e){v(e),f(Qe.ACCOUNT_FETCH)}),[]),x=(0,r.useCallback)((function(){f(Qe.CREATE)}),[]),M=(0,r.useCallback)((function(){i(),u()}),[i,u]);return a().createElement(l.Modal,{className:"create-community-dialog",show:!0,size:"md",backdrop:"static"},a().createElement(l.Modal.Header,{title:s("Heading.CreateCommunity"),onClose:I}),C?a().createElement(Fe,{canRetry:w,handleRetry:E,handleClose:i}):a().createElement(r.Fragment,null,m===Qe.FORM_INPUT&&a().createElement(Je,{groupId:t,defaultName:n,handleCancel:i,handleContinue:k}),m===Qe.ACCOUNT_FETCH&&a().createElement(qe,{handleCancel:i,handleContinue:x,handleOpenLinkDialog:M,handleError:g}),m===Qe.CREATE&&a().createElement(tt,{groupId:t,communityName:h,eventContext:o,handleClose:N,handleError:g})))}),D),at=n(1428),ot=n.n(at),it=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},lt=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},ct=(0,c.withTranslations)((function(e){var t=e.handleCancel,n=e.handleContinue,o=e.handleError,i=e.openCreateCommunityDialog,c=e.translate,u=(0,r.useState)(),s=u[0],d=u[1],m=(0,r.useState)(!0),f=m[0],p=m[1],h=(0,r.useState)(),v=h[0],y=h[1],b=(0,r.useCallback)((function(){return it(void 0,void 0,void 0,(function(){var e;return lt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,_()];case 1:return e=t.sent(),d(e),p(!1),[3,3];case 2:return t.sent(),o(),[3,3];case 3:return[2]}}))}))}),[o]),g=(0,r.useCallback)((function(){v&&n(v)}),[n,v]),E=(0,r.useCallback)((function(){t(),i()}),[t,i]);return(0,r.useEffect)((function(){b()}),[b]),f?a().createElement(l.Loading,null):(null==s?void 0:s.length)?a().createElement(l.Modal.Body,null,a().createElement("div",null,c("Description.SelectGuildedServer")),a().createElement("ul",{className:"selectable-list-item-list"},s.map((function(e){var t=e.serverId,n=e.name,r=e.iconUrl,o=e.memberCount;return e.isAdmin?a().createElement(Ie,{key:t,iconUrl:null!=r?r:ot(),title:n,subtitle:c("Label.MembersCount",{memberCount:o}),selected:t===v,onClick:function(){return y(t)}}):null}))),a().createElement(ve,{primaryButtonProps:{label:c("Action.Continue"),disabled:!v,onClick:g},secondaryButtonProps:{label:c("Action.Cancel"),onClick:t}})):a().createElement(l.Modal.Body,null,a().createElement("div",null,c("Description.NoGuildedServersFound")),a().createElement(ve,{primaryButtonProps:{label:c("Action.Continue"),onClick:E},secondaryButtonProps:{label:c("Action.Cancel"),onClick:t}}))}),D),ut=function(e){var t=e.communityId,n=e.handleCancel,o=e.handleContinue,i=e.handleError,l=(0,r.useCallback)((function(){o(null)}),[o]);return a().createElement(Te,{communityId:t,handleCancel:n,handleContinue:o,handleChannelsNotFound:l,handleError:i})},st=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},dt=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},mt=function(e){var t=e.groupId,n=e.communityId,o=e.announcementChannelId,i=e.eventContext,c=e.handleClose,u=e.handleError,s=(0,r.useState)(),d=s[0],f=s[1],y=(0,r.useCallback)((function(){return st(void 0,void 0,void 0,(function(){var e;return dt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,K(t,n,o)];case 1:return e=r.sent(),f(e),function(e){var t=e.groupId,n=e.communityId,r=e.announcementChannelId,a=e.context;oe.eventStreamService.sendEventWithTarget(m.CommunityDialogStateChanged,a,{dialogType:p.Link,dialogState:h.Completed,entityType:v.Group,entityId:t,guildedServerId:n,announcementChannelId:r})}({groupId:t,communityId:n,announcementChannelId:e.announcementChannelId,context:i}),[3,3];case 2:return r.sent(),u(),[3,3];case 3:return[2]}}))}))}),[t,n,o,i,u]);return(0,r.useEffect)((function(){y()}),[y]),d?a().createElement(Oe,{groupId:t,communityInfo:d,handleClose:c}):a().createElement(l.Loading,null)};!function(e){e[e.ACCOUNT_FETCH=0]="ACCOUNT_FETCH",e[e.SERVER_SELECT=1]="SERVER_SELECT",e[e.CHANNEL_SELECT=2]="CHANNEL_SELECT",e[e.CREATE_LINK=3]="CREATE_LINK"}(nt||(nt={}));var ft,pt=(0,c.withTranslations)((function(e){var t=e.groupId,n=e.eventContext,o=e.onClose,i=e.onLinkSuccess,c=e.openCreateCommunityDialog,u=e.translate,s=(0,r.useState)(nt.ACCOUNT_FETCH),d=s[0],m=s[1],f=(0,r.useState)(""),p=f[0],h=f[1],v=(0,r.useState)(),y=v[0],b=v[1],g=Ge(),E=g.errorState,C=g.handleError,w=g.clearError,N=E.hasError,I=E.canRetry,k=(0,r.useCallback)((function(){i(),o()}),[i,o]),x=(0,r.useCallback)((function(){d===nt.CREATE_LINK?k():o()}),[d,o,k]),M=(0,r.useCallback)((function(){m(nt.SERVER_SELECT)}),[]),S=(0,r.useCallback)((function(e){h(e),m(nt.CHANNEL_SELECT)}),[]),T=(0,r.useCallback)((function(e){b(e),m(nt.CREATE_LINK)}),[]);return a().createElement(l.Modal,{className:"link-community-dialog",show:!0,size:"md",backdrop:"static"},a().createElement(l.Modal.Header,{title:u("Heading.LinkCommunity"),onClose:x}),N?a().createElement(Fe,{canRetry:I,handleRetry:w,handleClose:o}):a().createElement(r.Fragment,null,d===nt.ACCOUNT_FETCH&&a().createElement(we,{handleCancel:o,handleContinue:M,handleError:C}),d===nt.SERVER_SELECT&&a().createElement(ct,{handleCancel:o,handleContinue:S,handleError:C,openCreateCommunityDialog:c}),d===nt.CHANNEL_SELECT&&a().createElement(ut,{communityId:p,handleCancel:o,handleContinue:T,handleError:C}),d===nt.CREATE_LINK&&a().createElement(mt,{groupId:t,communityId:p,announcementChannelId:null!=y?y:null,eventContext:n,handleClose:k,handleError:C})))}),D),ht=(0,c.withTranslations)((function(e){var t=e.group,n=e.className,o=void 0===n?"":n,c=e.refetchCommunityInfo,u=e.eventContext,s=e.translate,d=(0,r.useState)(!1),f=d[0],y=d[1],g=(0,r.useCallback)((function(){return y(!1)}),[]),E=(0,r.useCallback)((function(){!function(e){var t=e.groupId,n=e.context;oe.eventStreamService.sendEventWithTarget(m.CommunityDialogStateChanged,n,{dialogType:p.Link,dialogState:h.Started,entityType:v.Group,entityId:t})}({groupId:t.id,context:u}),y(!0)}),[t.id,u]),C=(0,r.useState)(!1),w=C[0],N=C[1],I=(0,r.useCallback)((function(){return N(!1)}),[]),k=(0,r.useCallback)((function(){!function(e){var t=e.groupId,n=e.context;oe.eventStreamService.sendEventWithTarget(m.CommunityDialogStateChanged,n,{dialogType:p.Create,dialogState:h.Started,entityType:v.Group,entityId:t})}({groupId:t.id,context:u}),N(!0)}),[t.id,u]);return a().createElement("div",{className:se()("announcements-upsell",o)},a().createElement("h2",null,s("Heading.AnnouncementsUpsell")),a().createElement("div",null,s("Description.AnnouncementsUpsell")),u===b.GroupHomepage&&a().createElement(i.Alert,{severity:"info",variant:"outlined",className:"announcements-upsell-alert"},a().createElement("span",{className:"text-body-small"},s("Description.AnnouncementsOnlyOneLinkedServerAlert"))),a().createElement("div",{className:"announcements-upsell-buttons"},a().createElement(l.Button,{onClick:k,variant:"growth"},s("Action.CreateCommunity")),a().createElement(l.Button,{onClick:E,variant:"secondary"},s("Action.LinkCommunity"))),w&&a().createElement(rt,{groupId:t.id,defaultName:t.name,eventContext:u,onClose:I,onCreateSuccess:c,openLinkCommunityDialog:E}),f&&a().createElement(pt,{groupId:t.id,eventContext:u,onClose:g,onLinkSuccess:c,openCreateCommunityDialog:k}))}),D),vt=function(){return vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},vt.apply(this,arguments)},yt=function(e){var t=e.context,n=e.groupId,r=e.exposureType,a=e.exposureId;oe.eventStreamService.sendEventWithTarget(y.GroupPageExposureEvent,t,vt({groupId:n,exposureType:r},a&&{exposureId:a}))},bt=function(e){var t=e.context,n=e.groupId,r=e.clickTargetType,a=e.clickTargetId;oe.eventStreamService.sendEventWithTarget(y.GroupPageClickEvent,t,vt({groupId:n,clickTargetType:r},a&&{clickTargetId:a}))};!function(e){e.Private="private",e.Public="public"}(ft||(ft={}));var gt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Et=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Ct=(0,c.withTranslations)((function(e){var t=e.communityInfo,n=e.groupId,o=e.translate,i=(0,r.useState)(t.visibility),c=i[0],u=i[1],s=(0,r.useState)(!1),d=s[0],m=s[1],f=(0,r.useCallback)((function(){return gt(void 0,void 0,void 0,(function(){var e;return Et(this,(function(t){switch(t.label){case 0:e=c===ft.Public?ft.Private:ft.Public,u(e),t.label=1;case 1:return t.trys.push([1,3,4,5]),m(!0),[4,J(n,{visibility:e})];case 2:return t.sent(),[3,5];case 3:return t.sent(),u(c),[3,5];case 4:return m(!1),[7];case 5:return[2]}}))}))}),[c,n]);return a().createElement("div",{className:"section-content community-config-section"},a().createElement("div",{className:"community-config-section-row"},a().createElement("span",null,o("Label.JoinCommunityVisibility")),a().createElement(l.Toggle,{className:"community-config-section-row-toggle",isOn:c===ft.Public,isDisabled:d,onToggle:f})))}),D),wt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Nt=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},It=(0,c.withTranslations)((function(e){var t,n=e.communityInfo,o=e.groupId,i=e.translate,c=(0,l.useSystemFeedback)(),u=c.systemFeedbackService,s=c.SystemFeedbackComponent,d=(0,r.useState)(null!==(t=n.rolesSynced)&&void 0!==t&&t),m=d[0],f=d[1],p=(0,r.useState)(!1),h=p[0],v=p[1],y=(0,r.useState)(!1),b=y[0],g=y[1],E=(0,r.useCallback)((function(){return wt(void 0,void 0,void 0,(function(){var e,t;return Nt(this,(function(n){switch(n.label){case 0:e=!m,g(!1),f(e),n.label=1;case 1:return n.trys.push([1,3,4,5]),v(!0),[4,J(o,{rolesSynced:e})];case 2:return n.sent(),[3,5];case 3:return t=n.sent(),409===t.status?g(!0):u.warning(i("NetworkError")),f(m),[3,5];case 4:return v(!1),[7];case 5:return[2]}}))}))}),[m,o,u,i]);return a().createElement(a().Fragment,null,a().createElement("div",{className:"section-content community-config-section ".concat(b?"community-config-section-has-error":"")},a().createElement("div",{className:"community-config-section-row"},a().createElement("span",null,i("Label.SyncRolesToGuildedCommunity")),a().createElement(l.Toggle,{className:"community-config-section-row-toggle",isOn:m,isDisabled:h,onToggle:E}))),b&&a().createElement("span",{className:"community-config-section-error text-error"},i("Label.SyncRolesToGuildedCommunityConflictError")),a().createElement(s,null))}),D),kt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},xt=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Mt=(0,c.withTranslations)((function(e){var t=e.group,n=e.displayGroupRolesSynced,o=e.translate,u=(0,c.useTheme)(),s=(0,r.useState)(!0),d=s[0],m=s[1],f=(0,r.useState)(null),p=f[0],h=f[1],v=(0,r.useState)(null),y=v[0],g=v[1],E=(0,r.useCallback)((function(){return kt(void 0,void 0,void 0,(function(){var e,n;return xt(this,(function(r){switch(r.label){case 0:m(!0),h(null),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,V(t.id)];case 2:return e=r.sent(),g(e),[3,5];case 3:return n=r.sent(),h(n),g(null),[3,5];case 4:return m(!1),[7];case 5:return[2]}}))}))}),[t]),C=(0,r.useCallback)((function(){return kt(void 0,void 0,void 0,(function(){return xt(this,(function(e){switch(e.label){case 0:return d?[2]:[4,E()];case 1:return e.sent(),[2]}}))}))}),[d,E]);return(0,r.useEffect)((function(){E()}),[E]),(0,r.useEffect)((function(){yt({groupId:t.id,exposureType:"groupAnnouncementsConfigSection",context:b.ConfigureGroup})}),[t.id]),d?a().createElement(l.Loading,null):p?a().createElement(Be,{title:o("Heading.CommunityDialogError"),message:o("Description.CommunityDialogError")}):y?a().createElement(l.SystemFeedbackProvider,null,a().createElement("div",{className:"group-announcements-one-link-notice"},a().createElement("span",{className:"group-announcements-one-link-notice-icon icon-warning"}),a().createElement("div",{className:"group-announcements-one-link-notice-content"},a().createElement("h5",{className:"group-announcements-one-link-notice-title"},o("Description.AnnouncementsOnlyOneLinkedServerAlert")))),a().createElement("div",{className:"section configure-group-guilded"},a().createElement("div",{className:"container-header"},a().createElement("h2",null,o("Heading.Announcements"))),a().createElement("div",{className:"section-content"},a().createElement(We,{communityInfo:y,refetchCommunityInfo:C,groupId:t.id})),a().createElement("div",{className:"container-header"},a().createElement("h2",null,o("Heading.Community"))),a().createElement(Ct,{communityInfo:y,groupId:t.id}),n&&a().createElement(It,{communityInfo:y,groupId:t.id}))):a().createElement(i.UIThemeProvider,{theme:u,cssBaselineMode:"disabled"},a().createElement("div",{className:"group-announcements-one-link-notice"},a().createElement("span",{className:"group-announcements-one-link-notice-icon icon-warning"}),a().createElement("div",{className:"group-announcements-one-link-notice-content"},a().createElement("h5",{className:"group-announcements-one-link-notice-title"},o("Description.AnnouncementsOnlyOneLinkedServerAlert")))),a().createElement("div",{className:"section configure-group-guilded"},a().createElement("div",{className:"container-header"},a().createElement("h2",null,o("Heading.Announcements"))),a().createElement("div",{className:"section-content"},a().createElement("div",{className:"group-announcements-config-section-upsell"},a().createElement("div",{className:"group-announcements-config-section-upsell-icon"}),a().createElement(ht,{refetchCommunityInfo:C,group:t,className:"group-announcements-config-section-upsell-body",eventContext:b.ConfigureGroup})))))}),D),St=TanstackQuery,Tt=ReactRouterDOM;function At(t){var n=e.CurrentUser.isAuthenticated&&e.CurrentUser.userId;return"Roblox.GroupAnnouncements.NotificationUpsellBanner:".concat(n||"",":").concat(t)}function Dt(e){var t=At(e);oe.localStorageService.setLocalStorage(t,!0)}var Lt=RobloxBadges,jt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Ot=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},zt=function(e){return jt(void 0,void 0,Promise,(function(){var t,n,r;return Ot(this,(function(a){switch(a.label){case 0:return t=F.urls.getUsersInfoURL,n={userIds:[e]},r={url:t,withCredentials:!1},[4,j.httpService.post(r,n)];case 1:return[2,a.sent().data.data]}}))}))},Ut=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Pt=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Rt=(0,c.withTranslations)((function(t){var n=t.announcement,o=t.intl,i=(0,r.useState)(!0),c=i[0],u=i[1],s=(0,r.useState)(null),d=s[0],m=s[1],f=(0,r.useCallback)((function(){return Ut(void 0,void 0,void 0,(function(){var e;return Pt(this,(function(t){switch(t.label){case 0:u(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,zt(n.createdBy)];case 2:return(e=t.sent()).length&&m(e[0]),[3,5];case 3:return t.sent(),m(null),[3,5];case 4:return u(!1),[7];case 5:return[2]}}))}))}),[n.createdBy]);return(0,r.useEffect)((function(){f()}),[f]),c||!d?null:a().createElement("div",{className:"user-card"},a().createElement(l.Link,{className:"avatar-card-link",url:e.Endpoints.getAbsoluteUrl("/users/".concat(d.id,"/profile"))},a().createElement(De.Thumbnail2d,{type:De.ThumbnailTypes.avatarHeadshot,size:De.ThumbnailAvatarHeadshotSize.size48,targetId:d.id,containerClass:"user-card-avatar avatar-headshot-sm",altName:d.name})),a().createElement("div",{className:"user-card-body"},a().createElement("div",{className:"user-card-body-name-container"},a().createElement(l.Link,{url:e.Endpoints.getAbsoluteUrl("/users/".concat(d.id,"/profile")),className:"text-label-medium content-emphasis"},d.displayName),d.hasVerifiedBadge&&a().createElement("span",{className:"user-card-body-name-container-badge"},a().createElement(Lt.VerifiedBadgeIconContainer,{size:Lt.BadgeSizes.SUBHEADER}))),a().createElement("span",{className:"block text-caption-medium content-muted"},o.getDateTimeFormatter().getFullDate(n.createdAt))))}),D),Gt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Bt=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Ft=function(t){var n=t.initialCount,o=t.userHasInteracted,l=t.announcementId,c=t.groupId,u=t.showReactionCount,s=(0,r.useState)(n),d=s[0],m=s[1],f=(0,r.useState)(o),p=f[0],h=f[1],v=(0,r.useState)(u)[0],y=(0,r.useState)(p),g=y[0],E=y[1],C=(0,r.useState)(null),w=C[0],N=C[1],I=(0,r.useCallback)((function(){var e=!g;if(E(e),m((function(t){return t+(e?1:-1)})),w&&(clearTimeout(w),N(null)),e!==p){var t=setTimeout((function(){return Gt(void 0,void 0,void 0,(function(){return Bt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),[4,e?ne({announcementId:l,groupId:c}):re({announcementId:l,groupId:c})];case 1:return t.sent(),bt({groupId:c,clickTargetType:e?"shoutReactionAdded":"shoutReactionRemoved",clickTargetId:l,context:b.GroupHomepage}),h(e),[3,4];case 2:return t.sent(),m((function(t){return t+(e?-1:1)})),E(p),[3,4];case 3:return N(null),[7];case 4:return[2]}}))}))}),1e3);N(t)}}),[l,c,p,g,w]),k=e.CurrentUser.isAuthenticated,x=g?i.ThumbUpIcon:i.ThumbUpOutlinedIcon;return a().createElement("div",{className:se()("reaction-button",k&&"interactable"),onClick:k?I:void 0,onKeyDown:k?function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),I())}:void 0,role:"button",tabIndex:0,"aria-pressed":g},a().createElement(x,{fontSize:"small"}),v&&a().createElement("span",{className:"reaction-button-count"},j.abbreviateNumber.getAbbreviatedValue(d,void 0,1e3)))},Qt=RobloxItemPurchase,Ht=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Vt=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Yt=function(e,t){return Ht(void 0,void 0,Promise,(function(){var n;return Vt(this,(function(r){switch(r.label){case 0:return n={url:F.urls.getCatalogItemDetailsUrl(e,t),withCredentials:!0},[4,j.httpService.get(n)];case 1:return[2,r.sent().data]}}))}))},_t=function(){return _t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_t.apply(this,arguments)},Wt=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Kt=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Zt=(0,Qt.createItemPurchase)(),Xt=Zt[0],Jt=Zt[1],qt=(0,c.withTranslations)((function(t){var n,o,i,c,u,s,d,m=t.id,f=t.groupId,p=t.translate,h=(0,r.useState)(!1),v=h[0],y=h[1],g=(0,r.useState)(null),E=g[0],C=g[1],w=(0,r.useCallback)((function(){return Wt(void 0,void 0,void 0,(function(){var t,n;return Kt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,e.ItemDetailsHydrationService.getItemDetails([{id:m,itemType:"asset"}],!1,!0)];case 1:return t=r.sent(),C(t[0]),[4,Yt("asset",m)];case 2:return n=r.sent(),y(n.owned),[3,4];case 3:return r.sent(),C(null),[3,4];case 4:return[2]}}))}))}),[m]);if((0,r.useEffect)((function(){w()}),[m,w]),!E)return null;var N=a().createElement(De.Thumbnail2d,{targetId:E.id,type:De.ThumbnailTypes.assetThumbnail,size:De.DefaultThumbnailSize}),I=(null===(n=E.collectibleItemDetails)||void 0===n?void 0:n.purchaseInfo)||E.purchaseInfo,k={translate:p,productId:E.productId,expectedCurrency:1,expectedPrice:(null==I?void 0:I.purchasePrice)||0,thumbnail:N,assetName:E.name,assetType:E.itemType,expectedSellerId:E.creatorTargetId,sellerName:E.creatorName,sellerType:E.creatorType,collectibleItemId:E.collectibleItemId,collectibleProductId:(null==I?void 0:I.purchaseFromReseller)?null===(o=E.collectibleItemDetails)||void 0===o?void 0:o.lowestAvailableResaleProductId:null===(i=E.collectibleItemDetails)||void 0===i?void 0:i.collectibleProductId,collectibleItemInstanceId:(null==I?void 0:I.purchaseFromReseller)?null===(c=E.collectibleItemDetails)||void 0===c?void 0:c.lowestAvailableResaleItemInstanceId:void 0,onPurchaseSuccess:function(){yt({groupId:f,exposureType:"marketplaceEmbedPurchaseSuccess",exposureId:E.id.toString(),context:b.GroupHomepage})}},x=e.CurrentUser.isAuthenticated&&(null==I?void 0:I.purchasable)&&(!(null==I?void 0:I.ownershipLimit)||!v);return a().createElement(a().Fragment,null,a().createElement("div",{className:"announcement-display-marketplace-embed",onClick:function(e){bt({groupId:f,clickTargetType:x?"marketplaceEmbedOpenModal":"marketplaceEmbedLink",clickTargetId:E.id.toString(),context:b.GroupHomepage}),x&&(e.preventDefault(),Jt.start())},role:"button",tabIndex:0},a().createElement(l.ItemCard,{id:E.id,name:E.name,type:E.itemType,creatorName:E.creatorName,creatorType:E.creatorType,creatorTargetId:E.creatorTargetId,price:(null===(u=E.collectibleItemDetails)||void 0===u?void 0:u.purchaseInfo.purchasePrice)||(null===(s=E.purchaseInfo)||void 0===s?void 0:s.purchasePrice),lowestPrice:E.lowestPrice,unitsAvailableForConsumption:E.unitsAvailableForConsumption,itemStatus:E.itemStatus,priceStatus:E.priceStatus,premiumPricing:null===(d=E.premiumPricing)||void 0===d?void 0:d.premiumPriceInRobux,itemRestrictions:E.itemRestrictions,thumbnail2d:N})),a().createElement(Xt,_t({},k)))}),D);var $t=function(e){var t=e.content,n=e.groupId,r=function(e){var t=new RegExp(F.embedUrlRegexes.catalogItem).exec(e);if(t)return parseInt(t[2],10)}(t);return r?a().createElement("div",{className:"announcement-display-embed-row"},a().createElement(qt,{id:r,groupId:n})):null},en={common:[],feature:"Feature.Groups"},tn={common:[],feature:"Feature.FileUploadComponent"},nn=function(){return null},rn=(0,c.withTranslations)((function(e){var t=e.translateKey,n=e.action,r=e.disabled,o=e.translate;return a().createElement("li",null,a().createElement(l.Button,{variant:l.Button.variants.secondary,onClick:r?nn:n,isDisabled:r},o(t)))}),en),an=(0,c.withTranslations)((function(t){var n=t.announcement,o=t.groupId,i=t.onDelete,c=t.onEdit,u=t.button,s=t.canCreateAnnouncements,d=(t.translate,(0,r.useCallback)((function(){c()}),[c])),m=(0,r.useCallback)((function(){i()}),[i]),f=(0,r.useCallback)((function(){var t=F.urls.reportAbuseRevamp({targetId:o.toString(),submitterId:e.CurrentUser.userId,abuseVector:"communtiygroupstatus",custom:{announcementId:n.id}});window.location.href=t}),[o,n]);return a().createElement(l.Popover,{id:"announcement-menu",button:u,trigger:"click",placement:"bottom"},a().createElement("ul",{className:"dropdown-menu",role:"menu"},s&&a().createElement(rn,{translateKey:"Action.EditAnnouncement",action:d}),s&&a().createElement(rn,{translateKey:"Action.DeleteAnnouncement",action:m}),a().createElement(rn,{translateKey:"Label.ReportAbuse",action:f})))}),D),on=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},ln=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},cn=(0,c.withTranslations)((function(t){var n=t.announcement,o=t.groupId,i=t.policies,c=t.onDeleted,u=t.canCreateAnnouncements,s=t.translate,d=n.title,m=n.content,f=n.imageURL,p=n.likeCount,h=n.userHasReactedToShout,v=n.areReactionCountsVisible,y=n.announcementId,g=n.imageAssetId,E=(0,r.useState)(!1),C=E[0],w=E[1],N=(0,r.useRef)(null),I=(0,Tt.useHistory)(),k=(0,l.useSystemFeedback)().systemFeedbackService;(0,r.useEffect)((function(){N.current&&N.current.offsetHeight>400&&w(!0)}),[]);var x=(0,r.useCallback)((function(){w(!C)}),[C]),M=(0,r.useCallback)((function(e){e&&e.preventDefault(),bt({groupId:o,clickTargetType:"announcementOptionsMenu",context:b.GroupHomepage})}),[o]),S=(0,r.useCallback)((function(){return on(void 0,void 0,void 0,(function(){return ln(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,te(n.id)];case 1:return e.sent(),k.success(s("Message.AnnouncementDeleteSuccess")),null==c||c(),[3,3];case 2:return e.sent(),k.warning(s("Message.AnnouncementDeleteFail")),[3,3];case 3:return[2]}}))}))}),[n,c,k,s]),T=(0,r.useCallback)((function(){I.push(F.routes.editAnnouncement,{announcement:n})}),[n,I]),D=(0,r.useMemo)((function(){if(void 0!==e.Linkify){var t=m.escapeHTML();return e.Linkify.String(t)}return""}),[m]);return a().createElement("div",{className:"announcement-display gap-large"},a().createElement("div",{className:"announcement-display-header flex justify-between"},a().createElement(Rt,{announcement:n}),a().createElement("div",{className:"announcement-display-context-menu"},a().createElement(an,{announcement:n,groupId:o,onDelete:S,onEdit:T,canCreateAnnouncements:u,button:a().createElement(A,{as:"button",icon:"icon-filled-three-dots-horizontal",variant:"Utility",size:"Medium",ariaLabel:s("Action.More"),onClick:M})}))),!!f&&!g&&a().createElement("div",{className:"announcement-display-image-aspect-ratio-wrapper"},a().createElement("img",{className:"announcement-display-image-aspect-ratio-wrapper-content",src:f,alt:""})),!!g&&a().createElement("div",{className:"announcement-display-thumbnail-aspect-ratio-wrapper"},a().createElement(De.Thumbnail2d,{containerClass:"announcement-thumbnail radius-medium",targetId:g,size:De.ThumbnailAssetsSize.width1440,format:De.ThumbnailFormat.png,type:De.ThumbnailTypes.assetThumbnail})),a().createElement("h2",{className:"text-heading-medium padding-none announcement-display-title"},d),a().createElement("div",{className:"announcement-display-body text-body-medium"},a().createElement("p",{className:se()("announcement-display-body-content",C&&"truncated"),ref:N,dangerouslySetInnerHTML:{__html:D}}),C&&a().createElement("button",{className:"announcement-display-show-more",type:"button",onClick:x},s("Action.ShowMore"))),i.displayMarketplaceEmbed&&a().createElement($t,{content:m,groupId:o}),a().createElement("div",{className:"announcement-display-reaction-row"},a().createElement(Ft,{initialCount:p,userHasInteracted:h,groupId:o,announcementId:y,showReactionCount:v})))}),D),un=n(2020),sn=n.n(un),dn=(0,c.withTranslations)((function(e){var t=e.communityInfo,n=e.translate;return a().createElement(fe,{href:F.urls.getViewAnnouncementChannelUrl(t.communityId,t.announcementChannelId),variant:l.Button.variants.control,label:n("Action.ViewAllAnnouncements"),iconURL:sn()})}),D),mn=function(){},fn=(0,c.withTranslations)((function(e){var t=e.communityInfo,n=e.groupName,r=e.translate;return a().createElement("div",{className:"section community-link-display"},a().createElement("div",{className:"container-header"},a().createElement("h2",null,r("Heading.CommunityTitle"))),a().createElement("a",{className:"group-section-content community-link-display-link",href:F.urls.getJoinCommunityUrl(t.communityId),target:"_blank",rel:"noreferrer"},a().createElement("div",{className:"flex flex-row justify-start grow-1"},a().createElement("div",{className:"community-link-display-link-icon-container"},a().createElement("div",{className:"community-link-display-link-icon"})),a().createElement("div",{className:"community-link-display-link-info-container"},a().createElement("div",null,a().createElement("h5",{className:"community-link-display-link-name text-label-large content-emphasis padding-bottom-medium"},t.name)),a().createElement("div",null,a().createElement("span",{className:"community-link-display-link-description text-body-medium content-default"},t.description||r("Description.CommunityDefault",{experienceName:n}))))),a().createElement(fe,{className:"community-link-display-link-visit-button",variant:l.Button.variants.control,label:r("Label.ViewButton"),onClick:mn,iconURL:sn()})))}),L),pn=function(e){var t=e.className,n=e.variant,r=e.onClick,o=n?"icon-close-".concat(n):"icon-close";return a().createElement(l.Button,{variant:l.Button.variants.secondary,size:l.Button.sizes.extraSmall,width:l.Button.widths.default,className:se()(t,"close"),onClick:r},a().createElement("span",{className:o}))};pn.defaultProps={className:void 0,variant:void 0};var hn,vn=pn,yn=(0,c.withTranslations)((function(e){var t=e.group,n=e.eventContext,o=e.onNotifyClicked,i=e.onDismiss,c=e.translate;return(0,r.useEffect)((function(){yt({groupId:t.id,exposureType:"notificationsUpsellBannerSeen",context:n})}),[t.id,n]),a().createElement("div",{className:"group-notifications-upsell-banner"},a().createElement("span",{className:"group-notifications-upsell-banner-icon icon-common-notification-bell"}),a().createElement("div",{className:"group-notifications-upsell-banner-content"},a().createElement("h3",{className:"group-notifications-upsell-banner-title text-label-large"},c("Heading.NotificationsUpsell")),a().createElement("div",{className:"group-notifications-upsell-banner-description text-body-medium"},c("Description.NotificationsUpsell",{groupName:t.name}))),a().createElement(l.Button,{variant:l.Button.variants.control,size:l.Button.sizes.small,width:l.Button.widths.default,className:"group-notifications-upsell-banner-notify",onClick:o},c("Action.NotifyMe")),a().createElement(vn,{className:"group-notifications-upsell-banner-close",onClick:i}))}),D),bn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},gn=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},En=function(e){return bn(void 0,void 0,Promise,(function(){var t,n;return gn(this,(function(r){switch(r.label){case 0:return t={url:F.urls.getGroupMembershipUrl(e),withCredentials:!0,retryable:!0},n={includeNotificationPreferences:!0},[4,j.httpService.get(t,n)];case 1:return[2,r.sent().data]}}))}))},Cn=function(e,t){return bn(void 0,void 0,Promise,(function(){var n,r;return gn(this,(function(a){switch(a.label){case 0:return n={url:F.urls.getGroupNotificationPreferenceUrl(e),withCredentials:!0,retryable:!0},r={notificationsEnabled:t},[4,j.httpService.patch(n,r)];case 1:return a.sent(),[2]}}))}))},wn=function(e){return["getLatestAnnouncement",e]},Nn=function(e){return["getGroupMembership",e]},In=function(e){return["getCommunityInfo",e]},kn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},xn=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Mn=(0,c.withTranslations)((function(t){var n,o,i,c,u,s=t.group,d=t.joinGroup,m=t.allowedToJoinGroup,p=t.policies,h=t.metadata,v=t.canCreateAnnouncements,y=t.onAnnouncementLoaded,g=t.translate,E=(0,l.useSystemFeedback)(),C=E.SystemFeedbackComponent,w=E.systemFeedbackService,N=(0,Tt.useHistory)(),I=(0,r.useState)((c=s.id,u=At(c),!!oe.localStorageService.getLocalStorage(u))),k=I[0],x=I[1],M=(0,r.useCallback)((function(){x(!0),Dt(s.id),bt({groupId:s.id,clickTargetType:"dismissNotificationUpsellBanner",context:b.GroupHomepage})}),[s.id]),S=(0,St.useQuery)({queryKey:In(s.id),queryFn:function(){return kn(void 0,void 0,void 0,(function(){return xn(this,(function(e){switch(e.label){case 0:return[4,V(s.id)];case 1:return[2,e.sent()]}}))}))}}),T=S.isLoading,A=S.data,D=(0,St.useQuery)({queryKey:wn(s.id),queryFn:function(){return kn(void 0,void 0,void 0,(function(){return xn(this,(function(e){switch(e.label){case 0:return[4,q(s.id)];case 1:return[2,e.sent()]}}))}))}}),L=D.isLoading,j=D.data,O=D.refetch;(0,r.useEffect)((function(){j&&(null==y||y())}),[j,y]);var z=(0,St.useQuery)({queryKey:Nn(s.id),queryFn:function(){return kn(void 0,void 0,void 0,(function(){return xn(this,(function(e){switch(e.label){case 0:return[4,En(s.id)];case 1:return[2,e.sent()]}}))}))}}).data,U=(0,r.useState)(null!==(n=null==z?void 0:z.isNotificationsEnabled)&&void 0!==n&&n),P=U[0],R=U[1],G=(0,r.useState)(0!==(null!==(i=null===(o=null==z?void 0:z.userRole)||void 0===o?void 0:o.role.rank)&&void 0!==i?i:0)),B=G[0],Q=G[1];(0,r.useEffect)((function(){var e,t,n;z&&(R(null!==(e=z.isNotificationsEnabled)&&void 0!==e&&e),Q(0!==(null!==(n=null===(t=z.userRole)||void 0===t?void 0:t.role.rank)&&void 0!==n?n:0)))}),[z]);var H=(0,r.useCallback)((function(e){return kn(void 0,void 0,void 0,(function(){var t;return xn(this,(function(n){switch(n.label){case 0:t=!P,n.label=1;case 1:if(n.trys.push([1,7,,8]),bt({groupId:s.id,clickTargetType:"toggleNotifications".concat(t?"On":"Off"),context:e}),Dt(s.id),x(!0),R(t),!t||B||!m||!s.publicEntryAllowed)return[3,5];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,d()];case 3:return n.sent(),Q(!0),[3,5];case 4:return n.sent(),R(!t),[2];case 5:return[4,Cn(s.id,t)];case 6:return n.sent(),[3,8];case 7:return n.sent(),R(!t),w.warning(g("Message.SubscribeToNotificationsError")),[3,8];case 8:return[2]}}))}))}),[s.id,P,B,s.publicEntryAllowed,d,m,g,w]),Y=(0,r.useCallback)((function(){return kn(void 0,void 0,void 0,(function(){return xn(this,(function(e){switch(e.label){case 0:return[4,H(f.NotificationBell)];case 1:return e.sent(),[2]}}))}))}),[H]),_=(0,r.useCallback)((function(){return kn(void 0,void 0,void 0,(function(){return xn(this,(function(e){switch(e.label){case 0:return[4,H(f.NotificationUpsell)];case 1:return e.sent(),[2]}}))}))}),[H]),W=(0,r.useCallback)((function(){v&&N.push(F.routes.createAnnouncement)}),[v,N]),K=(0,r.useMemo)((function(){return!!z&&((B||s.publicEntryAllowed&&m)&&!k&&!P&&h.canEnableGroupNotifications)}),[z,B,s.publicEntryAllowed,m,k,P,h.canEnableGroupNotifications]);return T||L?a().createElement(l.Loading,null):A||p.displayGroupAnnouncementPublishing?a().createElement("div",{className:"group-announcements-display"},a().createElement("div",{className:"container-header flex items-center justify-between"},a().createElement("h2",{className:"grow-1"},g("Heading.Announcements")),!!j&&h.canEnableGroupNotifications&&!v&&a().createElement(l.Tooltip,{id:"group-notifications-tooltip",placement:"left",content:g(P?"Action.TurnNotificationsOff":"Action.TurnNotificationsOn")},a().createElement("button",{type:"button",className:"group-announcements-notifications-icon",onClick:Y},a().createElement("span",{className:"icon-notifications-bell".concat(P?" followed":""),"aria-label":"notify"}))),v&&a().createElement("button",{type:"button",className:"btn-control-sm create-announcement-button",onClick:W},g("Action.Create"))),!!j&&a().createElement("div",{className:"group-section-content"},K&&a().createElement(yn,{group:s,onNotifyClicked:_,onDismiss:M,eventContext:b.GroupHomepage}),j&&a().createElement(cn,{groupId:s.id,announcement:j,policies:p,onDeleted:O,canCreateAnnouncements:v})),!L&&!j&&a().createElement("div",{className:"group-section-content-transparent text-center group-announcements-empty-state"},g("Label.NoAnnouncements")),A&&j&&e.CurrentUser.is13orOver&&!p.displayGroupAnnouncementPublishing&&a().createElement("div",{className:"group-section-content-transparent group-announcements-view-all-button"},a().createElement(dn,{communityInfo:A})),A&&A.visibility===ft.Public&&e.CurrentUser.is13orOver&&a().createElement(fn,{groupName:s.name,communityInfo:A}),a().createElement(C,null)):null}),D);!function(e){e.Submit="HotKey:Submit"}(hn||(hn={}));var Sn=(0,r.forwardRef)((function(e,t){var n=e.className,o=e.textAreaClassName,i=e.defaultValue,l=e.placeholder,c=e.maxLength,u=void 0===c?1e3:c,s=e.fieldName,d=e.showCharacterCount,m=void 0===d||d,f=e.autoResize,p=void 0!==f&&f,h=e.autoFocus,v=void 0!==h&&h,y=e.locked,b=void 0!==y&&y,g=e.maxTextFieldHeight,E=void 0===g?-1:g,C=e.validationError,w=e.onChange,N=e.onHotKey,I=(0,r.useState)(""),k=I[0],x=I[1],M=(0,r.useState)(!1),S=M[0],T=M[1],A=(0,r.useRef)(null),D=(0,r.useCallback)((function(e){T(!0),x(e),null==w||w(e)}),[w]);(0,r.useImperativeHandle)(t,(function(){return{clearText:function(){A.current&&(A.current.value=""),x(""),T(!1),D("")},setText:function(e){A.current&&(A.current.value=e),D(e)},focus:function(){var e;null===(e=A.current)||void 0===e||e.focus()}}}));var L=(0,r.useMemo)((function(){return u?"".concat(k.length,"/").concat(u):null}),[k,u]);(0,r.useEffect)((function(){!S&&i&&D(i)}),[i,S,D]),(0,r.useEffect)((function(){if(p&&A.current){A.current.style.height="";var e=A.current.scrollHeight+3;E>0&&e>E&&(e=E),A.current.style.height="".concat(e,"px")}}),[k,p,E]),(0,r.useEffect)((function(){var e,t,n,r;if(v){null===(e=A.current)||void 0===e||e.focus();var a=null!==(n=null===(t=A.current)||void 0===t?void 0:t.textLength)&&void 0!==n?n:0;null===(r=A.current)||void 0===r||r.setSelectionRange(a,a)}}),[v]);return a().createElement("div",{className:se()("editable-content-field-input",n)},a().createElement("textarea",{className:se()("input-field",o),name:s,placeholder:l,maxLength:u,onChange:function(e){return D(e.target.value)},disabled:b,onKeyPress:function(e){(function(e){return e.ctrlKey&&"Enter"===e.key})(e)&&(null==N||N(hn.Submit))},ref:A,defaultValue:i}),a().createElement("div",{className:"editable-content-field-input-metadata"},C&&a().createElement("p",{className:"text-error"},C),m&&L&&a().createElement("p",{className:"form-control-label small text"},L)))}));Sn.displayName="EditableContentFieldInput";var Tn=Sn,An=(0,c.withTranslations)((function(e){var t=e.headerText,n=e.containerClassName,r=e.onBack,o=e.translate;return a().createElement("div",{className:se()("groups-section-header",n)},a().createElement("button",{className:"groups-section-header-back icon-left",type:"button","aria-label":o("Action.Back"),onClick:r}),a().createElement("h2",{className:"groups-section-header-text"},t),a().createElement("div",{className:"groups-section-header-spacer"}))}),en),Dn=function(e){var t=e.message;return a().createElement("div",{className:"text-content-editor-error"},a().createElement("span",{className:"icon-warning"}),a().createElement("p",{className:"text-content-editor-error-message"},t))};Dn.displayName="TextContentEditorError";var Ln=Dn,jn=function(e){var t=e.placement,n=e.content,r=e.children,o=e.id,i=e.containerClassName;return e.enabled?a().createElement(l.Tooltip,{containerClassName:i,id:o,placement:t,content:n},r):a().createElement("div",{className:i},r)};jn.defaultProps={containerClassName:void 0};var On=jn,zn=function(e){var t=e.label,n=e.disabled,r=e.onClick,o=e.buttonId,i=void 0===o?"create-content-button":o,l=e.tooltipContent,c="".concat(i,"-tooltip");return a().createElement(On,{id:c,content:l,placement:"top",enabled:!!l,containerClassName:"groups-create-content-btn-tooltip-container"},a().createElement("button",{id:i,type:"button",className:"groups-create-content-btn btn-growth-md",onClick:r,disabled:n,"aria-describedby":l?c:void 0,"aria-label":t,tabIndex:n?-1:0},t))};zn.displayName="CreateContentButton";var Un=zn,Pn="app-bumper-container",Rn=function(){var e=(0,r.useState)((function(){return document.getElementsByClassName(Pn).length>0})),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=document.getElementsByClassName(Pn)[0];if(!e||!e.parentElement)return function(){return null};var t=new MutationObserver((function(r){r.forEach((function(r){"childList"===r.type&&r.removedNodes.length>0&&Array.from(r.removedNodes).some((function(t){return t===e}))&&(n(!1),t.disconnect())}))}));return t.observe(e.parentElement,{childList:!0}),function(){return t.disconnect()}}),[]),t},Gn=function(e){var t=e.fixed,n=e.children,o=e.footerContainerClass,i=void 0===o?"groups-page-footer":o,l=Rn();return(0,r.useEffect)((function(){var e;return t?(null===(e=document.getElementById("footer-container"))||void 0===e||e.classList.add(i),function(){var e;null===(e=document.getElementById("footer-container"))||void 0===e||e.classList.remove(i)}):function(){return null}}),[t,i]),a().createElement("div",{className:se()("groups-native-footer",t&&"groups-native-footer-fixed",t&&l&&"groups-native-footer-with-bumper")},n)};function Bn(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}Bn(".bg-common-backdrop{background-color:var(--color-common-backdrop)}:root{--alpha-color-shadow-subtle:rgba(0,0,0,.08)}.shadow-transient-high{box-shadow:var(--size-0) var(--size-50) var(--size-100) -.5px var(--alpha-color-shadow-subtle),var(--size-0) var(--size-250) var(--size-500) -.75px var(--alpha-color-shadow-subtle),var(--size-0) var(--size-400) var(--size-800) -1px var(--alpha-color-shadow-subtle),var(--size-0) var(--size-1200) var(--size-1400) -1.5px var(--alpha-color-shadow-subtle)}.shadow-transient-low{box-shadow:var(--size-0) var(--size-50) var(--size-100) -.5px var(--alpha-color-shadow-subtle),var(--size-0) var(--size-250) var(--size-500) -.75px var(--alpha-color-shadow-subtle)}.foundation-web-portal-zindex{z-index:1050}.fui-future-shadow-affixed-low{box-shadow:0 0 var(--size-100) 0 var(--fui-future-alpha-color-shadow-subtle),0 0 var(--size-500) 0 var(--fui-future-alpha-color-shadow-subtle)}@media (prefers-color-scheme:dark){:root{--alpha-color-shadow-subtle:rgba(4,4,8,.25);--fui-future-alpha-color-shadow-subtle:rgba(4,4,8,.25);--fui-future-alpha-color-system-progress:var(--dark-mode-system-contrast)}}.light-theme,:root{--alpha-color-shadow-subtle:rgba(0,0,0,.08);--fui-future-alpha-color-shadow-subtle:rgba(0,0,0,.08);--fui-future-alpha-color-system-progress:#335fff}.dark-theme{--alpha-color-shadow-subtle:rgba(4,4,8,.25);--fui-future-alpha-color-shadow-subtle:rgba(4,4,8,.25);--fui-future-alpha-color-system-progress:var(--dark-mode-system-contrast)}.system-theme{--alpha-color-shadow-subtle:rgba(0,0,0,.08);--fui-future-alpha-color-shadow-subtle:rgba(0,0,0,.08);--fui-future-alpha-color-system-progress:#335fff}@media (prefers-color-scheme:dark){.system-theme{--alpha-color-shadow-subtle:rgba(4,4,8,.25);--fui-future-alpha-color-shadow-subtle:rgba(4,4,8,.25);--fui-future-alpha-color-system-progress:var(--dark-mode-system-contrast)}:root .stroke-contrast-alpha{border-color:rgba(208,217,251,.4)}}:is(:root,.light-theme) .stroke-contrast-alpha{border-color:rgba(27,37,75,.5)}.dark-theme .stroke-contrast-alpha{border-color:rgba(208,217,251,.4)}.system-theme .stroke-contrast-alpha{border-color:rgba(27,37,75,.5)}@media (prefers-color-scheme:dark){.system-theme .stroke-contrast-alpha{border-color:rgba(208,217,251,.4)}}"),Bn("@keyframes progress-circle-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.foundation-web-progress-circle-indeterminate{animation:progress-circle-rotate 1.4s linear infinite;transform-origin:50% 50%}");var Fn={Small:{dimension:16,strokeWidth:2,textClass:"text-caption-small"},Medium:{dimension:32,strokeWidth:3,textClass:"text-caption-small",valueContainerSize:36},Large:{dimension:48,strokeWidth:4,textClass:"text-caption-medium",valueContainerSize:52}},Qn=a().forwardRef((function(e,t){var n=e.className,r=e.size,o=void 0===r?"Large":r,i=e.variant,l=void 0===i?"Determinate":i,c=e.value,d=void 0===c?0:c,m=e.showValue,f=void 0!==m&&m,p=e.ariaLabel,h=s(e,["className","size","variant","value","showValue","ariaLabel"]),v=Fn[o],y=v.dimension,b=v.strokeWidth,E=v.textClass,C=v.valueContainerSize,w=(y-b)/2,N=2*Math.PI*w,I=y/2,k=Math.min(100,Math.max(0,d)),x=N*(1-k/100),M=f&&void 0!==C?C:y,S="Determinate"===l;return a().createElement("div",u({ref:t,className:g("foundation-web-progress-circle inline-flex items-center justify-center",n),role:"progressbar","aria-label":p,"aria-valuemin":S?0:void 0,"aria-valuemax":S?100:void 0,"aria-valuenow":S?k:void 0,style:{width:M,height:M}},h),a().createElement("svg",{width:y,height:y,viewBox:"0 0 ".concat(y," ").concat(y),className:"relative"},a().createElement("circle",{cx:I,cy:I,r:w,fill:"none",strokeWidth:b,style:{stroke:"var(--color-shift-200)"}}),a().createElement("circle",{cx:I,cy:I,r:w,fill:"none",strokeWidth:b,strokeDasharray:S?N:"".concat(.75*N," ").concat(.25*N),strokeDashoffset:S?x:0,strokeLinecap:"round",className:g(!S&&"foundation-web-progress-circle-indeterminate"),style:S?{stroke:"var(--fui-future-alpha-color-system-progress)",transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"stroke-dashoffset 0.3s ease-out"}:{stroke:"var(--fui-future-alpha-color-system-progress)",transformOrigin:"50% 50%"}})),S&&f&&"Large"===o&&a().createElement("div",{className:g("absolute content-emphasis flex items-center justify-center",E),"aria-hidden":"true"},a().createElement("span",null,Math.round(k)),a().createElement("span",null,"%")))}));Qn.displayName="ProgressCircle";var Hn=function(){return Hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Hn.apply(this,arguments)},Vn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Yn=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},_n=function(e){var t=e.textClassNames,n=void 0===t?["text-body-large"]:t,r=e.className,o=e.text,i=Vn(e,["textClassNames","className","text"]);return a().createElement("div",{className:se()("inline-progress-loader-container",r)},a().createElement(Qn,Hn({},i)),o&&a().createElement("span",{className:se().apply(void 0,Yn(["inline-progress-loader-text"],n,!1))},o))};_n.displayName="InlineProgressLoader";var Wn=_n;function Kn(e,t,n,a){void 0===a&&(a=300);var o=(0,r.useState)(e),i=o[0],l=o[1];return(0,r.useEffect)((function(){var t=setTimeout((function(){l(e)}),a);return function(){clearTimeout(t)}}),[e,a]),(0,r.useMemo)((function(){if(e===i){var r=(null==t?void 0:t(i))||null;return r?n(r):void 0}}),[e,i,n,t])}var Zn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Xn=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Jn=function(e){var t,n=e.hasTitle,o=e.headerText,i=e.contentPlaceholder,c=e.submitText,u=e.submitDisabled,s=e.customControls,d=e.titleMaxLength,m=e.contentMaxLength,f=e.defaultTitle,p=e.defaultContent,h=e.titleLocked,v=e.errorKey,y=e.onSubmit,b=e.onBack,g=e.onChange,E=e.isLoading,C=e.SubmitButton,w=void 0===C?Un:C,N=e.titleLabel,I=e.contentLabel,k=e.childLabel,x=e.getContentValidationErrorKey,M=e.getTitleValidationErrorKey,S=e.children,T=e.showSubmitProgressIndicator,A=void 0!==T&&T,D=e.progressIndicatorText,L=void 0===D?"":D,j=e.countdown,O=e.translate,z=(0,r.useState)(null!=f?f:""),U=z[0],P=z[1],R=(0,r.useState)(null!=p?p:""),G=R[0],B=R[1],F=(0,r.useState)(!1),Q=F[0],H=F[1],V=Kn(G,x,O,500),Y=Kn(U,M,O,500),_=(0,r.useCallback)((function(){return Zn(void 0,void 0,void 0,(function(){return Xn(this,(function(e){switch(e.label){case 0:return H(!0),[4,y({title:U,content:G})];case 1:return e.sent(),H(!1),[2]}}))}))}),[U,G,y]),W=(0,r.useCallback)((function(e){P(e),null==g||g({title:e,content:G})}),[g,G]),K=(0,r.useCallback)((function(e){B(e),null==g||g({title:U,content:e})}),[g,U]),Z=(0,r.useMemo)((function(){return u||Q||E||!G||!!V||n&&(!U||!!Y)||!!j&&j.isActive}),[u,Q,E,G,V,n,U,Y,j]),X=(0,r.useMemo)((function(){return A&&Q}),[A,Q]);return a().createElement("div",{className:"text-content-editor"},a().createElement(An,{headerText:o,onBack:b}),!!s&&a().createElement("div",{className:"text-content-editor-controls"},s,a().createElement("hr",{className:"text-content-editor-divider"})),a().createElement("div",{className:"text-content-editor-body"},E?a().createElement(l.Loading,null):a().createElement(a().Fragment,null,n&&a().createElement(a().Fragment,null,N&&a().createElement("h5",{className:"text-content-editor-label"},N),a().createElement(Tn,{textAreaClassName:se()("text-content-editor-title",h&&"text-content-editor-title-locked","radius-medium stroke-standard content-emphasis placeholder:content-muted stroke-contrast-alpha"),fieldName:"title",defaultValue:f,placeholder:O("Label.Title"),maxLength:d,onChange:W,locked:h||Q,autoResize:!0,validationError:Y})),I&&a().createElement("h5",{className:"text-content-editor-label"},I),a().createElement(Tn,{className:"text-content-editor-content-container",textAreaClassName:"text-content-editor-content radius-medium stroke-standard content-emphasis placeholder:content-muted stroke-contrast-alpha",fieldName:"content",defaultValue:p,placeholder:null!=i?i:O("Label.WriteSomething"),maxLength:m,onChange:K,onHotKey:function(e){e!==hn.Submit||Z||_()},autoResize:!0,validationError:(null==j?void 0:j.isActive)?O("Error.RetryAfterSeconds",{seconds:null!==(t=null==j?void 0:j.remainingSeconds)&&void 0!==t?t:0}):V,locked:Q}),k&&a().createElement("h5",{className:"text-content-editor-label"},k),S)),a().createElement(Gn,null,v?a().createElement(Ln,{message:O(v)}):null,X&&a().createElement(Wn,{variant:"Indeterminate",size:"Small",text:"Your post is being processed and will complete soon",textClassNames:["text-body-medium"],ariaLabel:O("Label.Loading")}),a().createElement("div",{className:"groups-native-footer-container"},a().createElement(w,{label:c,onClick:_,disabled:Z}))),a().createElement("div",{className:"text-content-editor-footer-desktop"},a().createElement("div",{className:se()("text-content-editor-buttons-desktop","justify-start")},a().createElement(w,{label:c,onClick:_,disabled:Z}),a().createElement("button",{className:"text-content-editor-cancel btn-control-md",type:"button",onClick:b},O("Action.Cancel")),X&&a().createElement(Wn,{variant:"Indeterminate",size:"Medium",text:L,textClassNames:["text-body-large"],ariaLabel:O("Label.Loading")})),v?a().createElement(Ln,{message:O(v)}):null))};Jn.displayName="TextContentEditor";var qn=(0,c.withTranslations)(Jn,en);Bn("@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.foundation-web-loading-spinner{animation:rotation 1s linear infinite normal}");var $n,er=function(e){var t=e.width,n=e.height;return a().createElement("svg",{className:"foundation-web-loading-spinner",width:t,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M10 2.75C8.56609 2.75 7.16438 3.1752 5.97212 3.97185C4.77986 4.76849 3.85061 5.90078 3.30188 7.22554C2.75314 8.55031 2.60957 10.008 2.88931 11.4144C3.16905 12.8208 3.85955 14.1126 4.87348 15.1265C5.88741 16.1405 7.17924 16.831 8.5856 17.1107C9.99196 17.3904 11.4497 17.2469 12.7745 16.6981C14.0992 16.1494 15.2315 15.2201 16.0282 14.0279C16.8248 12.8356 17.25 11.4339 17.25 10C17.25 9.58579 17.5858 9.25 18 9.25C18.4142 9.25 18.75 9.58579 18.75 10C18.75 11.7306 18.2368 13.4223 17.2754 14.8612C16.3139 16.3002 14.9473 17.4217 13.3485 18.0839C11.7496 18.7462 9.9903 18.9195 8.29296 18.5819C6.59563 18.2443 5.03653 17.4109 3.81282 16.1872C2.58911 14.9635 1.75575 13.4044 1.41813 11.707C1.08051 10.0097 1.25379 8.25037 1.91606 6.65152C2.57832 5.05267 3.69983 3.6861 5.13876 2.72464C6.57769 1.76318 8.26942 1.25 10 1.25C10.4142 1.25 10.75 1.58579 10.75 2C10.75 2.41421 10.4142 2.75 10 2.75Z"}))},tr={Large:24,Medium:20,Small:16,XSmall:12},nr={Large:["radius-medium","text-label-large","height-1200","padding-x-large"],Medium:["radius-medium","text-label-medium","height-1000","padding-x-medium"],Small:["radius-medium","text-label-small","height-800","padding-x-small"],XSmall:["radius-small","text-label-small","height-600","padding-x-small"]},rr={Emphasis:["bg-action-emphasis","content-action-emphasis"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-soft-emphasis","content-action-soft-emphasis"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-alert","content-action-alert"]},ar={Emphasis:["bg-action-standard","content-action-standard"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-standard","content-action-standard"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-standard","content-action-standard"]},or=(0,r.forwardRef)((function(e,t){var n=e.children,r=e.className,o=e.style,i=e.isDisabled,l=void 0!==i&&i,c=e.isLoading,d=void 0!==c&&c,m=e.size,f=void 0===m?"Large":m,p=e.variant,h=void 0===p?"Emphasis":p,v=s(e,["children","className","style","isDisabled","isLoading","size","variant"]),y=g("foundation-web-button",l?w:[E,"cursor-pointer"],"relative flex items-center justify-center stroke-none padding-y-none select-none",nr[f],l?ar[h]:rr[h],r),b=a().createElement(a().Fragment,null,a().createElement(C,null),d&&a().createElement("div",{"aria-hidden":"true",className:"absolute flex"},a().createElement(er,{width:tr[f],height:tr[f]})),a().createElement("span",{className:g("padding-y-xsmall text-truncate-end text-no-wrap",d&&"invisible")},n)),N=u({textDecoration:"none"},o);if("a"===v.as){v.as;var I=v.href,k=s(v,["as","href"]);return a().createElement("a",u({ref:t},k,{"aria-disabled":l,href:l?void 0:I,className:y,style:N}),b)}v.as;var x=s(v,["as"]);return a().createElement("button",u({ref:t,type:"button"},x,{disabled:l,className:y,style:N}),b)})),ir="copy";!function(e){e.FILE_TYPE="FILE_TYPE",e.FILE_SIZE="FILE_SIZE",e.CUSTOM="CUSTOM"}($n||($n={}));var lr="Message.InvalidFile",cr="Message.InvalidFileSize",ur=function(e){return e.type.toLowerCase().startsWith("image/")},sr=function(e,t){void 0===t&&(t={});var n=[],r=function(e,t){return t?function(e,t){var n=function(e){return e.split(",").map((function(e){return e.trim().toLowerCase()})).filter((function(e){return e.length>0}))}(t),r=e.type.toLowerCase(),a=e.name.toLowerCase();return n.some((function(e){if(e.startsWith("."))return a.endsWith(e);if(e.endsWith("/*")){var t=e.slice(0,-2);return r.startsWith(t)}return r===e}))}(e,t)?null:{type:$n.FILE_TYPE,messageKey:lr,file:e}:null}(e,t.accept);r&&n.push(r);var a=function(e,t){return t&&e.size>t?{type:$n.FILE_SIZE,messageKey:cr,messageMeta:{maxSize:t},file:e}:null}(e,t.maxFileSize);a&&n.push(a);var o=function(e,t){if(!t||0===t.length)return null;for(var n=0,r=t;n<r.length;n++){var a=(0,r[n])(e),o=a.messageKey,i=a.messageMeta;if(o)return{type:$n.CUSTOM,messageKey:o,messageMeta:i,file:e}}return null}(e,t.customValidators);return o&&n.push(o),n},dr=function(e,t){void 0===t&&(t={});var n=[];return(e instanceof FileList?Array.from(e):e).forEach((function(e){var r=sr(e,t);n.push.apply(n,r)})),n},mr=function(){return mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},mr.apply(this,arguments)},fr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},pr=function(e){var t,n,o=e.className,i=e.onChange,l=e.children,c=e.validation,u=e.onValidationError,s=e.blockOnValidationError,d=void 0!==s&&s,m=fr(e,["className","onChange","children","validation","onValidationError","blockOnValidationError"]),f=(0,r.useRef)(null),p=function(){f.current&&f.current.click()},h=(t=["Spacebar"," ","Enter"],function(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!1),function(a){t(a)&&(n&&a.preventDefault(),r&&a.stopPropagation(),e())}}(p,(function(e){return!!function(e){return"key"in e}(e)&&t.includes(e.key)}),!0,n)),v=function(e){var t=!0;if(c){var n=dr(e,c);n.length>0&&(u&&u(n),d&&(t=!1))}t&&i&&i(e)},y=se()(o,"file-upload-container","cursor-pointer","full-screen"),b=l?l(p,h,(function(e){e.preventDefault();var t=e.dataTransfer.files;v(t)}),(function(e){e.preventDefault(),e.dataTransfer.effectAllowed=ir})):null;return a().createElement("div",{className:y},b,a().createElement("input",mr({},m,{ref:f,type:"file",className:"file-upload-input hidden",onChange:function(e){var t=e.target;t.files&&v(t.files),t.value=""},accept:(null==c?void 0:c.accept)||void 0})))};pr.displayName="FileUpload";var hr=pr,vr=function(){var t=(0,r.useState)(!1),n=t[0],a=t[1];return(0,r.useEffect)((function(){e.DeviceMeta&&a((0,e.DeviceMeta)().isPhone)}),[]),{isPhone:n}},yr=function(e){var t=e.onChange,n=e.validation,o=e.onValidationError,i=e.blockOnValidationError,l=e.dragFileTextKey,c=void 0===l?"Label.DragFile":l,u=e.orTextKey,s=void 0===u?"Label.Or":u,d=e.selectFromComputerTextKey,m=void 0===d?"Label.SelectFromComputer":d,f=e.selectFromDeviceTextKey,p=void 0===f?"Label.SelectFromDevice":f,h=e.previewSrc,v=void 0===h?null:h,y=e.previewAssetId,b=void 0===y?null:y,g=e.fileName,E=void 0===g?null:g,C=e.translate,w=(0,r.useState)(v),N=w[0],I=w[1],k=(0,r.useState)(E),x=k[0],M=k[1],S=vr().isPhone;(0,r.useEffect)((function(){I(v)}),[v]),(0,r.useEffect)((function(){M(E)}),[E]);var T=(0,r.useMemo)((function(){return!(!b||N)}),[b,N]),A=N||v,D=x||E;return a().createElement(hr,{onChange:function(e){if(e&&e.length>0){var n=e[0];if(ur(n)){var r=new FileReader;r.onload=function(e){var t;I(null===(t=e.target)||void 0===t?void 0:t.result)},r.readAsDataURL(n)}M(n.name)}t&&t(e)},validation:n,onValidationError:o,blockOnValidationError:i},(function(e,t,n,r){return a().createElement("div",{className:"file-upload-content"},a().createElement("div",{className:se()("thumbnail-holder asset-thumb-container image-wrapper contain",(N||T)&&"has-image")},A&&!T&&a().createElement("img",{className:"image",src:A,alt:"Preview"}),T&&a().createElement("div",{className:"announcement-display-thumbnail-aspect-ratio-wrapper"},a().createElement("div",{className:"announcement-display-thumbnail-aspect-ratio-wrapper-content"},a().createElement(De.Thumbnail2d,{containerClass:"announcement-thumbnail radius-medium",targetId:null!=b?b:0,size:De.ThumbnailAssetsSize.width330,format:De.ThumbnailFormat.png,type:De.ThumbnailTypes.assetThumbnail}))),D&&a().createElement("div",{className:"preview-overlay"},a().createElement("div",{className:"font-caption-header preview-text text-overflow"},D))),a().createElement("div",{className:"dropzone",role:"button",tabIndex:0,onClick:e,onKeyDown:t,onDrop:n,onDragOver:r,onDragEnter:r,"aria-label":C(c)}),a().createElement("div",{className:"instruction-container"},!S&&a().createElement(a().Fragment,null,a().createElement("p",{className:"instruction-text"},C(c)),a().createElement("p",{className:"text-on-line"},"-"," ",a().createElement("span",null,C(s))," ","-")),a().createElement(or,{className:"file-btn",size:"Small",variant:"Standard",color:"secondary",onClick:e,onKeyDown:t,tabIndex:0},C(S?p:m))))}))};yr.displayName="FileUpload";var br=(0,c.withTranslations)(yr,tn),gr=function(e){void 0===e&&(e={});var t=(0,r.useCallback)((function(t){return dr(t,e)}),[e]),n=(0,r.useCallback)((function(t){return sr(t,e)}),[e]),a=(0,r.useCallback)((function(t){return function(e,t){return void 0===t&&(t={}),0===dr(e,t).length}(t,e)}),[e]);return(0,r.useMemo)((function(){return{validate:t,validateSingle:n,isValid:a,options:e}}),[t,n,a,e])},Er=function(){return Er=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Er.apply(this,arguments)},Cr=function(){return Cr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Cr.apply(this,arguments)},wr={files:[],errors:[]},Nr=function(e){void 0===e&&(e={});var t=e.validation,n=void 0===t?{}:t,a=e.preview,o=void 0===a?{}:a,i=e.autoValidate,l=void 0===i||i,c=e.autoPreview,u=void 0===c||c,s=e.onFilesSelected,d=e.onValidationComplete,m=(0,r.useState)(wr),f=m[0],p=m[1],h=gr(n),v=h.validate,y=h.isValid,b=function(e){void 0===e&&(e={});var t=e.enableImagePreview,n=void 0===t||t,a=(0,r.useState)([]),o=a[0],i=a[1],l=(0,r.useCallback)((function(e){var t=e.map((function(e){return{id:j.uuidService.generateRandomUuid(),file:e,previewUrl:null,isLoading:!0,error:null}}));i(t),n&&t.forEach((function(e){if(ur(e.file)){var t=new FileReader;t.onload=function(t){var n,r=null===(n=t.target)||void 0===n?void 0:n.result;"string"==typeof r&&i((function(t){return t.map((function(t){return t.id===e.id?Er(Er({},t),{previewUrl:r,isLoading:!1}):t}))}))},t.onerror=function(){i((function(t){return t.map((function(t){return t.id===e.id?Er(Er({},t),{error:"Failed to load preview",isLoading:!1}):t}))}))},t.readAsDataURL(e.file)}else i((function(t){return t.map((function(t){return t.id===e.id?Er(Er({},t),{isLoading:!1}):t}))}))}))}),[n]),c=(0,r.useCallback)((function(){o.forEach((function(e){e.previewUrl&&e.previewUrl.startsWith("blob:")&&URL.revokeObjectURL(e.previewUrl)})),i([])}),[o]),u=(0,r.useCallback)((function(e){i((function(t){var n=t.find((function(t){return t.id===e}));return(null==n?void 0:n.previewUrl)&&n.previewUrl.startsWith("blob:")&&URL.revokeObjectURL(n.previewUrl),t.filter((function(t){return t.id!==e}))}))}),[]);return(0,r.useEffect)((function(){return function(){o.forEach((function(e){e.previewUrl&&e.previewUrl.startsWith("blob:")&&URL.revokeObjectURL(e.previewUrl)}))}}),[o]),{previews:o,generatePreviews:l,clearPreviews:c,removePreview:u}}(o),g=b.previews,E=b.generatePreviews,C=b.clearPreviews,w=(0,r.useCallback)((function(e){var t=e instanceof FileList?Array.from(e):e;if(p((function(e){return Cr(Cr({},e),{files:t,errors:[]})})),s&&s(t),l){var n=v(t);p((function(e){return Cr(Cr({},e),{errors:n})})),d&&d(n)}u&&E(t)}),[v,l,u,s,d,E]),N=(0,r.useCallback)((function(){var e=f.files,t=v(e);return p((function(e){return Cr(Cr({},e),{errors:t})})),d&&d(t),t}),[f.files,v,d]),I=(0,r.useCallback)((function(){p(wr),C()}),[C]),k=(0,r.useCallback)((function(){I(),p(wr)}),[I]),x=(0,r.useMemo)((function(){return f.files.length>0}),[f.files.length]),M=(0,r.useMemo)((function(){return 0!==f.files.length&&y(f.files)}),[f.files,y]);return{state:f,selectFiles:w,validateFiles:N,clearFiles:I,reset:k,hasFiles:x,isValid:M,previews:g}},Ir=function(e,t,n,r,a,o){if(void 0===n&&(n=0),void 0===r&&(r=1/0),void 0===a&&(a=!0),void 0===o&&(o=!0),void 0!==e){var i=e;if(a&&(i=e.trim()),!(o&&(null==i||0===i.length)||i.length>=n&&i.length<=r))return t}},kr=function(e){return Ir(e,"Error.AnnouncementTitleValidationMinLength",F.validation.titleMinLength)},xr=function(e){return Ir(e,"Error.AnnouncementContentValidationMinLength",F.validation.contentMinLength)},Mr=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},Sr=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}},Tr="Error.AnnouncementModerated",Ar=function(e){var t,n=e.groupId,o=e.translate,i=(0,Tt.useHistory)(),c=(0,l.useSystemFeedback)().SystemFeedbackComponent,u=(0,Tt.useLocation)(),s=(0,St.useQueryClient)(),d=null===(t=u.state)||void 0===t?void 0:t.announcement,m=(0,r.useState)(null),f=m[0],p=m[1],h=!!d,v={accept:"image/png, image/jpeg, image/gif",maxFileSize:10485760,maxFiles:1},y=Nr({validation:v,preview:{enableImagePreview:!0,maxPreviewWidth:300,maxPreviewHeight:300,showMetadata:!0},autoValidate:!0,autoPreview:!0}),g=y.selectFiles,E=y.state,C=y.hasFiles,w=(0,St.useMutation)({mutationFn:function(e){return Mr(void 0,[e],void 0,(function(e){var t=e.title,r=e.content,a=e.file;return Sr(this,(function(e){switch(e.label){case 0:return bt({groupId:n,clickTargetType:h?"submitEditAnnouncement":"submitCreateAnnouncement",context:b.GroupHomepage}),h?[4,ee(d.id,t,r,a)]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,$(n,t,r,a)];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}}),N=(0,r.useCallback)((function(e){return Mr(void 0,[e],void 0,(function(e){var t,r,a=e.title,o=e.content;return Sr(this,(function(e){switch(e.label){case 0:t=C?E.files[0]:null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,w.mutateAsync({title:a,content:o,file:t})];case 2:return e.sent(),s.invalidateQueries(wn(n)),i.goBack(),[3,4];case 3:return r=e.sent(),p(r.status===j.httpResponseCodes.badRequest?Tr:"NetworkError"),[3,4];case 4:return[2]}}))}))}),[w,i,n,E.files,C,s]),I=(0,r.useCallback)((function(){i.goBack()}),[i]),k=(0,r.useCallback)((function(){f&&p(null)}),[f]);return a().createElement("div",{className:"announcement-composer"},a().createElement(qn,{hasTitle:!0,headerText:o(h?"Action.EditAnnouncement":"Action.CreateAnnouncement"),contentPlaceholder:o("Label.WriteSomething"),submitText:o("Action.Post"),titleLabel:o("Label.Title"),contentLabel:o("Label.Content"),childLabel:o("Label.Image"),submitDisabled:f===Tr,defaultTitle:(null==d?void 0:d.title)||"",titleMaxLength:F.validation.titleMaxLength,defaultContent:(null==d?void 0:d.content)||"",contentMaxLength:F.validation.contentMaxLength,titleLocked:h,errorKey:f,onSubmit:N,onChange:k,onBack:I,isLoading:!1,getTitleValidationErrorKey:kr,getContentValidationErrorKey:xr,showSubmitProgressIndicator:!0,progressIndicatorText:o("Label.AnnouncementProcessing")},a().createElement("div",{className:"announcement-composer-file-upload"},a().createElement(br,{dragFileTextKey:"Label.DragImage",onChange:g,previewAssetId:h?null==d?void 0:d.imageAssetId:null,validation:v,blockOnValidationError:!0}))),a().createElement(c,null))};Ar.displayName="AnnouncementComposer";var Dr=(0,c.withTranslations)(Ar,D),Lr=new St.QueryClient({defaultOptions:{queries:{retry:!1}}}),jr=(0,c.withTranslations)((function(e){var t=e.group,n=e.isOwner,r=e.joinGroup,o=e.allowedToJoinGroup,i=e.policies,c=e.metadata,u=e.canCreateAnnouncements,s=e.onAnnouncementLoaded,d=e.initialRouteConfig,m=void 0===d?{pathname:F.routes.base}:d;e.translate;return i.displayGroupAnnouncements?a().createElement("div",{className:"section group-announcements"},a().createElement(l.SystemFeedbackProvider,null,a().createElement(St.QueryClientProvider,{client:Lr},a().createElement(Tt.MemoryRouter,{initialEntries:[m],initialIndex:0},a().createElement(Tt.Switch,null,a().createElement(Tt.Route,{exact:!0,path:"/"},a().createElement(Mn,{group:t,isOwner:n,joinGroup:r,allowedToJoinGroup:o,policies:i,metadata:c,canCreateAnnouncements:u,onAnnouncementLoaded:s})),a().createElement(Tt.Route,{path:F.routes.createAnnouncement},a().createElement(Dr,{groupId:t.id})),a().createElement(Tt.Route,{path:F.routes.editAnnouncement},a().createElement(Dr,{groupId:t.id}))))))):null}),D),Or=function(){return Or=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Or.apply(this,arguments)},zr={renderGroupAnnouncementsConfigSection:function(e,t){(0,o.unmountComponentAtNode)(e),(0,o.render)(a().createElement(Mt,Or({},t)),e)},renderGroupAnnouncementsSection:function(e,t){(0,o.unmountComponentAtNode)(e),(0,o.render)(a().createElement(jr,Or({},t)),e)}};Object.assign(t(),{GroupAnnouncementsService:zr})}()}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/1a0485d969d2ddd76fef7948d4df083a-groupShouts.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GroupShouts");
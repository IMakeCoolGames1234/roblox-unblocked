!function(){var e={3422:function(e,t,n){var i={"./recommendationsComponent.js":81};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=3422},3543:function(e,t,n){var i={"./carouselForItemDetailsConstants.js":7700,"./carsouselForAvatarPageConstants.js":802,"./carsouselForInventoryConstants.js":760,"./experimentConstants.js":8457,"./itemListConstants.js":297,"./recommendationsConstants.js":3196};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=3543},611:function(e,t,n){var i={"./itemListController.js":8322,"./recommendationsController.js":3906};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=611},2908:function(e,t,n){var i={"./itemListDirective.js":8798};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=2908},8122:function(e,t,n){var i={"./creatorNameUtilities.js":740,"./experimentationService.js":8369,"./itemsListLayoutService.js":1443,"./itemsListService.js":6845,"./recommendationsService.js":4997};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=8122},935:function(e,t,n){var i={"./components/templates/recommendations.html":8560,"./directives/templates/itemList.html":2587};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=935},7525:function(e){function t(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function n(e){return e.split("/").pop().replace(".html","")}var i={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,i,r,a){return e.module(i,[]).run(["$templateCache",function(e){r&&r.keys().forEach((function(i){var a=t(n(i));e.put(a,r(i))})),a&&a.keys().forEach((function(i){var r=t(n(i));e.put(r,a(i).replace(/<\/?script[^>]*>/gi,""))}))}])}};e.exports=i},81:function(e,t,n){"use strict";n.r(t);var i={templateUrl:"recommendations",bindings:{recommendationTargetId:"<?",recommendationType:"<",recommendationSubtype:"<?",recommendationItemtypes:"<?",itemCreator:"<?",pageName:"@",showSeeAllButton:"<?"},controller:"recommendationsController"};n(8359).A.component("recommendations",i),t.default=i},7700:function(e,t,n){"use strict";n.r(t);var i={options:{breakpoints:{479:{perView:2.5},766:{perView:4.5},1023:{perView:6.5}}},breakpointWidth:[479,766,1023],glideControl:{defaultNumItemsToMove:6.5,currentNumSlidesToMove:6,currentPageNumber:0,startAt:0,disableLeftMove:!1,disableRightMove:!1}};n(8359).A.constant("carouselForItemDetails",i),t.default=i},802:function(e,t,n){"use strict";n.r(t);var i={options:{breakpoints:{479:{perView:4.5},766:{perView:4.5},1023:{perView:4.5}}},breakpointWidth:[479,766,1023],glideControl:{defaultNumItemsToMove:4.5,currentNumSlidesToMove:4,currentPageNumber:0,startAt:0,disableLeftMove:!1,disableRightMove:!1}};n(8359).A.constant("carouselForAvatarPage",i),t.default=i},760:function(e,t,n){"use strict";n.r(t);var i={options:{breakpoints:{479:{perView:2.5},766:{perView:4.5},1023:{perView:5.5}}},breakpointWidth:[479,766,1023],glideControl:{defaultNumItemsToMove:5.5,currentNumSlidesToMove:5,currentPageNumber:0,startAt:0,disableLeftMove:!1,disableRightMove:!1}};n(8359).A.constant("carouselForInventory",i),t.default=i},8457:function(e,t,n){"use strict";n.r(t);var i=n(7577),r=i.EnvironmentUrls.apiGatewayUrl,a={getExperimentationValues:function(e,t,n){return{url:"".concat(r,"/product-experimentation-platform/v1/projects/").concat(e,"/layers/").concat(t,"/values?parameters=").concat(n.join(",")),withCredentials:!0}}};t.default={url:a,parameterNames:{recommendationNumRows:["recommendationNumRows","recommendationPageName"],complimentaryItemRecommendationsEnabled:["complimentaryItemRecommendationsEnabled","displayPurchaseButtonLeft"],avatarMarketplaceRelevanceRecommendations:["recommendationNumRows"],avatarMarketplaceEditor:["recommendationNumRows"]},layerNames:{avatarShopPage:"AvatarMarketplace.UI",avatarShopRecommendationsAndSearchWeb:"AvatarMarketplace.RecommendationsAndSearch.Web",avatarMarketplaceRelevanceRecommendations:"AvatarMarketplace.RelevanceRecommendations",avatarMarketplaceEditor:"AvatarMarketplace.Editor"},defaultProjectId:1}},297:function(e,t,n){"use strict";n.r(t);var i=n(7577),r=n(8359),a={robloxId:1,assetTypes:{hat:8,hairAccessory:41,faceAccessory:42,neckAccessory:43,shoulderAccessory:44,frontAccessory:45,backAccessory:46,waistAccessory:47,gear:19},moreByCreatorVariation:1,endpoints:{getSearchItems:{url:"".concat(i.EnvironmentUrls.catalogApi,"/v1/search/items"),withCredentials:!0,retryable:!0},getItemDetails:{url:"".concat(i.EnvironmentUrls.catalogApi,"/v1/catalog/items/details"),withCredentials:!0,retryable:!0},enrollment:{url:"".concat(i.EnvironmentUrls.abtestingApiSite,"/v1/enrollments"),withCredentials:!0}},searchByCreatorParams:{creatorTargetId:null,createType:null,sortType:"Sales",limit:10},priceStatus:{free:"Free",noResellers:"NoResellers"},userTypes:{1:"User",2:"Group"},systemRobloxId:1,templateUrls:{itemList:"item-list"},itemTypes:{bundle:"Bundle",asset:"Asset"},itemRestrictionTypes:{thirteenPlus:"ThirteenPlus",limitedUnique:"LimitedUnique",limited:"Limited",rthro:"Rthro",dynamicHead:"Live",collectible:"Collectible"},itemRestrictionIcons:{thirteenPlus:"icon-thirteen-plus-label",limited:"icon-limited-label",limitedUnique:"icon-limited-unique-label",thirteenPlusLimited:"icon-thirteen-plus-limited-label",thirteenPlusLimitedUnique:"icon-thirteen-plus-limited-unique-label",rthroLabel:"icon-rthro-label",rthroLimitedLabel:"icon-rthro-limited-label",dynamicHead:"icon-default-dynamichead",collectible:"icon-limited-unique-label"}};r.A.constant("itemListConstants",a),t.default=a},3196:function(e,t,n){"use strict";n.r(t);var i={recommendationTypes:{asset:0,bundle:2},seeAllRecommendationLinks:{0:{64:"/catalog?Category=3&Subcategory=58",65:"/catalog?Category=3&Subcategory=59",68:"/catalog?Category=3&Subcategory=62",67:"/catalog?Category=3&Subcategory=61",66:"/catalog?Category=3&Subcategory=60",69:"/catalog?Category=3&Subcategory=63",72:"/catalog?Category=3&Subcategory=65",70:"/catalog?Category=3&Subcategory=64",71:"/catalog?Category=3&Subcategory=64",11:"/catalog?Category=3&Subcategory=56",12:"/catalog?Category=3&Subcategory=57",2:"/catalog?Category=3&Subcategory=55",8:"/catalog?Category=11&Subcategory=54",42:"/catalog?Category=11&Subcategory=21",43:"/catalog?Category=11&Subcategory=22",44:"/catalog?Category=11&Subcategory=23",45:"/catalog?Category=11&Subcategory=24",46:"/catalog?Category=11&Subcategory=25",47:"/catalog?Category=11&Subcategory=26",19:"/catalog?Category=11&Subcategory=5",41:"/catalog?Category=4&Subcategory=20",17:"/catalog?Category=4&Subcategory=15",18:"/catalog?Category=4&Subcategory=10",61:"/catalog?Category=12&Subcategory=39",55:"/catalog?Category=12&Subcategory=38",53:"/catalog?Category=12&Subcategory=38",50:"/catalog?Category=12&Subcategory=38",52:"/catalog?Category=12&Subcategory=38",54:"/catalog?Category=12&Subcategory=38",48:"/catalog?Category=12&Subcategory=38",51:"/catalog?Category=12&Subcategory=38"},2:{1:"/catalog?Category=17",4:"/catalog?Category=4&Subcategory=66"}},recommendationSubtypeOverrides:[{assetTypes:[70,71],subject:"user-inventory",newType:2,newSubtype:3}],shoeAssetTypes:[70,71],shoeBundleType:3,recommendationSubtypes:{gamePasses:21,badges:34},assetTypes:{places:9},urls:{catalog:"/catalog",catalogBundle:"/catalog?Category=17"},pageNames:{avatar:"Avatar",catalogItem:"CatalogItem",bundleDetails:"BundleDetail",inventory:"Inventory",favorites:"Favorites"},carouselSelector:"#recommendation-carousel-container",assetRootUrlTemplate:"catalog",bundleRootUrlTemplate:"bundles",complimentaryItemRecommendationsSupportedPages:["CatalogItem"],itemTypes:{asset:"assets",bundle:"bundles"}};n(8359).A.constant("recommendationsConstants",i),t.default=i},8322:function(e,t,n){"use strict";n.r(t);var i=n(8359);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n,i,o){e.getItemListAndDetails=function(){n.getItemList(e.itemCreator).then((function(t){t&&t.data&&(e.items=t.data.slice(0,7),n.getItemDetails(e.items).then((function(t){t&&t.data&&t.data.forEach((function(t){var n=t.id;e.items.some((function(e){e.id===n&&Object.assign(e,t)}))}))})))})).finally((function(){e.itemListLayout.isItemListDetailsLoaded=!0}))},e.isItemListDetailsAvailable=function(){return e.itemListLayout.isItemListDetailsLoaded&&e.items&&e.items.length>0},e.isItemListDetailsEmpty=function(){return e.itemListLayout.isItemListDetailsLoaded&&e.items&&0===e.items.length},e.initializeLayout=function(){e.itemListLayout=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o.itemListLayout);var t=e.itemCreator.Name;e.itemListLayout.heading=o.itemListHeading(t),e.itemListLayout.seeMoreLink=o.getSeeMoreLink(t,e.itemCreator.Type)},e.initializeLayout(),e.getItemListAndDetails()}o.$inject=["$scope","$log","itemsListService","itemListConstants","itemsListLayoutService"],i.A.controller("itemListController",o),t.default=o},3906:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var i=RobloxBadges,r=n(8359),a=n(8457);function o(e,t,n,r,o,s,c,l,m,d){var u=this,p={currentPageName:null,isMetaDataLoaded:!1};function g(){var e=u.recommendationTargetId,t=u.subject,i=u.pageName;n.complimentaryItemRecommendationsSupportedPages.includes(i)&&m.getABTestEnrollment(a.default.defaultProjectId,a.default.layerNames.avatarShopRecommendationsAndSearchWeb,a.default.parameterNames.complimentaryItemRecommendationsEnabled).then((function(i){void 0!==(null==i?void 0:i.complimentaryItemRecommendationsEnabled)&&null!==(null==i?void 0:i.complimentaryItemRecommendationsEnabled)&&(u.complimentaryItemRecommendations.enabled=null==i?void 0:i.complimentaryItemRecommendationsEnabled,u.complimentaryItemRecommendations.enabled&&(u.complimentaryItemRecommendations.targetId=e,u.complimentaryItemRecommendations.isBundle=t===n.itemTypes.bundle,u.complimentaryItemRecommendations.displayPurchaseButtonLeft=i.displayPurchaseButtonLeft,window.dispatchEvent(new CustomEvent("complimentary-items:render",{detail:{targetId:u.complimentaryItemRecommendations.targetId,isBundle:u.complimentaryItemRecommendations.isBundle,displayPurchaseButtonLeft:u.complimentaryItemRecommendations.displayPurchaseButtonLeft}}))))}),(function(){}))}u.recommendationNumRows=1,u.complimentaryItemRecommendations={enabled:!1,targetId:void 0,isBundle:!1},u.dismissPlaceholderForRecommendation=function(){e.isPlaceholderOff=!0,e.isRecommendationsLoaded=!0;try{(0,i.initRobloxBadgesFrameworkAgnostic)({overrideIconClass:"verified-badge-icon-item-recommendations"})}catch(e){}},u.showFrontendBasedResellersComponent=function(){return"BundleDetail"===u.pageName},u.isBundle=function(){return"BundleDetail"===u.pageName};var y=function(){var e=u.recommendationSubtype,i=u.recommendationType,o=u.recommendationItemtypes,c=u.pageName;t.overrideRecommendationTypes(o),t.isRecommendationAllowed(i,e)?p.currentPageName!==c?(u.absoluteCatalogUrl=s.getAbsoluteUrl(n.urls.catalog),u.recommendationTargetId||(u.recommendationTargetId=0),p.currentPageName=c,t.getRecommendationMetadata(c).then((function(e){Object.assign(u,e),t.getCatalogMetadata().then((function(e){p.isPremiumIconOnItemTilesEnabled=e.isPremiumIconOnItemTilesEnabled,p.isPremiumPriceOnItemTilesEnabled=e.isPremiumPriceOnItemTilesEnabled,p.isMetaDataLoaded=!0,g(),m.getABTestEnrollment(a.default.defaultProjectId,a.default.layerNames.avatarMarketplaceRelevanceRecommendations,a.default.parameterNames.avatarMarketplaceRelevanceRecommendations).then((function(e){}),(function(){})),u.numberOfItems&&m.getABTestEnrollment(a.default.defaultProjectId,a.default.layerNames.avatarShopPage,a.default.parameterNames.recommendationNumRows).then((function(e){void 0!==(null==e?void 0:e.recommendationPageName)&&null!==(null==e?void 0:e.recommendationPageName)&&void 0!==(null==e?void 0:e.recommendationNumRows)&&null!==(null==e?void 0:e.recommendationNumRows)&&e.recommendationPageName.length>0&&e.recommendationPageName.includes(c)&&(u.recommendationNumRows=e.recommendationNumRows)}),(function(){})).finally((function(){u.getItems()}))}),(function(){r.debug(" ------ getCatalogMetadata error -------"),u.dismissPlaceholderForRecommendation()}))}),(function(){r.debug(" ------ getRecommendationsMetadata error -------"),u.dismissPlaceholderForRecommendation()}))):p.isMetaDataLoaded&&u.numberOfItems&&u.getItems():u.clearItems(),u.dismissPlaceholderForRecommendation()};function f(e){return void 0!==e.premiumPrice&&null!==e.premiumPrice}u.clearItems=function(){u.items=[]},u.getItems=function(){u.items=[];var e=u.recommendationType,i=u.recommendationSubtype,a=u.recommendationTargetId,o=u.numberOfItems,s=u.subject,c=u.recommendationNumRows;n.recommendationSubtypeOverrides.forEach((function(t){t.assetTypes.includes(i)&&t.subject===s&&(i=t.newSubtype,e=t.newType)})),t.beginUpdateRecommendedItems(a,e,i,o*c,s).then((function(e){u.items=e}),(function(){r.debug(" ------ beginUpdateRecommendedItems error -------")})).finally((function(){u.dismissPlaceholderForRecommendation()}))},u.showVerifiedBadge=function(e){return e&&e.creatorHasVerifiedBadge},u.isNotExperienceOnlySaleLocationWithNoResellers=function(e){return"ExperiencesDevApiOnly"!==e.saleLocationType||e.hasResellers},u.getDisplayPrice=function(e){return p.isPremiumPriceOnItemTilesEnabled&&f(e)?e.premiumPrice:e.lowestPrice?e.lowestPrice:e.price},u.shouldShowPremiumIcon=function(e){return p.isPremiumIconOnItemTilesEnabled&&f(e)},u.getSeeAllLink=function(){var e=n.seeAllRecommendationLinks,t=u.recommendationType;return void 0===t&&(t=0),void 0!==e[t]&&void 0!==e[t][u.recommendationSubtype]?e[t][u.recommendationSubtype]:u.absoluteCatalogUrl};u.$onInit=function(){y(),u.isMoreByCreatorEnabled=u.itemCreator&&Object.prototype.hasOwnProperty.call(u.itemCreator,"Id"),d.itemCreator=u.itemCreator},d.$watch((function(){return{recommendationType:u.recommendationType,recommendationSubtype:u.recommendationSubtype}}),(function(e,t){("number"==typeof t.recommendationType&&e.recommendationType!==t.recommendationType||"number"==typeof t.recommendationSubtype&&e.recommendationSubtype!==t.recommendationSubtype)&&y()}),!0)}o.$inject=["$rootScope","recommendationsService","recommendationsConstants","$log","itemsListService","urlService","itemListConstants","itemsListLayoutService","experimentationService","$scope"],r.A.controller("recommendationsController",o);var s=o},8798:function(e,t,n){"use strict";n.r(t);var i=n(8359);function r(e){return{restrict:"A",scope:!0,templateUrl:e.templateUrls.itemList}}r.$inject=["itemListConstants"],i.A.directive("itemList",r),t.default=r},8359:function(e,t,n){"use strict";var i=n(127),r=n.n(i),a=n(7577),o=r().module("recommendations",["robloxApp","thumbnails","recommendationsAppTemplates","resellers"]).config(["languageResourceProvider",function(e){var t=(new a.TranslationResourceProvider).getTranslationResource("Feature.Recommendations");e.setTranslationResources([t])}]);t.A=o},740:function(e,t,n){"use strict";n.r(t);var i=n(7577),r=n(1260),a=n(8359);function o(e,t){return{mapItemRestrictionIcons:function(e){if(e&&e.itemRestrictions){var n=t.itemTypes,i=t.itemRestrictionTypes,r=t.itemRestrictionIcons;e.itemType===n.bundle?(e.isLimited=e.itemRestrictions.indexOf(i.limited)>-1,e.isCollectible=e.itemRestrictions.indexOf(i.collectible)>-1,e.isRthro=e.itemRestrictions.indexOf(i.rthro)>-1,e.isDynamicHead=e.itemRestrictions.indexOf(i.dynamicHead)>-1,e.isLimited?e.itemRestrictionIcon=e.isRthro?r.rthroLimitedLabel:r.rthroLabel:e.isDynamicHead?e.itemRestrictionIcon=r.dynamicHead:e.isCollectible&&(e.itemRestrictionIcon=r.collectible)):(e.isThirteenPlus=e.itemRestrictions.indexOf(i.thirteenPlus)>-1,e.isLimitedUnique=e.itemRestrictions.indexOf(i.limitedUnique)>-1,e.isLimited=e.itemRestrictions.indexOf(i.limited)>-1,e.isCollectible=e.itemRestrictions.indexOf(i.collectible)>-1,e.isDynamicHead=e.itemRestrictions.indexOf(i.dynamicHead)>-1,e.isLimitedUnique?e.itemRestrictionIcon=e.isThirteenPlus?r.thirteenPlusLimitedUnique:r.limitedUnique:e.isLimited?e.itemRestrictionIcon=e.isThirteenPlus?r.thirteenPlusLimited:r.limited:e.isThirteenPlus?e.itemRestrictionIcon=r.thirteenPlus:e.isDynamicHead?e.itemRestrictionIcon=r.dynamicHead:e.isCollectible&&(e.itemRestrictionIcon=r.collectible))}},getNameForDisplay:function(n){var a=t.userTypes,o=t.systemRobloxId,s=n.name,c=n.creatorType,l=n.creatorId;return a[1]===c&&o!==l&&i.DisplayNames.Enabled()?r.concatTexts.concat(["",e("escapeHtml")(s)]):e("escapeHtml")(s)}}}o.$inject=["$filter","itemListConstants"],a.A.factory("creatorNameUtilities",o),t.default=o},8369:function(e,t,n){"use strict";n.r(t);n(1260);var i=n(7577);n(8457);function r(){return{getABTestEnrollment:function(e,t,n){var r=i.ExperimentationService.getAllValuesForLayer(t);return r.then((function(){i.ExperimentationService.logLayerExposure(t)})),r}}}n(8359).A.factory("experimentationService",r),t.default=r},1443:function(e,t,n){"use strict";n.r(t);var i=n(7577),r=n(8359);function a(e,t,n){var r=n;return{itemListLayout:{seeMoreLabel:r.get("Action.SeeMore"),isItemListDetailsLoaded:!1},itemListHeading:function(e){return r.get("Heading.MoreByUsers",{username:e})},getSeeMoreLink:function(t,n){var r=e.userTypes[n];return i.Endpoints.getAbsoluteUrl("/catalog/?Category=13&CreatorName=".concat(t,"&CreatorType=").concat(r))}}}a.$inject=["itemListConstants","httpService","languageResource"],r.A.factory("itemsListLayoutService",a),t.default=a},6845:function(e,t,n){"use strict";n.r(t);var i=n(7577),r=(n(127),n(8359));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n,r){function s(t){return t&&t.data&&t.data.forEach((function(t){Object.assign(t,function(t){var a=t.id,o=t.name,s=t.price,c=t.creatorTargetId,l=t.creatorName,m=t.creatorType,d=t.productId,u=t.priceStatus;return{id:a,name:o,price:s,absoluteUrl:i.Endpoints.getAbsoluteUrl("/catalog/".concat(a,"/catalogname")),creator:{id:c,name:l,nameForDisplay:r("escapeHtml")(l),type:m,profileLink:i.Endpoints.getAbsoluteUrl("/users/".concat(c,"/profile"))},thumbnail:{type:n.thumbnailTypes.assetThumbnail},product:{id:d,noPriceText:u,isFree:u===e.priceStatus.free}}}(t))})),t}return{isMoreByCreatorAvailable:function(t,n){var r=Object.values(e.assetTypes);return i.CurrentUser.isAuthenticated&&r.indexOf(t)>-1&&n!==e.robloxId},enrollAbTesting:function(n){var r=[{SubjectType:"User",SubjectTargetId:i.CurrentUser.userId,ExperimentName:n}];return t.httpPost(e.endpoints.enrollment,r)},getItemList:function(n){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.searchByCreatorParams);return i.creatorTargetId=n.Id,i.createType=n.Type,t.httpGet(e.endpoints.getSearchItems,i)},getItemDetails:function(n){var i={items:n};return t.httpPost(e.endpoints.getItemDetails,i).then((function(e){return s(e)}))}}}s.$inject=["itemListConstants","httpService","thumbnailConstants","$filter"],r.A.factory("itemsListService",s),t.default=s},4997:function(e,t,n){"use strict";n.r(t);var i=n(7577),r=n(127),a=n.n(r),o=n(1260),s=n(8359);function c(e,t,n,r,s){var c=t.recommendationTypes;function l(e,t){return 3===t?"".concat(i.EnvironmentUrls.websiteUrl,"/library/").concat(e):null}function m(e,t,n){return"Group"===t?"".concat(i.EnvironmentUrls.websiteUrl,"/groups/").concat(e,"/").concat(o.seoName.formatSeoName(n)):"".concat(i.EnvironmentUrls.websiteUrl,"/users/").concat(e,"/profile")}function d(e){var a,o,s=e.creatorName,c={name:e.creatorName,type:e.creatorType,id:e.creatorTargetId},l={id:e.id,name:e.name,price:e.price,lowestPrice:e.lowestPrice,absoluteUrl:(o=e.id,"".concat(i.EnvironmentUrls.websiteUrl,"/bundles/").concat(o)),audioUrl:null,urlType:t.bundleRootUrlTemplate,creator:{id:e.creatorTargetId,name:s,nameForDisplay:r.getNameForDisplay(c),type:e.creatorType,profileLink:m(e.creatorTargetId,e.creatorType,e.creatorName)},thumbnail:{type:n.thumbnailTypes.bundleThumbnail},product:{id:null,isForSale:!(null!==(a=e.itemStatus)&&void 0!==a&&a.includes("Offsale")),isFree:0===e.price,noPriceText:null!==e.priceStatus?e.priceStatus:""},creatorHasVerifiedBadge:e.creatorHasVerifiedBadge,itemType:"Bundle",itemRestrictions:e.itemRestrictions};return r.mapItemRestrictionIcons(l),l}function u(e,t,n,i,r){return{assetTypeId:e,assetId:t,bundleId:n,numItems:i,bundleTypeId:r,details:!0}}function p(e){var a,o,s,c=e.creatorName,d=e.assetType,u={name:e.creatorName,type:e.creatorType,id:e.creatorTargetId},p=d===t.assetTypes.places?n.thumbnailTypes.placeGameIcon:n.thumbnailTypes.assetThumbnail,g={id:e.id,name:e.name,price:e.price,lowestPrice:e.lowestPrice,absoluteUrl:(o=e.id,s=e.name,"".concat(i.EnvironmentUrls.websiteUrl,"/catalog/").concat(o,"/").concat(s)),audioUrl:l(e.id,e.assetType),hasResellers:e.hasResellers,saleLocationType:e.saleLocationType,urlType:t.assetRootUrlTemplate,creator:{id:e.creatorTargetId,name:c,nameForDisplay:r.getNameForDisplay(u),type:e.creatorType,profileLink:m(e.creatorTargetId,e.creatorType,e.creatorName)},thumbnail:{type:p},product:{id:null,isForSale:!(null!==(a=e.itemStatus)&&void 0!==a&&a.includes("Offsale")),isFree:0===e.price,noPriceText:null!==e.priceStatus?e.priceStatus:""},creatorHasVerifiedBadge:e.creatorHasVerifiedBadge,itemType:"Asset",itemRestrictions:e.itemRestrictions};return r.mapItemRestrictionIcons(g),g}return{isRecommendationAllowed:function(e,n){return e===c.bundle||n>0&&n!==t.recommendationSubtypes.gamePasses&&n!==t.recommendationSubtypes.badges},beginUpdateRecommendedItems:function(t,n,r,a,o){var s;s=n===c.bundle?u(null,null,t,a,-1!==r?r:null):u(r,t,null,a);var l,m=(l=o,{url:"".concat(i.EnvironmentUrls.catalogApi,"/v2/recommendations/").concat(l)});return e.httpGet(m,s).then((function(e){var t;return e&&e.data?("Bundle"===(null===(t=e.data[0])||void 0===t?void 0:t.itemType)?2:1)===c.bundle?e.data.map(d):e.data.map(p):e}))},getCatalogMetadata:function(){return e.httpGet({url:"".concat(i.EnvironmentUrls.catalogApi,"/v1/catalog/metadata"),retryable:!0,withCredentials:!0})},getRecommendationMetadata:function(t){var n={page:t},r={url:"".concat(i.EnvironmentUrls.catalogApi,"/v1/recommendations/metadata")};return e.httpGet(r,n).then((function(e){var t=a().copy(e);if(e){var n=e.numOfRecommendationsDisplayed;t.numberOfItems=n}return t}))},overrideRecommendationTypes:function(e){if(!e)return!1;a().forEach(e,(function(e,t){c[t.toLowerCase()]=e}))}}}c.$inject=["httpService","recommendationsConstants","thumbnailConstants","creatorNameUtilities","$filter"],s.A.factory("recommendationsService",c),t.default=c},8560:function(e){e.exports='<div> <div ng-if="$ctrl.showFrontendBasedResellersComponent()"> <asset-resale-pane asset-id="$ctrl.recommendationTargetId" is-bundle="$ctrl.isBundle()"></asset-resale-pane> </div> <div id="complimentary-items-recommendations-container" data-target-id="{{$ctrl.complimentaryItemRecommendations.targetId}}" data-is-bundle="{{$ctrl.complimentaryItemRecommendations.isBundle}}"></div> <div class="complimentary-items-divider" ng-if="$ctrl.complimentaryItemRecommendations.enabled"></div> <div class="current-items" ng-show="$ctrl.items.length > 0" ng-cloak> <div class="container-list layer recommendations-container"> <div class="container-header recommendations-header"> <h2> <span ng-bind="\'Heading.RecommendedTitle\' | translate"></span> </h2> <a ng-if="$ctrl.showSeeAllButton" class="see-all-button see-all-link-icon btn-secondary-xs" ng-href="{{ $ctrl.getSeeAllLink() }}" ng-bind="\'Action.SeeAll\' | translate"></a> </div> <div class="recommended-items-slider"> <ul class="hlist item-cards recommended-items" ng-class="{\'item-cards-embed\' : $ctrl.numberOfItems < 7, \'single-row\' : $ctrl.recommendationNumRows <= 1}"> <li ng-repeat="item in $ctrl.items" class="list-item item-card recommended-item"> <div class="item-card-container recommended-item-link"> <a ng-href="{{ item.urlType | seoUrl:item.id:item.name}}" class="item-card-link"> <div class="item-card-thumb-container"> <thumbnail-2d class="item-card-thumb" thumbnail-type="item.thumbnail.type" thumbnail-target-id="item.id"> </thumbnail-2d> <span ng-show="item.itemRestrictionIcon" class="restriction-icon" ng-class="item.itemRestrictionIcon"></span> </div> <div class="item-card-name recommended-name" title="{{ item.name }}"> <span class="icon-premium-small" ng-if="$ctrl.shouldShowPremiumIcon(item)"> </span> <span ng-bind="item.name"></span> </div> </a> <div ng-if="item.audioUrl" class="MediaPlayerControls"> <div class="MediaPlayerIcon icon-play" data-mediathumb-url="{{item.audioUrl}}"></div> </div> <div class="recommended-creator-container"> <div ng-if="item.creator" class="text-overflow item-card-creator recommended-creator"> <span class="text-overflow" ng-bind-html="\'Label.ByCreatorLink\'| translate:{\r\n                                      linkStart: \'<a target=_self class=\\\'creator-name text-link\\\' href=\\\'\' + item.creator.profileLink + \'\\\'>\', linkEnd: \'</a>\', creator: item.creator.nameForDisplay }"> </span> </div> <span ng-if="$ctrl.showVerifiedBadge(item)" class="verified-badge-icon-item-recommendations" data-size="Title" data-overrideimgclass="verified-badge-icon-item-recommendations-rendered"> </span> </div> <div ng-if="$ctrl.getDisplayPrice(item) && item.lowestPrice && false" class="text-overflow item-card-label"> <span ng-bind="\'Label.Card.PriceWas\' | translate"></span> <span class="icon-robux-gray-16x16"></span> <span class="strike-through" ng-bind="$ctrl.getDisplayPrice(item) | number"></span> </div> <div class="text-overflow item-card-price"> <span class="icon-robux-16x16" ng-show="$ctrl.isNotExperienceOnlySaleLocationWithNoResellers(item) && ($ctrl.getDisplayPrice(item) || item.lowestPrice)"></span> <span class="text-robux-tile" ng-show="$ctrl.isNotExperienceOnlySaleLocationWithNoResellers(item) && ($ctrl.getDisplayPrice(item) && !item.lowestPrice)" ng-bind="$ctrl.getDisplayPrice(item) | abbreviate : 1"></span> <span class="text-robux-tile" ng-show="$ctrl.isNotExperienceOnlySaleLocationWithNoResellers(item) && item.lowestPrice" ng-bind="item.lowestPrice | abbreviate : 1"></span> <h4 class="text text-label" ng-hide="$ctrl.isNotExperienceOnlySaleLocationWithNoResellers(item) && ($ctrl.getDisplayPrice(item) || item.lowestPrice)"> <span class="text-overflow font-caption-body" ng-if="item.product.noPriceText.length > 0" ng-class="{\'text-robux-tile\': item.product.isFree}" ng-bind="item.product.noPriceText"></span> </h4> </div> </div> </li> </ul> </div> </div> </div> <div item-list class="item-list" ng-if="$ctrl.isMoreByCreatorEnabled"></div> </div> '},2587:function(e){e.exports='<div class="container-list layer item-list-container" ng-controller="itemListController" ng-hide="isItemListDetailsEmpty()"> <div class="container-header recommendations-header"> <h2> <span ng-bind="itemListLayout.heading"></span> </h2> <a class="btn-more see-all-link-icon btn-secondary-xs" ng-href="{{itemListLayout.seeMoreLink}}" ng-bind="\'Action.SeeMore\' | translate"></a> </div> <div class="recommended-items-slider"> <ul class="hlist item-cards recommended-items" ng-show="isItemListDetailsAvailable()"> <li ng-repeat="item in items" class="list-item item-card recommended-item"> <div class="item-card-container recommended-item-link"> <a ng-href="{{ item.absoluteUrl }}" class="item-card-link"> <thumbnail-2d class="item-card-thumb-container" thumbnail-type="item.thumbnail.type" thumbnail-target-id="item.id"> </thumbnail-2d> <div class="item-card-name recommended-name" title="{{ item.name }}"> {{ item.name }} </div> </a> <div ng-if="item.audioUrl" class="MediaPlayerControls"> <div class="MediaPlayerIcon icon-play" data-mediathumb-url="{{item.audioUrl}}"></div> </div> <div ng-if="item.creator" class="text-overflow item-card-creator recommended-creator"> <span ng-bind-html="\'Label.ByCreatorLink\'| translate:{\r\n                                      linkStart: \'<a target=_self class=\\\'creator-name text-link\\\' href=\\\'\' + item.creator.profileLink + \'\\\'>\', linkEnd: \'</a>\', creator: item.creator.nameForDisplay }"> </span> </div> <div class="text-overflow item-card-price"> <span class="icon-robux-16x16" ng-show="item.price"></span> <span class="text-robux-tile" ng-show="item.price">{{ item.price | abbreviate : 1 }}</span> <h4 class="text text-label" ng-hide="item.price"> <span class="text-overflow font-caption-body" ng-if="item.product.noPriceText.length > 0" ng-class="{\'text-robux-tile\': item.product.isFree}"> {{item.product.noPriceText}} </span> </h4> </div> </div> </li> </ul> <span class="spinner spinner-default" ng-hide="isItemListDetailsAvailable()"></span> </div> </div> '},1260:function(e){"use strict";e.exports=CoreUtilities},7577:function(e){"use strict";e.exports=Roblox},127:function(e){"use strict";e.exports=angular}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(127),t=n.n(e),i=n(7525),r=n(8359);(0,i.importFilesUnderPath)(n(3543)),(0,i.importFilesUnderPath)(n(8122)),(0,i.importFilesUnderPath)(n(2908)),(0,i.importFilesUnderPath)(n(611)),(0,i.importFilesUnderPath)(n(3422));var a=n(935),o=(0,i.templateCacheGenerator)(t(),"recommendationsAppTemplates",a);t().element((function(){t().bootstrap("#recommendations-container",[r.A.name,o.name])}))}()}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/7502d26cdeba7305d3e41d2b64391055-recommendations.bundle.min.js.map

!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=React,n=e.n(t),a=CoreUtilities,i=ReactDOM,s=ReactStyleGuide,r=HeaderScripts,c=ReactUtilities,o=RobloxItemPurchase,l=Roblox,u={itemTypeConstants:{asset:"asset",bundle:"bundle"},batchBuyPurchaseResults:{success:"Success",alreadyOwned:"AlreadyOwned",insufficientFunds:"InsufficientFunds",exceptionOccured:"ExceptionOccurred",tooManyPurchases:"TooManyPurchases"},limited:"Limited",numberOfItemsToRecommend:5,totalNumberOfRecommendations:140,complimentaryItemRecommendationsEventName:"complimentary-items:render",complimentaryItemElementName:"complimentary-items-recommendations-container"},d={assetRootUrlTemplate:"catalog",bundleRootUrlTemplate:"bundles",getRecommendations:{url:l.EnvironmentUrls.catalogApi+"/v2/recommendations/complement-assets",retryable:!0,withCredentials:!0},postItemDetails:{url:l.EnvironmentUrls.catalogApi+"/v1/catalog/items/details",retryable:!0,withCredentials:!0},getItemOwnershipUrl:function(e,t,n){return l.EnvironmentUrls.inventoryApi+"/v1/users/"+e+"/items/"+t+"/"+n+"/is-owned"}},m=function(e){var t={assetId:e,numItems:u.totalNumberOfRecommendations};return a.httpService.get(d.getRecommendations,t)},p=function(e,t,n){var i={url:d.getItemOwnershipUrl(e,t,n),retryable:!0,withCredentials:!0};return a.httpService.get(i)},f={common:[""],feature:"Feature.Catalog"},h=RobloxThumbnails,v=(0,c.withTranslations)((function(e){var t,a=e.item,i=e.selectedItems,r=e.disabledItemsRecord,c=e.onCheckClicked,o=e.translate,l=void 0===r[a.id]||!r[a.id].isOwned&&!r[a.id].noSellers;return n().createElement(n().Fragment,null,n().createElement("div",{className:"complimentary-item-recommendations-item-card"},l&&n().createElement("div",{className:"checkbox purchase-checkbox-container"},n().createElement("input",{className:"input-checkbox",id:"checkbox-"+a.id,type:"checkbox",checked:null==i?void 0:i.includes(a),onChange:function(){c(a.id)},disabled:!l}),n().createElement("label",{htmlFor:"checkbox-"+a.id})),n().createElement(s.ItemCard,{id:a.id,name:a.name,type:a.itemType,creatorName:a.creatorName,creatorType:a.creatorType,creatorTargetId:a.creatorTargetId,price:a.price,lowestPrice:a.lowestPrice,unitsAvailableForConsumption:a.unitsAvailableForConsumption,itemStatus:a.itemStatus,priceStatus:a.priceStatus,premiumPricing:null===(t=a.premiumPricing)||void 0===t?void 0:t.premiumPriceInRobux,itemRestrictions:a.itemRestrictions,thumbnail2d:n().createElement("div",null,n().createElement(h.Thumbnail2d,{type:s.ItemCardUtils.checkIfBundle(a.itemType)?h.ThumbnailTypes.bundleThumbnail:h.ThumbnailTypes.assetThumbnail,targetId:a.id,size:h.DefaultThumbnailSize}))}),r[a.id]&&r[a.id].isOwned&&n().createElement("div",{className:"item-owned"},n().createElement("span",{className:"item-owned-icon"}),n().createElement("span",{className:"item-owned-text"},o("Label.ItemOwned")))))}),f),b=a.numberFormat.getNumberFormat,y=function(e,t,n,a){return new(n||(n=Promise))((function(i,s){function r(e){try{o(a.next(e))}catch(e){s(e)}}function c(e){try{o(a.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}o((a=a.apply(e,t||[])).next())}))},w=function(e,t){var n,a,i,s,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=2&s[0]?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,a=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(i=r.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(6===s[0]&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e],a=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},E=(0,c.withTranslations)((function(e){var a=e.itemId,i=e.isBundle,s=e.displayPurchaseButtonLeft,c=e.systemFeedbackService,d=e.translate,f=(0,t.useState)(),h=f[0],E=f[1],I=(0,t.useState)(),g=I[0],O=I[1],T=(0,t.useState)(),C=T[0],S=T[1],x=(0,t.useState)(),P=x[0],R=x[1],N=(0,t.useState)(),k=N[0],B=N[1],F=(0,t.useState)({}),D=F[0],U=F[1],L=(0,t.useState)(),A=L[0],M=L[1],j=(0,t.useState)({}),H=j[0],z=j[1],G=(0,t.useState)(!1),_=G[0],W=G[1],q=u.itemTypeConstants,J=(0,t.useCallback)((function(e){return m(e)}),[]),K=(0,t.useCallback)((function(e){return l.ItemDetailsHydrationService.getItemDetails(e)}),[]),Q=(0,t.useCallback)((function(e,t,n){return y(void 0,void 0,void 0,(function(){var a;return w(this,(function(i){switch(i.label){case 0:return[4,p(e,t,n)];case 1:return a=i.sent(),[2,{response:a,itemTargetId:n}]}}))}))}),[]),V=(0,t.useCallback)((function(e){return void 0===e?0:r.authenticatedUser.isPremiumUser&&void 0!==e.premiumPricing&&e.premiumPricing.premiumPriceInRobux>=0?e.premiumPricing.premiumPriceInRobux:void 0!==e.lowestPrice&&e.lowestPrice>=0?e.lowestPrice:void 0===e.price?0:e.price}),[]),X=(0,t.useCallback)((function(){var e=0;!h||!(null==k?void 0:k.includes(h))||D[h.id]&&(D[h.id].isOwned||D[h.id].noSellers)||(e+=V(h)),void 0!==C&&C.forEach((function(t){!(null==k?void 0:k.includes(t))||D[t.id]&&(D[t.id].isOwned||D[t.id].noSellers)||(e+=V(t))})),M(e)}),[D,V,h,C,k]),Y=(0,t.useCallback)((function(e){return y(void 0,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return r.authenticatedUser.isAuthenticated?void 0!==H[e]?[2,{id:e,isOwned:H[e]}]:[4,Q(r.authenticatedUser.id,i?u.itemTypeConstants.bundle:u.itemTypeConstants.asset,e)]:[2,{id:e,isOwned:!1}];case 1:return t.sent().response.data?[2,{id:e,isOwned:!0}]:[2,{id:e,isOwned:!1}]}}))}))}),[]);var Z=(0,t.useCallback)((function(e){var t={};Object.assign(t,P),t[e]=!t[e];var n=[];!t[a]||!h||D[h.id]&&(D[h.id].isOwned||D[h.id].noSellers)||(V(h),n.push(h)),void 0!==C&&C.forEach((function(e){!t[e.id]||D[e.id]&&(D[e.id].isOwned||D[e.id].noSellers)||(V(e),n.push(e))})),R(t),B(n)}),[D,V,h,a,P,C]);(0,t.useEffect)((function(){J(a).then((function(e){(function(e){return y(this,void 0,void 0,(function(){var t,n,a,s,c,o,l,d,m;return w(this,(function(p){switch(p.label){case 0:t=u.numberOfItemsToRecommend,n=0,a=[],s=H,p.label=1;case 1:if(!(n<e.data.data.length&&a.length<t))return[3,7];c=n+t,o=e.data.data.slice(n,c),p.label=2;case 2:return p.trys.push([2,5,,6]),o.length>0?[4,Promise.all(o.map((function(e){return Q(r.authenticatedUser.id,i?u.itemTypeConstants.bundle:u.itemTypeConstants.asset,e)})))]:[3,4];case 3:p.sent().forEach((function(e){if(s[e.itemTargetId]=e.response.data,a.length<t&&!e.response.data){var n={id:e.itemTargetId,itemType:i?u.itemTypeConstants.bundle:u.itemTypeConstants.asset};a.push(n)}})),p.label=4;case 4:return n+=t,[3,6];case 5:return p.sent(),n=e.data.data.length,[3,6];case 6:return[3,1];case 7:if((l=t-a.length)>0)for(d=0;d<l;d++)m={id:e.data.data[d],itemType:i?u.itemTypeConstants.bundle:u.itemTypeConstants.asset},a.push(m);return z(s),O(a),[2]}}))}))})(e).catch((function(){W(!0)}))})).catch((function(){W(!0)}))}),[]),(0,t.useEffect)((function(){if(void 0!==g){var e=q.asset;i&&(e=q.bundle);var t=[],n=[],s={},r=0,c={id:a,itemType:e};g.forEach((function(e){t.push(e),n.push(),s[e.id]=r,r+=1})),t.push(c),n.push(),K(t).then((function(e){var t={},i=D,r=[];e.forEach((function(e){var c,o=s[e.id];V(e),t[e.id]=!0,e.id!==a?n[o]=e:(E(e),e),(null===(c=e.priceStatus)||void 0===c?void 0:c.includes("Off Sale"))&&void 0===e.lowestPrice?i&&void 0===i[e.id]?i[e.id]={noSellers:!0}:i[e.id].noSellers=!0:D[e.id]&&D[e.id].isOwned||r.push(e)})),B(r),U(i),R(t),S(n)})).catch((function(){console.warn("error")}))}}),[i,a,K,g]),(0,t.useEffect)((function(){if(h&&C){var e=[];e.push(h.id),C.forEach((function(t){e.push(t.id)})),function(e){return y(this,void 0,void 0,(function(){var t,n,a,i,s;return w(this,(function(r){switch(r.label){case 0:return t=H,[4,Promise.all(e.map((function(e){return Y(e)})))];case 1:return n=r.sent(),a=new Array,i=D,n.forEach((function(e){if(t[e.id]=e.isOwned,e.isOwned&&(h&&e.id===h.id&&(h.itemRestrictions.includes(u.limited)||(a.push(h),i&&void 0===i[e.id]?i[e.id]={isOwned:!0}:i[e.id].isOwned=!0)),void 0!==C)){var n=C.find((function(t){return t.id===e.id}));n&&!n.itemRestrictions.includes(u.limited)&&(a.push(n),i&&void 0===i[e.id]?i[e.id]={isOwned:!0}:i[e.id].isOwned=!0)}})),z(t),k&&(s=k,a.forEach((function(e){var t=s.indexOf(e);t>-1&&s.splice(t,1)})),B(s.slice())),U(i),[2]}}))}))}(e).catch((function(){W(!0)}))}}),[h,C]),(0,t.useEffect)((function(){h&&C&&X()}),[h,C,k,X]);var $=(0,t.useCallback)((function(e){var t=0,n=H,a=D,i=k;(e.forEach((function(e){if(h&&e.data.itemData.assetId===h.id)e.data.reason!==u.batchBuyPurchaseResults.success&&e.data.reason!==u.batchBuyPurchaseResults.alreadyOwned||(t+=1,h.itemRestrictions.includes(u.limited)||(a&&void 0===a[e.data.itemData.assetId]?a[e.data.itemData.assetId]={isOwned:!0}:a[e.data.itemData.assetId].isOwned=!0,n[e.data.itemData.assetId]=!0,i&&(s=i.indexOf(h))>-1&&i.splice(s,1)));else if(void 0!==C&&(e.data.reason===u.batchBuyPurchaseResults.success||e.data.reason===u.batchBuyPurchaseResults.alreadyOwned)){t+=1;var s,r=C.find((function(t){return t.id===e.data.itemData.assetId}));if(r&&!r.itemRestrictions.includes(u.limited))if(a&&void 0===a[e.data.itemData.assetId]?a[e.data.itemData.assetId]={isOwned:!0}:a[e.data.itemData.assetId].isOwned=!0,n[e.data.itemData.assetId]=!0,i)(s=i.indexOf(r))>-1&&i.splice(s,1)}})),i)&&B(i.slice());U(a),z(n),t===e.length&&window.location.reload()}),[D,h,H,C,k]);if(void 0===h||void 0===C||C.length<1||void 0===k||_)return n().createElement("div",null);var ee=new Map;return n().createElement(n().Fragment,null,n().createElement("div",{className:"complimentary-items-recommendations-container layer",id:"populated-complimentary-items-recommendations"},n().createElement("div",{className:"complimentary-items-carousel-title"},n().createElement("h1",{className:"font-header-1"},d("Heading.BuyItWith"))),n().createElement("div",{className:"complimentary-items-carousel"},n().createElement(v,{item:h,selectedItems:k,disabledItemsRecord:D,onCheckClicked:Z}),n().createElement("div",{className:"plus-icon-container"},n().createElement("span",{className:"plus-icon"})),C.map((function(e){return n().createElement(v,{item:e,selectedItems:k,disabledItemsRecord:D,onCheckClicked:Z})}))),s&&n().createElement("div",{className:"purchase-container"},n().createElement("span",{className:"purchase-element"},n().createElement(o.BatchBuyPriceContainer,{items:k,purchaseMetadata:ee,onTransactionComplete:$,systemFeedbackService:c})),n().createElement("span",{className:"purchase-element price-total"},n().createElement("div",{className:"text-robux-tile"},d("Label.Total"),n().createElement("span",{className:"icon-robux-16x16"}),n().createElement("span",{className:"text-robux-tile"},b(A||0))))),!s&&n().createElement("div",{className:"purchase-container-right"},n().createElement("span",{className:"purchase-element price-total"},n().createElement("div",{className:"text-robux-tile"},d("Label.Total"),n().createElement("span",{className:"icon-robux-16x16"}),n().createElement("span",{className:"text-robux-tile"},b(A||0)))),n().createElement("span",{className:"purchase-element"},n().createElement(o.BatchBuyPriceContainer,{items:k,purchaseMetadata:ee,onTransactionComplete:$,systemFeedbackService:c})))))}),f),I=function(e){var t=e.itemId,a=e.isBundle,i=e.displayPurchaseButtonLeft,r=(0,s.createSystemFeedback)(),c=r[0],o=r[1];return n().createElement(n().Fragment,null,n().createElement(E,{itemId:t,isBundle:a,displayPurchaseButtonLeft:i,systemFeedbackService:o}),n().createElement(c,null))};(0,a.ready)((function(){window.addEventListener(u.complimentaryItemRecommendationsEventName,(function(e){!function(e){var t=document.getElementById(u.complimentaryItemElementName);(0,i.render)(n().createElement(I,{itemId:e.targetId,isBundle:e.isBundle,displayPurchaseButtonLeft:e.displayPurchaseButtonLeft}),t)}(e.detail)}))}))}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/c75f45fc58647667f3b3ba1828d092bc-complimentaryItemRecommendations.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Recommendations");
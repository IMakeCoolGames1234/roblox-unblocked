/*! For license information please see gameCarousel.bundle.min.js.LICENSE.txt */
!function(){var e={4777:function(e){var t=.1,n="function"==typeof Float32Array;function r(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function i(e){return 3*e}function a(e,t,n){return((r(t,n)*e+o(t,n))*e+i(t))*e}function l(e,t,n){return 3*r(t,n)*e*e+2*o(t,n)*e+i(t)}function s(e){return e}e.exports=function(e,r,o,i){if(!(0<=e&&e<=1&&0<=o&&o<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===r&&o===i)return s;for(var u=n?new Float32Array(11):new Array(11),c=0;c<11;++c)u[c]=a(c*t,e,o);function d(n){for(var r=0,i=1;10!==i&&u[i]<=n;++i)r+=t;--i;var s=r+(n-u[i])/(u[i+1]-u[i])*t,c=l(s,e,o);return c>=.001?function(e,t,n,r){for(var o=0;o<4;++o){var i=l(t,n,r);if(0===i)return t;t-=(a(t,n,r)-e)/i}return t}(n,s,e,o):0===c?s:function(e,t,n,r,o){var i,l,s=0;do{(i=a(l=t+(n-t)/2,r,o)-e)>0?n=l:t=l}while(Math.abs(i)>1e-7&&++s<10);return l}(n,r,r+t,e,o)}return function(e){return 0===e?0:1===e?1:a(d(e),r,i)}}},1315:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(){for(var e=window.document,t=o(e);t;)t=o(e=t.ownerDocument);return e}(),t=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,i=null,a=null;this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(l(n,"resize",r,!0),l(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(i&&e.clearInterval(i),s(e,"resize",r,!0)),s(t,"scroll",r,!0),a&&a.disconnect()}));var u=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=u){var c=o(t);c&&this._monitorIntersections(c.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||e,i=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var i=o(n);if((n=i&&i.ownerDocument)==t)return!0}return!1}));if(!i){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=r){var l=o(t);l&&this._unmonitorIntersections(l.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,a=u(o),l=this._rootContainsTarget(o),s=r.entry,c=e&&l&&this._computeTargetAndRootIntersection(o,a,t),d=null;this._rootContainsTarget(o)?n&&!this.root||(d=t):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var f=r.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:d,intersectionRect:c});s?e&&l?this._hasCrossedThreshold(s,f)&&this._queuedEntries.push(f):s&&s.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,o,i){if("none"!=window.getComputedStyle(t).display){for(var a,l,s,c,f,m,v,h,g=o,y=p(t),b=!1;!b&&y;){var I=null,S=1==y.nodeType?window.getComputedStyle(y):{};if("none"==S.display)return null;if(y==this.root||9==y.nodeType)if(b=!0,y==this.root||y==e)n&&!this.root?!r||0==r.width&&0==r.height?(y=null,I=null,g=null):I=r:I=i;else{var C=p(y),w=C&&u(C),x=C&&this._computeTargetAndRootIntersection(C,w,i);w&&x?(y=C,I=d(w,x)):(y=null,g=null)}else{var P=y.ownerDocument;y!=P.body&&y!=P.documentElement&&"visible"!=S.overflow&&(I=u(y))}if(I&&(a=I,l=g,s=void 0,c=void 0,f=void 0,m=void 0,v=void 0,h=void 0,s=Math.max(a.top,l.top),c=Math.min(a.bottom,l.bottom),f=Math.max(a.left,l.left),m=Math.min(a.right,l.right),h=c-s,g=(v=m-f)>=0&&h>=0&&{top:s,bottom:c,left:f,right:m,width:v,height:h}||null),!g)break;y=y&&p(y)}return g}},a.prototype._getRootRect=function(){var t;if(this.root&&!m(this.root))t=u(this.root);else{var n=m(this.root)?this.root:e,r=n.documentElement,o=n.body;t={top:0,left:0,right:r.clientWidth||o.clientWidth,width:r.clientWidth||o.clientWidth,bottom:r.clientHeight||o.clientHeight,height:r.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||f(e,this.root)},a.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return f(n,t)&&(!this.root||n==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=i}function o(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=c(e.rootBounds),this.boundingClientRect=c(e.boundingClientRect),this.intersectionRect=c(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,r,o,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType&&9!=i.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function l(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function s(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detachEvent&&e.detachEvent("on"+t,n)}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function f(e,t){for(var n=t;n;){if(n==e)return!0;n=p(n)}return!1}function p(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?o(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function m(e){return e&&9===e.nodeType}}()},5199:function(e){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},8601:function(e,t,n){var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")(),d=Object.prototype.toString,f=Math.max,p=Math.min,m=function(){return c.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||a.test(e)?l(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,a,l,s,u=0,c=!1,d=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function b(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-u>=i}function I(){var e=m();if(b(e))return S(e);l=setTimeout(I,function(e){var n=t-(e-s);return d?p(n,i-(e-u)):n}(e))}function S(e){return l=void 0,g&&r?y(e):(r=o=void 0,a)}function C(){var e=m(),n=b(e);if(r=arguments,o=this,s=e,n){if(void 0===l)return function(e){return u=e,l=setTimeout(I,t),c?y(e):a}(s);if(d)return l=setTimeout(I,t),y(s)}return void 0===l&&(l=setTimeout(I,t)),a}return t=h(t)||0,v(n)&&(c=!!n.leading,i=(d="maxWait"in n)?f(h(n.maxWait)||0,t):i,g="trailing"in n?!!n.trailing:g),C.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=s=o=l=void 0},C.flush=function(){return void 0===l?a:S(m())},C}},8550:function(e,t,n){var r="Expected a function",o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),f=Object.prototype.toString,p=Math.max,m=Math.min,v=function(){return d.Date.now()};function h(e,t,n){var o,i,a,l,s,u,c=0,d=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=o,r=i;return o=i=void 0,c=t,l=e.apply(r,n)}function I(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=a}function S(){var e=v();if(I(e))return C(e);s=setTimeout(S,function(e){var n=t-(e-u);return f?m(n,a-(e-c)):n}(e))}function C(e){return s=void 0,h&&o?b(e):(o=i=void 0,l)}function w(){var e=v(),n=I(e);if(o=arguments,i=this,u=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(S,t),d?b(e):l}(u);if(f)return s=setTimeout(S,t),b(u)}return void 0===s&&(s=setTimeout(S,t)),l}return t=y(t)||0,g(n)&&(d=!!n.leading,a=(f="maxWait"in n)?p(y(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),w.cancel=function(){void 0!==s&&clearTimeout(s),c=0,o=u=i=s=void 0},w.flush=function(){return void 0===s?l:C(v())},w}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=a.test(e);return n||l.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),h(e,t,{leading:o,maxWait:t,trailing:i})}},6852:function(e,t,n){"use strict";var r=n(5199),o=Array.prototype.concat,i=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var l=e[n];r(l)?t=o.call(t,i.call(l)):t.push(l)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},7224:function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}for(var i=n(9481),a={},l=0,s=Object.keys(i);l<s.length;l++){var u=s[l];a[i[u]]=u}var c={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=c;for(var d=0,f=Object.keys(c);d<f.length;d++){var p=f[d];if(!("channels"in c[p]))throw new Error("missing channels property: "+p);if(!("labels"in c[p]))throw new Error("missing channel labels property: "+p);if(c[p].labels.length!==c[p].channels)throw new Error("channel and label counts mismatch: "+p);var m=c[p],v=m.channels,h=m.labels;delete c[p].channels,delete c[p].labels,Object.defineProperty(c[p],"channels",{value:v}),Object.defineProperty(c[p],"labels",{value:h})}c.rgb.hsl=function(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255,i=Math.min(n,r,o),a=Math.max(n,r,o),l=a-i;a===i?t=0:n===a?t=(r-o)/l:r===a?t=2+(o-n)/l:o===a&&(t=4+(n-r)/l),(t=Math.min(60*t,360))<0&&(t+=360);var s=(i+a)/2;return[t,100*(a===i?0:s<=.5?l/(a+i):l/(2-a-i)),100*s]},c.rgb.hsv=function(e){var t,n,r,o,i,a=e[0]/255,l=e[1]/255,s=e[2]/255,u=Math.max(a,l,s),c=u-Math.min(a,l,s),d=function(e){return(u-e)/6/c+.5};return 0===c?(o=0,i=0):(i=c/u,t=d(a),n=d(l),r=d(s),a===u?o=r-n:l===u?o=1/3+t-r:s===u&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*u]},c.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[c.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},c.rgb.cmyk=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.min(1-t,1-n,1-r);return[100*((1-t-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*o]},c.rgb.keyword=function(e){var t=a[e];if(t)return t;for(var n,r,o,l=1/0,s=0,u=Object.keys(i);s<u.length;s++){var c=u[s],d=i[c],f=(r=e,o=d,Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)+Math.pow(r[2]-o[2],2));f<l&&(l=f,n=c)}return n},c.keyword.rgb=function(e){return i[e]},c.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},c.rgb.lab=function(e){var t=c.rgb.xyz(e),n=t[0],r=t[1],o=t[2];return r/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},c.hsl.rgb=function(e){var t,n,r,o=e[0]/360,i=e[1]/100,a=e[2]/100;if(0===i)return[r=255*a,r,r];for(var l=2*a-(t=a<.5?a*(1+i):a+i-a*i),s=[0,0,0],u=0;u<3;u++)(n=o+1/3*-(u-1))<0&&n++,n>1&&n--,r=6*n<1?l+6*(t-l)*n:2*n<1?t:3*n<2?l+(t-l)*(2/3-n)*6:l,s[u]=255*r;return s},c.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,o=n,i=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,o*=i<=1?i:2-i,[t,100*(0===r?2*o/(i+o):2*n/(r+n)),100*((r+n)/2)]},c.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),l=255*r*(1-n*i),s=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,s,a];case 1:return[l,r,a];case 2:return[a,r,s];case 3:return[a,l,r];case 4:return[s,a,r];case 5:return[r,a,l]}},c.hsv.hsl=function(e){var t,n,r=e[0],o=e[1]/100,i=e[2]/100,a=Math.max(i,.01);n=(2-o)*i;var l=(2-o)*a;return t=o*a,[r,100*(t=(t/=l<=1?l:2-l)||0),100*(n/=2)]},c.hwb.rgb=function(e){var t,n=e[0]/360,r=e[1]/100,o=e[2]/100,i=r+o;i>1&&(r/=i,o/=i);var a=Math.floor(6*n),l=1-o;t=6*n-a,1&a&&(t=1-t);var s,u,c,d=r+t*(l-r);switch(a){default:case 6:case 0:s=l,u=d,c=r;break;case 1:s=d,u=l,c=r;break;case 2:s=r,u=l,c=d;break;case 3:s=r,u=d,c=l;break;case 4:s=d,u=r,c=l;break;case 5:s=l,u=r,c=d}return[255*s,255*u,255*c]},c.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},c.xyz.rgb=function(e){var t,n,r,o=e[0]/100,i=e[1]/100,a=e[2]/100;return n=-.9689*o+1.8758*i+.0415*a,r=.0557*o+-.204*i+1.057*a,t=(t=3.2406*o+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},c.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},c.lab.xyz=function(e){var t,n,r,o=e[0];t=e[1]/500+(n=(o+16)/116),r=n-e[2]/200;var i=Math.pow(n,3),a=Math.pow(t,3),l=Math.pow(r,3);return n=i>.008856?i:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=l>.008856?l:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},c.lab.lch=function(e){var t,n=e[0],r=e[1],o=e[2];return(t=360*Math.atan2(o,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+o*o),t]},c.lch.lab=function(e){var t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},c.rgb.ansi16=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=r(e,3),o=n[0],i=n[1],a=n[2],l=null===t?c.rgb.hsv(e)[2]:t;if(0===(l=Math.round(l/50)))return 30;var s=30+(Math.round(a/255)<<2|Math.round(i/255)<<1|Math.round(o/255));return 2===l&&(s+=60),s},c.hsv.ansi16=function(e){return c.rgb.ansi16(c.hsv.rgb(e),e[2])},c.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},c.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},c.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},c.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},c.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},c.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255,i=Math.max(Math.max(n,r),o),a=Math.min(Math.min(n,r),o),l=i-a;return t=l<=0?0:i===n?(r-o)/l%6:i===r?2+(o-n)/l:4+(n-r)/l,t/=6,[360*(t%=1),100*l,100*(l<1?a/(1-l):0)]},c.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n),o=0;return r<1&&(o=(n-.5*r)/(1-r)),[e[0],100*r,100*o]},c.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},c.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var o,i=[0,0,0],a=t%1*6,l=a%1,s=1-l;switch(Math.floor(a)){case 0:i[0]=1,i[1]=l,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=l;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=l,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return o=(1-n)*r,[255*(n*i[0]+o),255*(n*i[1]+o),255*(n*i[2]+o)]},c.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},c.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},c.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},c.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},c.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},c.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},c.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},c.gray.hsl=function(e){return[0,0,e[0]]},c.gray.hsv=c.gray.hsl,c.gray.hwb=function(e){return[0,100,e[0]]},c.gray.cmyk=function(e){return[0,0,0,e[0]]},c.gray.lab=function(e){return[e[0],0,0]},c.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},c.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},8041:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=n(7224),i=n(8056),a={};Object.keys(o).forEach((function(e){a[e]={},Object.defineProperty(a[e],"channels",{value:o[e].channels}),Object.defineProperty(a[e],"labels",{value:o[e].labels});var t=i(e);Object.keys(t).forEach((function(n){var o=t[n];a[e][n]=function(e){var t=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=n[0];if(null==i)return i;i.length>1&&(n=i);var a=e(n);if("object"===r(a))for(var l=a.length,s=0;s<l;s++)a[s]=Math.round(a[s]);return a};return"conversion"in e&&(t.conversion=e.conversion),t}(o),a[e][n].raw=function(e){var t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];return null==o?o:(o.length>1&&(n=o),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}(o)}))})),e.exports=a},8056:function(e,t,n){var r=n(7224);function o(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,o=0;o<n;o++)e[t[o]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var o=n.pop(),i=Object.keys(r[o]),a=i.length,l=0;l<a;l++){var s=i[l],u=t[s];-1===u.distance&&(u.distance=t[o].distance+1,u.parent=o,n.unshift(s))}return t}function i(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],o=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),o=i(r[t[a].parent][a],o),a=t[a].parent;return o.conversion=n,o}e.exports=function(e){for(var t=o(e),n={},r=Object.keys(t),i=r.length,l=0;l<i;l++){var s=r[l];null!==t[s].parent&&(n[s]=a(s,t))}return n}},9481:function(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},3519:function(e,t,n){var r=n(9481),o=n(6852),i=Object.hasOwnProperty,a=Object.create(null);for(var l in r)i.call(r,l)&&(a[r[l]]=l);var s=e.exports={to:{},get:{}};function u(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),n="hsl";break;case"hwb":t=s.get.hwb(e),n="hwb";break;default:t=s.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},s.get.rgb=function(e){if(!e)return null;var t,n,o,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=t[2],t=t[1],n=0;n<3;n++){var l=2*n;a[n]=parseInt(t.slice(l,l+2),16)}o&&(a[3]=parseInt(o,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(o=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);o&&(a[3]=parseInt(o+o,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:i.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=u(a[n],0,255);return a[3]=u(a[3],0,1),a},s.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var e=o(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},s.to.rgb=function(){var e=o(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(){var e=o(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},s.to.hsl=function(){var e=o(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(){var e=o(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(e){return a[e.slice(0,3)]}},7895:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}for(var u=n(3519),c=n(8041),d=["keyword","gray","hex"],f={},p=0,m=Object.keys(c);p<m.length;p++){var v=m[p];f[a(c[v].labels).sort().join("")]=v}var h={};function g(e,t){if(!(this instanceof g))return new g(e,t);if(t&&t in d&&(t=null),t&&!(t in c))throw new Error("Unknown model: "+t);var n,r;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof g)this.model=e.model,this.color=a(e.color),this.valpha=e.valpha;else if("string"==typeof e){var o=u.get(e);if(null===o)throw new Error("Unable to parse color from string: "+e);this.model=o.model,r=c[this.model].channels,this.color=o.value.slice(0,r),this.valpha="number"==typeof o.value[r]?o.value[r]:1}else if(e.length>0){this.model=t||"rgb",r=c[this.model].channels;var i=Array.prototype.slice.call(e,0,r);this.color=w(i,r),this.valpha="number"==typeof e[r]?e[r]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var l=Object.keys(e);"alpha"in e&&(l.splice(l.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var s=l.sort().join("");if(!(s in f))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=f[s];var p=c[this.model].labels,m=[];for(n=0;n<p.length;n++)m.push(e[p[n]]);this.color=w(m)}if(h[this.model])for(r=c[this.model].channels,n=0;n<r;n++){var v=h[this.model][n];v&&(this.color[n]=v(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}g.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in u.to?this:this.rgb(),n=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:[].concat(a(t.color),[this.valpha]);return u.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:[].concat(a(t.color),[this.valpha]);return u.to.rgb.percent(n)},array:function(){return 1===this.valpha?a(this.color):[].concat(a(this.color),[this.valpha])},object:function(){for(var e={},t=c[this.model].channels,n=c[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new g([].concat(a(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e))),[this.valpha]),this.model)},alpha:function(e){return void 0!==e?new g([].concat(a(this.color),[Math.max(0,Math.min(1,e))]),this.model):this.valpha},red:S("rgb",0,C(255)),green:S("rgb",1,C(255)),blue:S("rgb",2,C(255)),hue:S(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:S("hsl",1,C(100)),lightness:S("hsl",2,C(100)),saturationv:S("hsv",1,C(100)),value:S("hsv",2,C(100)),chroma:S("hcg",1,C(100)),gray:S("hcg",2,C(100)),white:S("hwb",1,C(100)),wblack:S("hwb",2,C(100)),cyan:S("cmyk",0,C(100)),magenta:S("cmyk",1,C(100)),yellow:S("cmyk",2,C(100)),black:S("cmyk",3,C(100)),x:S("xyz",0,C(95.047)),y:S("xyz",1,C(100)),z:S("xyz",2,C(108.833)),l:S("lab",0,C(100)),a:S("lab",1),b:S("lab",2),keyword:function(e){return void 0!==e?new g(e):c[this.model].keyword(this.color)},hex:function(e){return void 0!==e?new g(e):u.to.hex(this.rgb().round().color)},hexa:function(e){if(void 0!==e)return new g(e);var t=this.rgb().round().color,n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),u.to.hex(t)+n},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){var e,t=[],n=o(this.rgb().color.entries());try{for(n.s();!(e=n.n()).done;){var r=i(e.value,2),a=r[0],l=r[1]/255;t[a]=l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}}catch(e){n.e(e)}finally{n.f()}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return g.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+r(e));var n=e.rgb(),o=this.rgb(),i=void 0===t?.5:t,a=2*i-1,l=n.alpha()-o.alpha(),s=((a*l==-1?a:(a+l)/(1+a*l))+1)/2,u=1-s;return g.rgb(s*n.red()+u*o.red(),s*n.green()+u*o.green(),s*n.blue()+u*o.blue(),n.alpha()*i+o.alpha()*(1-i))}};for(var y=function(){var e=I[b];if(d.includes(e))return"continue";var t=c[e].channels;g.prototype[e]=function(){if(this.model===e)return new g(this);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.length>0?new g(n,e):new g([].concat(a((o=c[this.model][e].raw(this.color),Array.isArray(o)?o:[o])),[this.valpha]),e);var o},g[e]=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r[0];return"number"==typeof i&&(i=w(r,t)),new g(i,e)}},b=0,I=Object.keys(c);b<I.length;b++)y();function S(e,t,n){var r,i=o(e=Array.isArray(e)?e:[e]);try{for(i.s();!(r=i.n()).done;){var a=r.value;(h[a]||(h[a]=[]))[t]=n}}catch(e){i.e(e)}finally{i.f()}return e=e[0],function(r){var o;return void 0!==r?(n&&(r=n(r)),(o=this[e]()).color[t]=r,o):(o=this[e]().color[t],n&&(o=n(o)),o)}}function C(e){return function(t){return Math.max(0,Math.min(e,t))}}function w(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}e.exports=g},6870:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(){for(var e=window.document,t=o(e);t;)t=o(e=t.ownerDocument);return e}(),t=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,i=null,a=null;this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(l(n,"resize",r,!0),l(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(i&&e.clearInterval(i),s(e,"resize",r,!0)),s(t,"scroll",r,!0),a&&a.disconnect()}));var u=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=u){var c=o(t);c&&this._monitorIntersections(c.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||e,i=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var i=o(n);if((n=i&&i.ownerDocument)==t)return!0}return!1}));if(!i){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=r){var l=o(t);l&&this._unmonitorIntersections(l.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,a=u(o),l=this._rootContainsTarget(o),s=r.entry,c=e&&l&&this._computeTargetAndRootIntersection(o,a,t),d=null;this._rootContainsTarget(o)?n&&!this.root||(d=t):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var f=r.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:d,intersectionRect:c});s?e&&l?this._hasCrossedThreshold(s,f)&&this._queuedEntries.push(f):s&&s.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,o,i){if("none"!=window.getComputedStyle(t).display){for(var a,l,s,c,f,m,v,h,g=o,y=p(t),b=!1;!b&&y;){var I=null,S=1==y.nodeType?window.getComputedStyle(y):{};if("none"==S.display)return null;if(y==this.root||9==y.nodeType)if(b=!0,y==this.root||y==e)n&&!this.root?!r||0==r.width&&0==r.height?(y=null,I=null,g=null):I=r:I=i;else{var C=p(y),w=C&&u(C),x=C&&this._computeTargetAndRootIntersection(C,w,i);w&&x?(y=C,I=d(w,x)):(y=null,g=null)}else{var P=y.ownerDocument;y!=P.body&&y!=P.documentElement&&"visible"!=S.overflow&&(I=u(y))}if(I&&(a=I,l=g,s=void 0,c=void 0,f=void 0,m=void 0,v=void 0,h=void 0,s=Math.max(a.top,l.top),c=Math.min(a.bottom,l.bottom),f=Math.max(a.left,l.left),m=Math.min(a.right,l.right),h=c-s,g=(v=m-f)>=0&&h>=0&&{top:s,bottom:c,left:f,right:m,width:v,height:h}||null),!g)break;y=y&&p(y)}return g}},a.prototype._getRootRect=function(){var t;if(this.root&&!m(this.root))t=u(this.root);else{var n=m(this.root)?this.root:e,r=n.documentElement,o=n.body;t={top:0,left:0,right:r.clientWidth||o.clientWidth,width:r.clientWidth||o.clientWidth,bottom:r.clientHeight||o.clientHeight,height:r.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||f(e,this.root)},a.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return f(n,t)&&(!this.root||n==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=i}function o(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=c(e.rootBounds),this.boundingClientRect=c(e.boundingClientRect),this.intersectionRect=c(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,r,o,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType&&9!=i.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function l(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function s(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detachEvent&&e.detachEvent("on"+t,n)}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function f(e,t){for(var n=t;n;){if(n==e)return!0;n=p(n)}return!1}function p(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?o(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function m(e){return e&&9===e.nodeType}}()},5250:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",l="__lodash_placeholder__",s=16,u=32,c=64,d=128,f=256,p=1/0,m=9007199254740991,v=NaN,h=4294967295,g=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",u],["partialRight",c],["rearg",f]],y="[object Arguments]",b="[object Array]",I="[object Boolean]",S="[object Date]",C="[object Error]",w="[object Function]",x="[object GeneratorFunction]",P="[object Map]",E="[object Number]",T="[object Object]",k="[object Promise]",A="[object RegExp]",N="[object Set]",O="[object String]",_="[object Symbol]",M="[object WeakMap]",R="[object ArrayBuffer]",D="[object DataView]",L="[object Float32Array]",F="[object Float64Array]",U="[object Int8Array]",G="[object Int16Array]",j="[object Int32Array]",B="[object Uint8Array]",z="[object Uint8ClampedArray]",H="[object Uint16Array]",W="[object Uint32Array]",V=/\b__p \+= '';/g,J=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,$=RegExp(X.source),Z=RegExp(K.source),Y=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,le=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,Ie=/^(?:0|[1-9]\d*)$/,Se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ce=/($^)/,we=/['\n\r\u2028\u2029\\]/g,xe="\\ud800-\\udfff",Pe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",ke="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="[']",_e="["+xe+"]",Me="["+Ne+"]",Re="["+Pe+"]",De="\\d+",Le="["+Ee+"]",Fe="["+Te+"]",Ue="[^"+xe+Ne+De+Ee+Te+ke+"]",Ge="\\ud83c[\\udffb-\\udfff]",je="[^"+xe+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+ke+"]",We="\\u200d",Ve="(?:"+Fe+"|"+Ue+")",Je="(?:"+He+"|"+Ue+")",qe="(?:['](?:d|ll|m|re|s|t|ve))?",Xe="(?:['](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Re+"|"+Ge+")"+"?",$e="["+Ae+"]?",Ze=$e+Ke+("(?:"+We+"(?:"+[je,Be,ze].join("|")+")"+$e+Ke+")*"),Ye="(?:"+[Le,Be,ze].join("|")+")"+Ze,Qe="(?:"+[je+Re+"?",Re,Be,ze,_e].join("|")+")",et=RegExp(Oe,"g"),tt=RegExp(Re,"g"),nt=RegExp(Ge+"(?="+Ge+")|"+Qe+Ze,"g"),rt=RegExp([He+"?"+Fe+"+"+qe+"(?="+[Me,He,"$"].join("|")+")",Je+"+"+Xe+"(?="+[Me,He+Ve,"$"].join("|")+")",He+"?"+Ve+"+"+qe,He+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Ye].join("|"),"g"),ot=RegExp("["+We+xe+Pe+Ae+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lt=-1,st={};st[L]=st[F]=st[U]=st[G]=st[j]=st[B]=st[z]=st[H]=st[W]=!0,st[y]=st[b]=st[R]=st[I]=st[D]=st[S]=st[C]=st[w]=st[P]=st[E]=st[T]=st[A]=st[N]=st[O]=st[M]=!1;var ut={};ut[y]=ut[b]=ut[R]=ut[D]=ut[I]=ut[S]=ut[L]=ut[F]=ut[U]=ut[G]=ut[j]=ut[P]=ut[E]=ut[T]=ut[A]=ut[N]=ut[O]=ut[_]=ut[B]=ut[z]=ut[H]=ut[W]=!0,ut[C]=ut[w]=ut[M]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ft=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,mt="object"==typeof self&&self&&self.Object===Object&&self,vt=pt||mt||Function("return this")(),ht=t&&!t.nodeType&&t,gt=ht&&e&&!e.nodeType&&e,yt=gt&&gt.exports===ht,bt=yt&&pt.process,It=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),St=It&&It.isArrayBuffer,Ct=It&&It.isDate,wt=It&&It.isMap,xt=It&&It.isRegExp,Pt=It&&It.isSet,Et=It&&It.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function kt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function _t(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Mt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Rt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Lt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Ft(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ut(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jt=qt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function zt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Ht(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,Vt,n)}function Wt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Vt(e){return e!=e}function Jt(e,t){var n=null==e?0:e.length;return n?$t(e,t)/n:v}function qt(e){return function(t){return null==t?o:t[e]}}function Xt(e){return function(t){return null==e?o:e[t]}}function Kt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function $t(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,hn(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function en(e,t){return Dt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Ht(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Ht(t,e[n],0)>-1;);return n}var on=Xt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),an=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ln(e){return"\\"+ct[e]}function sn(e){return ot.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==l||(e[n]=l,i[o++]=n)}return i}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function mn(e){return sn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):jt(e)}function vn(e){return sn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&le.test(e.charAt(t)););return t}var gn=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n,r=(t=null==t?vt:yn.defaults(vt.Object(),t,yn.pick(vt,at))).Array,le=t.Date,xe=t.Error,Pe=t.Function,Ee=t.Math,Te=t.Object,ke=t.RegExp,Ae=t.String,Ne=t.TypeError,Oe=r.prototype,_e=Pe.prototype,Me=Te.prototype,Re=t["__core-js_shared__"],De=_e.toString,Le=Me.hasOwnProperty,Fe=0,Ue=(n=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ge=Me.toString,je=De.call(Te),Be=vt._,ze=ke("^"+De.call(Le).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=yt?t.Buffer:o,We=t.Symbol,Ve=t.Uint8Array,Je=He?He.allocUnsafe:o,qe=cn(Te.getPrototypeOf,Te),Xe=Te.create,Ke=Me.propertyIsEnumerable,$e=Oe.splice,Ze=We?We.isConcatSpreadable:o,Ye=We?We.iterator:o,Qe=We?We.toStringTag:o,nt=function(){try{var e=pi(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),ot=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,ct=le&&le.now!==vt.Date.now&&le.now,pt=t.setTimeout!==vt.setTimeout&&t.setTimeout,mt=Ee.ceil,ht=Ee.floor,gt=Te.getOwnPropertySymbols,bt=He?He.isBuffer:o,It=t.isFinite,jt=Oe.join,Xt=cn(Te.keys,Te),bn=Ee.max,In=Ee.min,Sn=le.now,Cn=t.parseInt,wn=Ee.random,xn=Oe.reverse,Pn=pi(t,"DataView"),En=pi(t,"Map"),Tn=pi(t,"Promise"),kn=pi(t,"Set"),An=pi(t,"WeakMap"),Nn=pi(Te,"create"),On=An&&new An,_n={},Mn=Gi(Pn),Rn=Gi(En),Dn=Gi(Tn),Ln=Gi(kn),Fn=Gi(An),Un=We?We.prototype:o,Gn=Un?Un.valueOf:o,jn=Un?Un.toString:o;function Bn(e){if(nl(e)&&!Va(e)&&!(e instanceof Vn)){if(e instanceof Wn)return e;if(Le.call(e,"__wrapped__"))return ji(e)}return new Wn(e)}var zn=function(){function e(){}return function(t){if(!tl(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Hn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new qn(e);this.size=t.size}function Zn(e,t){var n=Va(e),r=!n&&Wa(e),o=!n&&!r&&Ka(e),i=!n&&!r&&!o&&cl(e),a=n||r||o||i,l=a?Zt(e.length,Ae):[],s=l.length;for(var u in e)!t&&!Le.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ii(u,s))||l.push(u);return l}function Yn(e){var t=e.length;return t?e[Kr(0,t-1)]:o}function Qn(e,t){return Li(Oo(e),sr(t,0,e.length))}function er(e){return Li(Oo(e))}function tr(e,t,n){(n!==o&&!Ba(e[t],n)||n===o&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Le.call(e,t)&&Ba(r,n)&&(n!==o||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Ba(e[n][0],t))return n;return-1}function or(e,t,n,r){return pr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&_o(t,_l(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function lr(e,t){for(var n=-1,i=t.length,a=r(i),l=null==e;++n<i;)a[n]=l?o:Tl(e,t[n]);return a}function sr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ur(e,t,n,r,i,a){var l,s=1&t,u=2&t,c=4&t;if(n&&(l=i?n(e,r,i,a):n(e)),l!==o)return l;if(!tl(e))return e;var d=Va(e);if(d){if(l=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Oo(e,l)}else{var f=hi(e),p=f==w||f==x;if(Ka(e))return Po(e,s);if(f==T||f==y||p&&!i){if(l=u||p?{}:yi(e),!s)return u?function(e,t){return _o(e,vi(e),t)}(e,function(e,t){return e&&_o(t,Ml(t),e)}(l,e)):function(e,t){return _o(e,mi(e),t)}(e,ir(l,e))}else{if(!ut[f])return i?e:{};l=function(e,t,n){var r=e.constructor;switch(t){case R:return Eo(e);case I:case S:return new r(+e);case D:return function(e,t){var n=t?Eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case F:case U:case G:case j:case B:case z:case H:case W:return To(e,n);case P:return new r;case E:case O:return new r(e);case A:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new r;case _:return o=e,Gn?Te(Gn.call(o)):{}}var o}(e,f,s)}}a||(a=new $n);var m=a.get(e);if(m)return m;a.set(e,l),ll(e)?e.forEach((function(r){l.add(ur(r,t,n,r,e,a))})):rl(e)&&e.forEach((function(r,o){l.set(o,ur(r,t,n,o,e,a))}));var v=d?o:(c?u?ai:ii:u?Ml:_l)(e);return At(v||e,(function(r,o){v&&(r=e[o=r]),nr(l,o,ur(r,t,n,o,e,a))})),l}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var i=n[r],a=t[i],l=e[i];if(l===o&&!(i in e)||!a(l))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new Ne(i);return _i((function(){e.apply(o,n)}),t)}function fr(e,t,n,r){var o=-1,i=Mt,a=!0,l=e.length,s=[],u=t.length;if(!l)return s;n&&(t=Dt(t,Qt(n))),r?(i=Rt,a=!1):t.length>=200&&(i=tn,a=!1,t=new Kn(t));e:for(;++o<l;){var c=e[o],d=null==n?c:n(c);if(c=r||0!==c?c:0,a&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;s.push(c)}else i(t,d,r)||s.push(c)}return s}Bn.templateSettings={escape:Y,evaluate:Q,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=Hn.prototype,Bn.prototype.constructor=Bn,Wn.prototype=zn(Hn.prototype),Wn.prototype.constructor=Wn,Vn.prototype=zn(Hn.prototype),Vn.prototype.constructor=Vn,Jn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},Jn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Jn.prototype.get=function(e){var t=this.__data__;if(Nn){var n=t[e];return n===a?o:n}return Le.call(t,e)?t[e]:o},Jn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==o:Le.call(t,e)},Jn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nn&&t===o?a:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?o:t[n][1]},qn.prototype.has=function(e){return rr(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Jn,map:new(En||qn),string:new Jn}},Xn.prototype.delete=function(e){var t=di(this,e).delete(e);return this.size-=t?1:0,t},Xn.prototype.get=function(e){return di(this,e).get(e)},Xn.prototype.has=function(e){return di(this,e).has(e)},Xn.prototype.set=function(e,t){var n=di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,a),this},Kn.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new qn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(e,t),this.size=n.size,this};var pr=Do(Sr),mr=Do(Cr,!0);function vr(e,t){var n=!0;return pr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function hr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],l=t(a);if(null!=l&&(s===o?l==l&&!ul(l):n(l,s)))var s=l,u=a}return u}function gr(e,t){var n=[];return pr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function yr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=bi),o||(o=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?yr(l,t-1,n,r,o):Lt(o,l):r||(o[o.length]=l)}return o}var br=Lo(),Ir=Lo(!0);function Sr(e,t){return e&&br(e,t,_l)}function Cr(e,t){return e&&Ir(e,t,_l)}function wr(e,t){return _t(t,(function(t){return Ya(e[t])}))}function xr(e,t){for(var n=0,r=(t=So(t,e)).length;null!=e&&n<r;)e=e[Ui(t[n++])];return n&&n==r?e:o}function Pr(e,t,n){var r=t(e);return Va(e)?r:Lt(r,n(e))}function Er(e){return null==e?e===o?"[object Undefined]":"[object Null]":Qe&&Qe in Te(e)?function(e){var t=Le.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(e){}var i=Ge.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return i}(e):function(e){return Ge.call(e)}(e)}function Tr(e,t){return e>t}function kr(e,t){return null!=e&&Le.call(e,t)}function Ar(e,t){return null!=e&&t in Te(e)}function Nr(e,t,n){for(var i=n?Rt:Mt,a=e[0].length,l=e.length,s=l,u=r(l),c=1/0,d=[];s--;){var f=e[s];s&&t&&(f=Dt(f,Qt(t))),c=In(f.length,c),u[s]=!n&&(t||a>=120&&f.length>=120)?new Kn(s&&f):o}f=e[0];var p=-1,m=u[0];e:for(;++p<a&&d.length<c;){var v=f[p],h=t?t(v):v;if(v=n||0!==v?v:0,!(m?tn(m,h):i(d,h,n))){for(s=l;--s;){var g=u[s];if(!(g?tn(g,h):i(e[s],h,n)))continue e}m&&m.push(h),d.push(v)}}return d}function Or(e,t,n){var r=null==(e=Ai(e,t=So(t,e)))?e:e[Ui(Zi(t))];return null==r?o:Tt(r,e,n)}function _r(e){return nl(e)&&Er(e)==y}function Mr(e,t,n,r,i){return e===t||(null==e||null==t||!nl(e)&&!nl(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var l=Va(e),s=Va(t),u=l?b:hi(e),c=s?b:hi(t),d=(u=u==y?T:u)==T,f=(c=c==y?T:c)==T,p=u==c;if(p&&Ka(e)){if(!Ka(t))return!1;l=!0,d=!1}if(p&&!d)return a||(a=new $n),l||cl(e)?ri(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!i(new Ve(e),new Ve(t)));case I:case S:case E:return Ba(+e,+t);case C:return e.name==t.name&&e.message==t.message;case A:case O:return e==t+"";case P:var l=un;case N:var s=1&r;if(l||(l=fn),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=ri(l(e),l(t),r,o,i,a);return a.delete(e),c;case _:if(Gn)return Gn.call(e)==Gn.call(t)}return!1}(e,t,u,n,r,i,a);if(!(1&n)){var m=d&&Le.call(e,"__wrapped__"),v=f&&Le.call(t,"__wrapped__");if(m||v){var h=m?e.value():e,g=v?t.value():t;return a||(a=new $n),i(h,g,n,r,a)}}if(!p)return!1;return a||(a=new $n),function(e,t,n,r,i,a){var l=1&n,s=ii(e),u=s.length,c=ii(t),d=c.length;if(u!=d&&!l)return!1;var f=u;for(;f--;){var p=s[f];if(!(l?p in t:Le.call(t,p)))return!1}var m=a.get(e),v=a.get(t);if(m&&v)return m==t&&v==e;var h=!0;a.set(e,t),a.set(t,e);var g=l;for(;++f<u;){var y=e[p=s[f]],b=t[p];if(r)var I=l?r(b,y,p,t,e,a):r(y,b,p,e,t,a);if(!(I===o?y===b||i(y,b,n,r,a):I)){h=!1;break}g||(g="constructor"==p)}if(h&&!g){var S=e.constructor,C=t.constructor;S==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof C&&C instanceof C||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,i,a)}(e,t,n,r,Mr,i))}function Rr(e,t,n,r){var i=n.length,a=i,l=!r;if(null==e)return!a;for(e=Te(e);i--;){var s=n[i];if(l&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],c=e[u],d=s[1];if(l&&s[2]){if(c===o&&!(u in e))return!1}else{var f=new $n;if(r)var p=r(c,d,u,e,t,f);if(!(p===o?Mr(d,c,3,r,f):p))return!1}}return!0}function Dr(e){return!(!tl(e)||(t=e,Ue&&Ue in t))&&(Ya(e)?ze:ye).test(Gi(e));var t}function Lr(e){return"function"==typeof e?e:null==e?os:"object"==typeof e?Va(e)?zr(e[0],e[1]):Br(e):ps(e)}function Fr(e){if(!Pi(e))return Xt(e);var t=[];for(var n in Te(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ur(e){if(!tl(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Pi(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Gr(e,t){return e<t}function jr(e,t){var n=-1,o=qa(e)?r(e.length):[];return pr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Br(e){var t=fi(e);return 1==t.length&&t[0][2]?Ti(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function zr(e,t){return Ci(e)&&Ei(t)?Ti(Ui(e),t):function(n){var r=Tl(n,e);return r===o&&r===t?kl(n,e):Mr(t,r,3)}}function Hr(e,t,n,r,i){e!==t&&br(t,(function(a,l){if(i||(i=new $n),tl(a))!function(e,t,n,r,i,a,l){var s=Ni(e,n),u=Ni(t,n),c=l.get(u);if(c)return void tr(e,n,c);var d=a?a(s,u,n+"",e,t,l):o,f=d===o;if(f){var p=Va(u),m=!p&&Ka(u),v=!p&&!m&&cl(u);d=u,p||m||v?Va(s)?d=s:Xa(s)?d=Oo(s):m?(f=!1,d=Po(u,!0)):v?(f=!1,d=To(u,!0)):d=[]:il(u)||Wa(u)?(d=s,Wa(s)?d=yl(s):tl(s)&&!Ya(s)||(d=yi(u))):f=!1}f&&(l.set(u,d),i(d,u,r,a,l),l.delete(u));tr(e,n,d)}(e,t,l,n,Hr,r,i);else{var s=r?r(Ni(e,l),a,l+"",e,t,i):o;s===o&&(s=a),tr(e,l,s)}}),Ml)}function Wr(e,t){var n=e.length;if(n)return Ii(t+=t<0?n:0,n)?e[t]:o}function Vr(e,t,n){t=t.length?Dt(t,(function(e){return Va(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[os];var r=-1;t=Dt(t,Qt(ci()));var o=jr(e,(function(e,n,o){var i=Dt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,l=n.length;for(;++r<a;){var s=ko(o[r],i[r]);if(s)return r>=l?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Jr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],l=xr(e,a);n(l,a)&&eo(i,So(a,e),l)}return i}function qr(e,t,n,r){var o=r?Wt:Ht,i=-1,a=t.length,l=e;for(e===t&&(t=Oo(t)),n&&(l=Dt(e,Qt(n)));++i<a;)for(var s=0,u=t[i],c=n?n(u):u;(s=o(l,c,s,r))>-1;)l!==e&&$e.call(l,s,1),$e.call(e,s,1);return e}function Xr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Ii(o)?$e.call(e,o,1):po(e,o)}}return e}function Kr(e,t){return e+ht(wn()*(t-e+1))}function $r(e,t){var n="";if(!e||t<1||t>m)return n;do{t%2&&(n+=e),(t=ht(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Mi(ki(e,t,os),e+"")}function Yr(e){return Yn(Bl(e))}function Qr(e,t){var n=Bl(e);return Li(n,sr(t,0,n.length))}function eo(e,t,n,r){if(!tl(e))return e;for(var i=-1,a=(t=So(t,e)).length,l=a-1,s=e;null!=s&&++i<a;){var u=Ui(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=l){var d=s[u];(c=r?r(d,u,s):o)===o&&(c=tl(d)?d:Ii(t[i+1])?[]:{})}nr(s,u,c),s=s[u]}return e}var to=On?function(e,t){return On.set(e,t),e}:os,no=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:ts(t),writable:!0})}:os;function ro(e){return Li(Bl(e))}function oo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var n;return pr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ao(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!ul(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return lo(e,t,os,n)}function lo(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var l=(t=n(t))!=t,s=null===t,u=ul(t),c=t===o;i<a;){var d=ht((i+a)/2),f=n(e[d]),p=f!==o,m=null===f,v=f==f,h=ul(f);if(l)var g=r||v;else g=c?v&&(r||p):s?v&&p&&(r||!m):u?v&&p&&!m&&(r||!h):!m&&!h&&(r?f<=t:f<t);g?i=d+1:a=d}return In(a,4294967294)}function so(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],l=t?t(a):a;if(!n||!Ba(l,s)){var s=l;i[o++]=0===a?0:a}}return i}function uo(e){return"number"==typeof e?e:ul(e)?v:+e}function co(e){if("string"==typeof e)return e;if(Va(e))return Dt(e,co)+"";if(ul(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fo(e,t,n){var r=-1,o=Mt,i=e.length,a=!0,l=[],s=l;if(n)a=!1,o=Rt;else if(i>=200){var u=t?null:Zo(e);if(u)return fn(u);a=!1,o=tn,s=new Kn}else s=t?[]:l;e:for(;++r<i;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var f=s.length;f--;)if(s[f]===d)continue e;t&&s.push(d),l.push(c)}else o(s,d,n)||(s!==l&&s.push(d),l.push(c))}return l}function po(e,t){return null==(e=Ai(e,t=So(t,e)))||delete e[Ui(Zi(t))]}function mo(e,t,n,r){return eo(e,t,n(xr(e,t)),r)}function vo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function ho(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),n)}function go(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var l=e[i],s=-1;++s<o;)s!=i&&(a[i]=fr(a[i]||l,e[s],t,n));return fo(yr(a,1),t,n)}function yo(e,t,n){for(var r=-1,i=e.length,a=t.length,l={};++r<i;){var s=r<a?t[r]:o;n(l,e[r],s)}return l}function bo(e){return Xa(e)?e:[]}function Io(e){return"function"==typeof e?e:os}function So(e,t){return Va(e)?e:Ci(e,t)?[e]:Fi(bl(e))}var Co=Zr;function wo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:oo(e,t,n)}var xo=ot||function(e){return vt.clearTimeout(e)};function Po(e,t){if(t)return e.slice();var n=e.length,r=Je?Je(n):new e.constructor(n);return e.copy(r),r}function Eo(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function To(e,t){var n=t?Eo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ko(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=ul(e),l=t!==o,s=null===t,u=t==t,c=ul(t);if(!s&&!c&&!a&&e>t||a&&l&&u&&!s&&!c||r&&l&&u||!n&&u||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||s&&n&&i||!l&&i||!u)return-1}return 0}function Ao(e,t,n,o){for(var i=-1,a=e.length,l=n.length,s=-1,u=t.length,c=bn(a-l,0),d=r(u+c),f=!o;++s<u;)d[s]=t[s];for(;++i<l;)(f||i<a)&&(d[n[i]]=e[i]);for(;c--;)d[s++]=e[i++];return d}function No(e,t,n,o){for(var i=-1,a=e.length,l=-1,s=n.length,u=-1,c=t.length,d=bn(a-s,0),f=r(d+c),p=!o;++i<d;)f[i]=e[i];for(var m=i;++u<c;)f[m+u]=t[u];for(;++l<s;)(p||i<a)&&(f[m+n[l]]=e[i++]);return f}function Oo(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function _o(e,t,n,r){var i=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var s=t[a],u=r?r(n[s],e[s],s,n,e):o;u===o&&(u=e[s]),i?ar(n,s,u):nr(n,s,u)}return n}function Mo(e,t){return function(n,r){var o=Va(n)?kt:or,i=t?t():{};return o(n,e,ci(r,2),i)}}function Ro(e){return Zr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,l=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,l&&Si(n[0],n[1],l)&&(a=i<3?o:a,i=1),t=Te(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))}function Do(e,t){return function(n,r){if(null==n)return n;if(!qa(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Te(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Lo(e){return function(t,n,r){for(var o=-1,i=Te(t),a=r(t),l=a.length;l--;){var s=a[e?l:++o];if(!1===n(i[s],s,i))break}return t}}function Fo(e){return function(t){var n=sn(t=bl(t))?vn(t):o,r=n?n[0]:t.charAt(0),i=n?wo(n,1).join(""):t.slice(1);return r[e]()+i}}function Uo(e){return function(t){return Ft(Yl(Wl(t).replace(et,"")),e,"")}}function Go(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return tl(r)?r:n}}function jo(e){return function(t,n,r){var i=Te(t);if(!qa(t)){var a=ci(n,3);t=_l(t),n=function(e){return a(i[e],e,i)}}var l=e(t,n,r);return l>-1?i[a?t[l]:l]:o}}function Bo(e){return oi((function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var l=t[r];if("function"!=typeof l)throw new Ne(i);if(a&&!s&&"wrapper"==si(l))var s=new Wn([],!0)}for(r=s?r:n;++r<n;){var u=si(l=t[r]),c="wrapper"==u?li(l):o;s=c&&wi(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[si(c[0])].apply(s,c[3]):1==l.length&&wi(l)?s[u]():s.thru(l)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Va(r))return s.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function zo(e,t,n,i,a,l,s,u,c,f){var p=t&d,m=1&t,v=2&t,h=24&t,g=512&t,y=v?o:Go(e);return function d(){for(var b=arguments.length,I=r(b),S=b;S--;)I[S]=arguments[S];if(h)var C=ui(d),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(I,C);if(i&&(I=Ao(I,i,a,h)),l&&(I=No(I,l,s,h)),b-=w,h&&b<f){var x=dn(I,C);return Ko(e,t,zo,d.placeholder,n,I,x,u,c,f-b)}var P=m?n:this,E=v?P[e]:e;return b=I.length,u?I=function(e,t){var n=e.length,r=In(t.length,n),i=Oo(e);for(;r--;){var a=t[r];e[r]=Ii(a,n)?i[a]:o}return e}(I,u):g&&b>1&&I.reverse(),p&&c<b&&(I.length=c),this&&this!==vt&&this instanceof d&&(E=y||Go(E)),E.apply(P,I)}}function Ho(e,t){return function(n,r){return function(e,t,n,r){return Sr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Wo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=co(n),r=co(r)):(n=uo(n),r=uo(r)),i=e(n,r)}return i}}function Vo(e){return oi((function(t){return t=Dt(t,Qt(ci())),Zr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Jo(e,t){var n=(t=t===o?" ":co(t)).length;if(n<2)return n?$r(t,e):t;var r=$r(t,mt(e/mn(t)));return sn(t)?wo(vn(r),0,e).join(""):r.slice(0,e)}function qo(e){return function(t,n,i){return i&&"number"!=typeof i&&Si(t,n,i)&&(n=i=o),t=ml(t),n===o?(n=t,t=0):n=ml(n),function(e,t,n,o){for(var i=-1,a=bn(mt((t-e)/(n||1)),0),l=r(a);a--;)l[o?a:++i]=e,e+=n;return l}(t,n,i=i===o?t<n?1:-1:ml(i),e)}}function Xo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gl(t),n=gl(n)),e(t,n)}}function Ko(e,t,n,r,i,a,l,s,d,f){var p=8&t;t|=p?u:c,4&(t&=~(p?c:u))||(t&=-4);var m=[e,t,i,p?a:o,p?l:o,p?o:a,p?o:l,s,d,f],v=n.apply(o,m);return wi(e)&&Oi(v,m),v.placeholder=r,Ri(v,e,t)}function $o(e){var t=Ee[e];return function(e,n){if(e=gl(e),(n=null==n?0:In(vl(n),292))&&It(e)){var r=(bl(e)+"e").split("e");return+((r=(bl(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Zo=kn&&1/fn(new kn([,-0]))[1]==p?function(e){return new kn(e)}:us;function Yo(e){return function(t){var n=hi(t);return n==P?un(t):n==N?pn(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qo(e,t,n,a,p,m,v,h){var g=2&t;if(!g&&"function"!=typeof e)throw new Ne(i);var y=a?a.length:0;if(y||(t&=-97,a=p=o),v=v===o?v:bn(vl(v),0),h=h===o?h:vl(h),y-=p?p.length:0,t&c){var b=a,I=p;a=p=o}var S=g?o:li(e),C=[e,t,n,a,p,b,I,m,v,h];if(S&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var u=e[3];e[3]=u?Ao(u,s,t[4]):s,e[4]=u?dn(e[3],l):t[4]}(s=t[5])&&(u=e[5],e[5]=u?No(u,s,t[6]):s,e[6]=u?dn(e[5],l):t[6]);(s=t[7])&&(e[7]=s);r&d&&(e[8]=null==e[8]?t[8]:In(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(C,S),e=C[0],t=C[1],n=C[2],a=C[3],p=C[4],!(h=C[9]=C[9]===o?g?0:e.length:bn(C[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==s?function(e,t,n){var i=Go(e);return function a(){for(var l=arguments.length,s=r(l),u=l,c=ui(a);u--;)s[u]=arguments[u];var d=l<3&&s[0]!==c&&s[l-1]!==c?[]:dn(s,c);return(l-=d.length)<n?Ko(e,t,zo,a.placeholder,o,s,d,o,o,n-l):Tt(this&&this!==vt&&this instanceof a?i:e,this,s)}}(e,t,h):t!=u&&33!=t||p.length?zo.apply(o,C):function(e,t,n,o){var i=1&t,a=Go(e);return function t(){for(var l=-1,s=arguments.length,u=-1,c=o.length,d=r(c+s),f=this&&this!==vt&&this instanceof t?a:e;++u<c;)d[u]=o[u];for(;s--;)d[u++]=arguments[++l];return Tt(f,i?n:this,d)}}(e,t,n,a);else var w=function(e,t,n){var r=1&t,o=Go(e);return function t(){return(this&&this!==vt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Ri((S?to:Oi)(w,C),e,t)}function ei(e,t,n,r){return e===o||Ba(e,Me[n])&&!Le.call(r,n)?t:e}function ti(e,t,n,r,i,a){return tl(e)&&tl(t)&&(a.set(t,e),Hr(e,t,o,ti,a),a.delete(t)),e}function ni(e){return il(e)?o:e}function ri(e,t,n,r,i,a){var l=1&n,s=e.length,u=t.length;if(s!=u&&!(l&&u>s))return!1;var c=a.get(e),d=a.get(t);if(c&&d)return c==t&&d==e;var f=-1,p=!0,m=2&n?new Kn:o;for(a.set(e,t),a.set(t,e);++f<s;){var v=e[f],h=t[f];if(r)var g=l?r(h,v,f,t,e,a):r(v,h,f,e,t,a);if(g!==o){if(g)continue;p=!1;break}if(m){if(!Gt(t,(function(e,t){if(!tn(m,t)&&(v===e||i(v,e,n,r,a)))return m.push(t)}))){p=!1;break}}else if(v!==h&&!i(v,h,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function oi(e){return Mi(ki(e,o,Ji),e+"")}function ii(e){return Pr(e,_l,mi)}function ai(e){return Pr(e,Ml,vi)}var li=On?function(e){return On.get(e)}:us;function si(e){for(var t=e.name+"",n=_n[t],r=Le.call(_n,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(Le.call(Bn,"placeholder")?Bn:e).placeholder}function ci(){var e=Bn.iteratee||is;return e=e===is?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function di(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function fi(e){for(var t=_l(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ei(o)]}return t}function pi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Dr(n)?n:o}var mi=gt?function(e){return null==e?[]:(e=Te(e),_t(gt(e),(function(t){return Ke.call(e,t)})))}:hs,vi=gt?function(e){for(var t=[];e;)Lt(t,mi(e)),e=qe(e);return t}:hs,hi=Er;function gi(e,t,n){for(var r=-1,o=(t=So(t,e)).length,i=!1;++r<o;){var a=Ui(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&el(o)&&Ii(a,o)&&(Va(e)||Wa(e))}function yi(e){return"function"!=typeof e.constructor||Pi(e)?{}:zn(qe(e))}function bi(e){return Va(e)||Wa(e)||!!(Ze&&e&&e[Ze])}function Ii(e,t){var n=typeof e;return!!(t=null==t?m:t)&&("number"==n||"symbol"!=n&&Ie.test(e))&&e>-1&&e%1==0&&e<t}function Si(e,t,n){if(!tl(n))return!1;var r=typeof t;return!!("number"==r?qa(n)&&Ii(t,n.length):"string"==r&&t in n)&&Ba(n[t],e)}function Ci(e,t){if(Va(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ul(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function wi(e){var t=si(e),n=Bn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=li(n);return!!r&&e===r[0]}(Pn&&hi(new Pn(new ArrayBuffer(1)))!=D||En&&hi(new En)!=P||Tn&&hi(Tn.resolve())!=k||kn&&hi(new kn)!=N||An&&hi(new An)!=M)&&(hi=function(e){var t=Er(e),n=t==T?e.constructor:o,r=n?Gi(n):"";if(r)switch(r){case Mn:return D;case Rn:return P;case Dn:return k;case Ln:return N;case Fn:return M}return t});var xi=Re?Ya:gs;function Pi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function Ei(e){return e==e&&!tl(e)}function Ti(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Te(n)))}}function ki(e,t,n){return t=bn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=bn(o.length-t,0),l=r(a);++i<a;)l[i]=o[t+i];i=-1;for(var s=r(t+1);++i<t;)s[i]=o[i];return s[t]=n(l),Tt(e,this,s)}}function Ai(e,t){return t.length<2?e:xr(e,oo(t,0,-1))}function Ni(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Oi=Di(to),_i=pt||function(e,t){return vt.setTimeout(e,t)},Mi=Di(no);function Ri(e,t,n){var r=t+"";return Mi(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(g,(function(n){var r="_."+n[0];t&n[1]&&!Mt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(r),n)))}function Di(e){var t=0,n=0;return function(){var r=Sn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Li(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Kr(n,i),l=e[a];e[a]=e[n],e[n]=l}return e.length=t,e}var Fi=function(e){var t=Da(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(pe,"$1"):n||e)})),t}));function Ui(e){if("string"==typeof e||ul(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Gi(e){if(null!=e){try{return De.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ji(e){if(e instanceof Vn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Oo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bi=Zr((function(e,t){return Xa(e)?fr(e,yr(t,1,Xa,!0)):[]})),zi=Zr((function(e,t){var n=Zi(t);return Xa(n)&&(n=o),Xa(e)?fr(e,yr(t,1,Xa,!0),ci(n,2)):[]})),Hi=Zr((function(e,t){var n=Zi(t);return Xa(n)&&(n=o),Xa(e)?fr(e,yr(t,1,Xa,!0),o,n):[]}));function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:vl(n);return o<0&&(o=bn(r+o,0)),zt(e,ci(t,3),o)}function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=vl(n),i=n<0?bn(r+i,0):In(i,r-1)),zt(e,ci(t,3),i,!0)}function Ji(e){return(null==e?0:e.length)?yr(e,1):[]}function qi(e){return e&&e.length?e[0]:o}var Xi=Zr((function(e){var t=Dt(e,bo);return t.length&&t[0]===e[0]?Nr(t):[]})),Ki=Zr((function(e){var t=Zi(e),n=Dt(e,bo);return t===Zi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Nr(n,ci(t,2)):[]})),$i=Zr((function(e){var t=Zi(e),n=Dt(e,bo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Nr(n,o,t):[]}));function Zi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Yi=Zr(Qi);function Qi(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var ea=oi((function(e,t){var n=null==e?0:e.length,r=lr(e,t);return Xr(e,Dt(t,(function(e){return Ii(e,n)?+e:e})).sort(ko)),r}));function ta(e){return null==e?e:xn.call(e)}var na=Zr((function(e){return fo(yr(e,1,Xa,!0))})),ra=Zr((function(e){var t=Zi(e);return Xa(t)&&(t=o),fo(yr(e,1,Xa,!0),ci(t,2))})),oa=Zr((function(e){var t=Zi(e);return t="function"==typeof t?t:o,fo(yr(e,1,Xa,!0),o,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=_t(e,(function(e){if(Xa(e))return t=bn(e.length,t),!0})),Zt(t,(function(t){return Dt(e,qt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:Dt(n,(function(e){return Tt(t,o,e)}))}var la=Zr((function(e,t){return Xa(e)?fr(e,t):[]})),sa=Zr((function(e){return go(_t(e,Xa))})),ua=Zr((function(e){var t=Zi(e);return Xa(t)&&(t=o),go(_t(e,Xa),ci(t,2))})),ca=Zr((function(e){var t=Zi(e);return t="function"==typeof t?t:o,go(_t(e,Xa),o,t)})),da=Zr(ia);var fa=Zr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,aa(e,n)}));function pa(e){var t=Bn(e);return t.__chain__=!0,t}function ma(e,t){return t(e)}var va=oi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return lr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&Ii(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ma,args:[i],thisArg:o}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ha=Mo((function(e,t,n){Le.call(e,n)?++e[n]:ar(e,n,1)}));var ga=jo(Wi),ya=jo(Vi);function ba(e,t){return(Va(e)?At:pr)(e,ci(t,3))}function Ia(e,t){return(Va(e)?Nt:mr)(e,ci(t,3))}var Sa=Mo((function(e,t,n){Le.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Ca=Zr((function(e,t,n){var o=-1,i="function"==typeof t,a=qa(e)?r(e.length):[];return pr(e,(function(e){a[++o]=i?Tt(t,e,n):Or(e,t,n)})),a})),wa=Mo((function(e,t,n){ar(e,n,t)}));function xa(e,t){return(Va(e)?Dt:jr)(e,ci(t,3))}var Pa=Mo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ea=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Si(e,t[0],t[1])?t=[]:n>2&&Si(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,yr(t,1),[])})),Ta=ct||function(){return vt.Date.now()};function ka(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Qo(e,d,o,o,o,o,t)}function Aa(e,t){var n;if("function"!=typeof t)throw new Ne(i);return e=vl(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Na=Zr((function(e,t,n){var r=1;if(n.length){var o=dn(n,ui(Na));r|=u}return Qo(e,r,t,n,o)})),Oa=Zr((function(e,t,n){var r=3;if(n.length){var o=dn(n,ui(Oa));r|=u}return Qo(t,r,e,n,o)}));function _a(e,t,n){var r,a,l,s,u,c,d=0,f=!1,p=!1,m=!0;if("function"!=typeof e)throw new Ne(i);function v(t){var n=r,i=a;return r=a=o,d=t,s=e.apply(i,n)}function h(e){var n=e-c;return c===o||n>=t||n<0||p&&e-d>=l}function g(){var e=Ta();if(h(e))return y(e);u=_i(g,function(e){var n=t-(e-c);return p?In(n,l-(e-d)):n}(e))}function y(e){return u=o,m&&r?v(e):(r=a=o,s)}function b(){var e=Ta(),n=h(e);if(r=arguments,a=this,c=e,n){if(u===o)return function(e){return d=e,u=_i(g,t),f?v(e):s}(c);if(p)return xo(u),u=_i(g,t),v(c)}return u===o&&(u=_i(g,t)),s}return t=gl(t)||0,tl(n)&&(f=!!n.leading,l=(p="maxWait"in n)?bn(gl(n.maxWait)||0,t):l,m="trailing"in n?!!n.trailing:m),b.cancel=function(){u!==o&&xo(u),d=0,r=c=a=u=o},b.flush=function(){return u===o?s:y(Ta())},b}var Ma=Zr((function(e,t){return dr(e,1,t)})),Ra=Zr((function(e,t,n){return dr(e,gl(t)||0,n)}));function Da(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ne(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Da.Cache||Xn),n}function La(e){if("function"!=typeof e)throw new Ne(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Da.Cache=Xn;var Fa=Co((function(e,t){var n=(t=1==t.length&&Va(t[0])?Dt(t[0],Qt(ci())):Dt(yr(t,1),Qt(ci()))).length;return Zr((function(r){for(var o=-1,i=In(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Tt(e,this,r)}))})),Ua=Zr((function(e,t){var n=dn(t,ui(Ua));return Qo(e,u,o,t,n)})),Ga=Zr((function(e,t){var n=dn(t,ui(Ga));return Qo(e,c,o,t,n)})),ja=oi((function(e,t){return Qo(e,f,o,o,o,t)}));function Ba(e,t){return e===t||e!=e&&t!=t}var za=Xo(Tr),Ha=Xo((function(e,t){return e>=t})),Wa=_r(function(){return arguments}())?_r:function(e){return nl(e)&&Le.call(e,"callee")&&!Ke.call(e,"callee")},Va=r.isArray,Ja=St?Qt(St):function(e){return nl(e)&&Er(e)==R};function qa(e){return null!=e&&el(e.length)&&!Ya(e)}function Xa(e){return nl(e)&&qa(e)}var Ka=bt||gs,$a=Ct?Qt(Ct):function(e){return nl(e)&&Er(e)==S};function Za(e){if(!nl(e))return!1;var t=Er(e);return t==C||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!il(e)}function Ya(e){if(!tl(e))return!1;var t=Er(e);return t==w||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qa(e){return"number"==typeof e&&e==vl(e)}function el(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=m}function tl(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function nl(e){return null!=e&&"object"==typeof e}var rl=wt?Qt(wt):function(e){return nl(e)&&hi(e)==P};function ol(e){return"number"==typeof e||nl(e)&&Er(e)==E}function il(e){if(!nl(e)||Er(e)!=T)return!1;var t=qe(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==je}var al=xt?Qt(xt):function(e){return nl(e)&&Er(e)==A};var ll=Pt?Qt(Pt):function(e){return nl(e)&&hi(e)==N};function sl(e){return"string"==typeof e||!Va(e)&&nl(e)&&Er(e)==O}function ul(e){return"symbol"==typeof e||nl(e)&&Er(e)==_}var cl=Et?Qt(Et):function(e){return nl(e)&&el(e.length)&&!!st[Er(e)]};var dl=Xo(Gr),fl=Xo((function(e,t){return e<=t}));function pl(e){if(!e)return[];if(qa(e))return sl(e)?vn(e):Oo(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=hi(e);return(t==P?un:t==N?fn:Bl)(e)}function ml(e){return e?(e=gl(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vl(e){var t=ml(e),n=t%1;return t==t?n?t-n:t:0}function hl(e){return e?sr(vl(e),0,h):0}function gl(e){if("number"==typeof e)return e;if(ul(e))return v;if(tl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=ge.test(e);return n||be.test(e)?ft(e.slice(2),n?2:8):he.test(e)?v:+e}function yl(e){return _o(e,Ml(e))}function bl(e){return null==e?"":co(e)}var Il=Ro((function(e,t){if(Pi(t)||qa(t))_o(t,_l(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),Sl=Ro((function(e,t){_o(t,Ml(t),e)})),Cl=Ro((function(e,t,n,r){_o(t,Ml(t),e,r)})),wl=Ro((function(e,t,n,r){_o(t,_l(t),e,r)})),xl=oi(lr);var Pl=Zr((function(e,t){e=Te(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&Si(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],l=Ml(a),s=-1,u=l.length;++s<u;){var c=l[s],d=e[c];(d===o||Ba(d,Me[c])&&!Le.call(e,c))&&(e[c]=a[c])}return e})),El=Zr((function(e){return e.push(o,ti),Tt(Dl,o,e)}));function Tl(e,t,n){var r=null==e?o:xr(e,t);return r===o?n:r}function kl(e,t){return null!=e&&gi(e,t,Ar)}var Al=Ho((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ge.call(t)),e[t]=n}),ts(os)),Nl=Ho((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ge.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),ci),Ol=Zr(Or);function _l(e){return qa(e)?Zn(e):Fr(e)}function Ml(e){return qa(e)?Zn(e,!0):Ur(e)}var Rl=Ro((function(e,t,n){Hr(e,t,n)})),Dl=Ro((function(e,t,n,r){Hr(e,t,n,r)})),Ll=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Dt(t,(function(t){return t=So(t,e),r||(r=t.length>1),t})),_o(e,ai(e),n),r&&(n=ur(n,7,ni));for(var o=t.length;o--;)po(n,t[o]);return n}));var Fl=oi((function(e,t){return null==e?{}:function(e,t){return Jr(e,t,(function(t,n){return kl(e,n)}))}(e,t)}));function Ul(e,t){if(null==e)return{};var n=Dt(ai(e),(function(e){return[e]}));return t=ci(t),Jr(e,n,(function(e,n){return t(e,n[0])}))}var Gl=Yo(_l),jl=Yo(Ml);function Bl(e){return null==e?[]:en(e,_l(e))}var zl=Uo((function(e,t,n){return t=t.toLowerCase(),e+(n?Hl(t):t)}));function Hl(e){return Zl(bl(e).toLowerCase())}function Wl(e){return(e=bl(e))&&e.replace(Se,on).replace(tt,"")}var Vl=Uo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Jl=Uo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),ql=Fo("toLowerCase");var Xl=Uo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Kl=Uo((function(e,t,n){return e+(n?" ":"")+Zl(t)}));var $l=Uo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Zl=Fo("toUpperCase");function Yl(e,t,n){return e=bl(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Ql=Zr((function(e,t){try{return Tt(e,o,t)}catch(e){return Za(e)?e:new xe(e)}})),es=oi((function(e,t){return At(t,(function(t){t=Ui(t),ar(e,t,Na(e[t],e))})),e}));function ts(e){return function(){return e}}var ns=Bo(),rs=Bo(!0);function os(e){return e}function is(e){return Lr("function"==typeof e?e:ur(e,1))}var as=Zr((function(e,t){return function(n){return Or(n,e,t)}})),ls=Zr((function(e,t){return function(n){return Or(e,n,t)}}));function ss(e,t,n){var r=_l(t),o=wr(t,r);null!=n||tl(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=wr(t,_l(t)));var i=!(tl(n)&&"chain"in n&&!n.chain),a=Ya(e);return At(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Oo(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Lt([this.value()],arguments))})})),e}function us(){}var cs=Vo(Dt),ds=Vo(Ot),fs=Vo(Gt);function ps(e){return Ci(e)?qt(Ui(e)):function(e){return function(t){return xr(t,e)}}(e)}var ms=qo(),vs=qo(!0);function hs(){return[]}function gs(){return!1}var ys=Wo((function(e,t){return e+t}),0),bs=$o("ceil"),Is=Wo((function(e,t){return e/t}),1),Ss=$o("floor");var Cs,ws=Wo((function(e,t){return e*t}),1),xs=$o("round"),Ps=Wo((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Ne(i);return e=vl(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=ka,Bn.assign=Il,Bn.assignIn=Sl,Bn.assignInWith=Cl,Bn.assignWith=wl,Bn.at=xl,Bn.before=Aa,Bn.bind=Na,Bn.bindAll=es,Bn.bindKey=Oa,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},Bn.chain=pa,Bn.chunk=function(e,t,n){t=(n?Si(e,t,n):t===o)?1:bn(vl(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,l=0,s=r(mt(i/t));a<i;)s[l++]=oo(e,a,a+=t);return s},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Lt(Va(n)?Oo(n):[n],yr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=ci();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new Ne(i);return[n(e[0]),e[1]]})):[],Zr((function(n){for(var r=-1;++r<t;){var o=e[r];if(Tt(o[0],this,n))return Tt(o[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=_l(e);return function(n){return cr(n,e,t)}}(ur(e,1))},Bn.constant=ts,Bn.countBy=ha,Bn.create=function(e,t){var n=zn(e);return null==t?n:ir(n,t)},Bn.curry=function e(t,n,r){var i=Qo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Bn.curryRight=function e(t,n,r){var i=Qo(t,s,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Bn.debounce=_a,Bn.defaults=Pl,Bn.defaultsDeep=El,Bn.defer=Ma,Bn.delay=Ra,Bn.difference=Bi,Bn.differenceBy=zi,Bn.differenceWith=Hi,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=n||t===o?1:vl(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,0,(t=r-(t=n||t===o?1:vl(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?vo(e,ci(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?vo(e,ci(t,3),!0):[]},Bn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Si(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=vl(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:vl(r))<0&&(r+=i),r=n>r?0:hl(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Va(e)?_t:gr)(e,ci(t,3))},Bn.flatMap=function(e,t){return yr(xa(e,t),1)},Bn.flatMapDeep=function(e,t){return yr(xa(e,t),p)},Bn.flatMapDepth=function(e,t,n){return n=n===o?1:vl(n),yr(xa(e,t),n)},Bn.flatten=Ji,Bn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,p):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===o?1:vl(t)):[]},Bn.flip=function(e){return Qo(e,512)},Bn.flow=ns,Bn.flowRight=rs,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Bn.functions=function(e){return null==e?[]:wr(e,_l(e))},Bn.functionsIn=function(e){return null==e?[]:wr(e,Ml(e))},Bn.groupBy=Sa,Bn.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},Bn.intersection=Xi,Bn.intersectionBy=Ki,Bn.intersectionWith=$i,Bn.invert=Al,Bn.invertBy=Nl,Bn.invokeMap=Ca,Bn.iteratee=is,Bn.keyBy=wa,Bn.keys=_l,Bn.keysIn=Ml,Bn.map=xa,Bn.mapKeys=function(e,t){var n={};return t=ci(t,3),Sr(e,(function(e,r,o){ar(n,t(e,r,o),e)})),n},Bn.mapValues=function(e,t){var n={};return t=ci(t,3),Sr(e,(function(e,r,o){ar(n,r,t(e,r,o))})),n},Bn.matches=function(e){return Br(ur(e,1))},Bn.matchesProperty=function(e,t){return zr(e,ur(t,1))},Bn.memoize=Da,Bn.merge=Rl,Bn.mergeWith=Dl,Bn.method=as,Bn.methodOf=ls,Bn.mixin=ss,Bn.negate=La,Bn.nthArg=function(e){return e=vl(e),Zr((function(t){return Wr(t,e)}))},Bn.omit=Ll,Bn.omitBy=function(e,t){return Ul(e,La(ci(t)))},Bn.once=function(e){return Aa(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(n=r?o:n)||(n=null==n?[]:[n]),Vr(e,t,n))},Bn.over=cs,Bn.overArgs=Fa,Bn.overEvery=ds,Bn.overSome=fs,Bn.partial=Ua,Bn.partialRight=Ga,Bn.partition=Pa,Bn.pick=Fl,Bn.pickBy=Ul,Bn.property=ps,Bn.propertyOf=function(e){return function(t){return null==e?o:xr(e,t)}},Bn.pull=Yi,Bn.pullAll=Qi,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,ci(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,o,n):e},Bn.pullAt=ea,Bn.range=ms,Bn.rangeRight=vs,Bn.rearg=ja,Bn.reject=function(e,t){return(Va(e)?_t:gr)(e,La(ci(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ci(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Xr(e,o),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Ne(i);return Zr(e,t=t===o?t:vl(t))},Bn.reverse=ta,Bn.sampleSize=function(e,t,n){return t=(n?Si(e,t,n):t===o)?1:vl(t),(Va(e)?Qn:Qr)(e,t)},Bn.set=function(e,t,n){return null==e?e:eo(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:eo(e,t,n,r)},Bn.shuffle=function(e){return(Va(e)?er:ro)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Si(e,t,n)?(t=0,n=r):(t=null==t?0:vl(t),n=n===o?r:vl(n)),oo(e,t,n)):[]},Bn.sortBy=Ea,Bn.sortedUniq=function(e){return e&&e.length?so(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?so(e,ci(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&Si(e,t,n)&&(t=n=o),(n=n===o?h:n>>>0)?(e=bl(e))&&("string"==typeof t||null!=t&&!al(t))&&!(t=co(t))&&sn(e)?wo(vn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Ne(i);return t=null==t?0:bn(vl(t),0),Zr((function(n){var r=n[t],o=wo(n,0,t);return r&&Lt(o,r),Tt(e,this,o)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?oo(e,0,(t=n||t===o?1:vl(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=r-(t=n||t===o?1:vl(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?vo(e,ci(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?vo(e,ci(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Ne(i);return tl(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),_a(e,t,{leading:r,maxWait:t,trailing:o})},Bn.thru=ma,Bn.toArray=pl,Bn.toPairs=Gl,Bn.toPairsIn=jl,Bn.toPath=function(e){return Va(e)?Dt(e,Ui):ul(e)?[e]:Oo(Fi(bl(e)))},Bn.toPlainObject=yl,Bn.transform=function(e,t,n){var r=Va(e),o=r||Ka(e)||cl(e);if(t=ci(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:tl(e)&&Ya(i)?zn(qe(e)):{}}return(o?At:Sr)(e,(function(e,r,o){return t(n,e,r,o)})),n},Bn.unary=function(e){return ka(e,1)},Bn.union=na,Bn.unionBy=ra,Bn.unionWith=oa,Bn.uniq=function(e){return e&&e.length?fo(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?fo(e,ci(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},Bn.unset=function(e,t){return null==e||po(e,t)},Bn.unzip=ia,Bn.unzipWith=aa,Bn.update=function(e,t,n){return null==e?e:mo(e,t,Io(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:mo(e,t,Io(n),r)},Bn.values=Bl,Bn.valuesIn=function(e){return null==e?[]:en(e,Ml(e))},Bn.without=la,Bn.words=Yl,Bn.wrap=function(e,t){return Ua(Io(t),e)},Bn.xor=sa,Bn.xorBy=ua,Bn.xorWith=ca,Bn.zip=da,Bn.zipObject=function(e,t){return yo(e||[],t||[],nr)},Bn.zipObjectDeep=function(e,t){return yo(e||[],t||[],eo)},Bn.zipWith=fa,Bn.entries=Gl,Bn.entriesIn=jl,Bn.extend=Sl,Bn.extendWith=Cl,ss(Bn,Bn),Bn.add=ys,Bn.attempt=Ql,Bn.camelCase=zl,Bn.capitalize=Hl,Bn.ceil=bs,Bn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=gl(n))==n?n:0),t!==o&&(t=(t=gl(t))==t?t:0),sr(gl(e),t,n)},Bn.clone=function(e){return ur(e,4)},Bn.cloneDeep=function(e){return ur(e,5)},Bn.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:o)},Bn.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:o)},Bn.conformsTo=function(e,t){return null==t||cr(e,t,_l(t))},Bn.deburr=Wl,Bn.defaultTo=function(e,t){return null==e||e!=e?t:e},Bn.divide=Is,Bn.endsWith=function(e,t,n){e=bl(e),t=co(t);var r=e.length,i=n=n===o?r:sr(vl(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Bn.eq=Ba,Bn.escape=function(e){return(e=bl(e))&&Z.test(e)?e.replace(K,an):e},Bn.escapeRegExp=function(e){return(e=bl(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},Bn.every=function(e,t,n){var r=Va(e)?Ot:vr;return n&&Si(e,t,n)&&(t=o),r(e,ci(t,3))},Bn.find=ga,Bn.findIndex=Wi,Bn.findKey=function(e,t){return Bt(e,ci(t,3),Sr)},Bn.findLast=ya,Bn.findLastIndex=Vi,Bn.findLastKey=function(e,t){return Bt(e,ci(t,3),Cr)},Bn.floor=Ss,Bn.forEach=ba,Bn.forEachRight=Ia,Bn.forIn=function(e,t){return null==e?e:br(e,ci(t,3),Ml)},Bn.forInRight=function(e,t){return null==e?e:Ir(e,ci(t,3),Ml)},Bn.forOwn=function(e,t){return e&&Sr(e,ci(t,3))},Bn.forOwnRight=function(e,t){return e&&Cr(e,ci(t,3))},Bn.get=Tl,Bn.gt=za,Bn.gte=Ha,Bn.has=function(e,t){return null!=e&&gi(e,t,kr)},Bn.hasIn=kl,Bn.head=qi,Bn.identity=os,Bn.includes=function(e,t,n,r){e=qa(e)?e:Bl(e),n=n&&!r?vl(n):0;var o=e.length;return n<0&&(n=bn(o+n,0)),sl(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Ht(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:vl(n);return o<0&&(o=bn(r+o,0)),Ht(e,t,o)},Bn.inRange=function(e,t,n){return t=ml(t),n===o?(n=t,t=0):n=ml(n),function(e,t,n){return e>=In(t,n)&&e<bn(t,n)}(e=gl(e),t,n)},Bn.invoke=Ol,Bn.isArguments=Wa,Bn.isArray=Va,Bn.isArrayBuffer=Ja,Bn.isArrayLike=qa,Bn.isArrayLikeObject=Xa,Bn.isBoolean=function(e){return!0===e||!1===e||nl(e)&&Er(e)==I},Bn.isBuffer=Ka,Bn.isDate=$a,Bn.isElement=function(e){return nl(e)&&1===e.nodeType&&!il(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(qa(e)&&(Va(e)||"string"==typeof e||"function"==typeof e.splice||Ka(e)||cl(e)||Wa(e)))return!e.length;var t=hi(e);if(t==P||t==N)return!e.size;if(Pi(e))return!Fr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Mr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Mr(e,t,o,n):!!r},Bn.isError=Za,Bn.isFinite=function(e){return"number"==typeof e&&It(e)},Bn.isFunction=Ya,Bn.isInteger=Qa,Bn.isLength=el,Bn.isMap=rl,Bn.isMatch=function(e,t){return e===t||Rr(e,t,fi(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Rr(e,t,fi(t),n)},Bn.isNaN=function(e){return ol(e)&&e!=+e},Bn.isNative=function(e){if(xi(e))throw new xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=ol,Bn.isObject=tl,Bn.isObjectLike=nl,Bn.isPlainObject=il,Bn.isRegExp=al,Bn.isSafeInteger=function(e){return Qa(e)&&e>=-9007199254740991&&e<=m},Bn.isSet=ll,Bn.isString=sl,Bn.isSymbol=ul,Bn.isTypedArray=cl,Bn.isUndefined=function(e){return e===o},Bn.isWeakMap=function(e){return nl(e)&&hi(e)==M},Bn.isWeakSet=function(e){return nl(e)&&"[object WeakSet]"==Er(e)},Bn.join=function(e,t){return null==e?"":jt.call(e,t)},Bn.kebabCase=Vl,Bn.last=Zi,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=vl(n))<0?bn(r+i,0):In(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):zt(e,Vt,i,!0)},Bn.lowerCase=Jl,Bn.lowerFirst=ql,Bn.lt=dl,Bn.lte=fl,Bn.max=function(e){return e&&e.length?hr(e,os,Tr):o},Bn.maxBy=function(e,t){return e&&e.length?hr(e,ci(t,2),Tr):o},Bn.mean=function(e){return Jt(e,os)},Bn.meanBy=function(e,t){return Jt(e,ci(t,2))},Bn.min=function(e){return e&&e.length?hr(e,os,Gr):o},Bn.minBy=function(e,t){return e&&e.length?hr(e,ci(t,2),Gr):o},Bn.stubArray=hs,Bn.stubFalse=gs,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=ws,Bn.nth=function(e,t){return e&&e.length?Wr(e,vl(t)):o},Bn.noConflict=function(){return vt._===this&&(vt._=Be),this},Bn.noop=us,Bn.now=Ta,Bn.pad=function(e,t,n){e=bl(e);var r=(t=vl(t))?mn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Jo(ht(o),n)+e+Jo(mt(o),n)},Bn.padEnd=function(e,t,n){e=bl(e);var r=(t=vl(t))?mn(e):0;return t&&r<t?e+Jo(t-r,n):e},Bn.padStart=function(e,t,n){e=bl(e);var r=(t=vl(t))?mn(e):0;return t&&r<t?Jo(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Cn(bl(e).replace(ae,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Si(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ml(e),t===o?(t=e,e=0):t=ml(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=wn();return In(e+i*(t-e+dt("1e-"+((i+"").length-1))),t)}return Kr(e,t)},Bn.reduce=function(e,t,n){var r=Va(e)?Ft:Kt,o=arguments.length<3;return r(e,ci(t,4),n,o,pr)},Bn.reduceRight=function(e,t,n){var r=Va(e)?Ut:Kt,o=arguments.length<3;return r(e,ci(t,4),n,o,mr)},Bn.repeat=function(e,t,n){return t=(n?Si(e,t,n):t===o)?1:vl(t),$r(bl(e),t)},Bn.replace=function(){var e=arguments,t=bl(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,i=(t=So(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Ui(t[r])];a===o&&(r=i,a=n),e=Ya(a)?a.call(e):a}return e},Bn.round=xs,Bn.runInContext=e,Bn.sample=function(e){return(Va(e)?Yn:Yr)(e)},Bn.size=function(e){if(null==e)return 0;if(qa(e))return sl(e)?mn(e):e.length;var t=hi(e);return t==P||t==N?e.size:Fr(e).length},Bn.snakeCase=Xl,Bn.some=function(e,t,n){var r=Va(e)?Gt:io;return n&&Si(e,t,n)&&(t=o),r(e,ci(t,3))},Bn.sortedIndex=function(e,t){return ao(e,t)},Bn.sortedIndexBy=function(e,t,n){return lo(e,t,ci(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ao(e,t);if(r<n&&Ba(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return ao(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return lo(e,t,ci(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ao(e,t,!0)-1;if(Ba(e[n],t))return n}return-1},Bn.startCase=Kl,Bn.startsWith=function(e,t,n){return e=bl(e),n=null==n?0:sr(vl(n),0,e.length),t=co(t),e.slice(n,n+t.length)==t},Bn.subtract=Ps,Bn.sum=function(e){return e&&e.length?$t(e,os):0},Bn.sumBy=function(e,t){return e&&e.length?$t(e,ci(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&Si(e,t,n)&&(t=o),e=bl(e),t=Cl({},t,r,ei);var i,a,l=Cl({},t.imports,r.imports,ei),s=_l(l),u=en(l,s),c=0,d=t.interpolate||Ce,f="__p += '",p=ke((t.escape||Ce).source+"|"+d.source+"|"+(d===ee?me:Ce).source+"|"+(t.evaluate||Ce).source+"|$","g"),m="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lt+"]")+"\n";e.replace(p,(function(t,n,r,o,l,s){return r||(r=o),f+=e.slice(c,s).replace(we,ln),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),l&&(a=!0,f+="';\n"+l+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+t.length,t})),f+="';\n";var v=Le.call(t,"variable")&&t.variable;if(v){if(fe.test(v))throw new xe("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(V,""):f).replace(J,"$1").replace(q,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var h=Ql((function(){return Pe(s,m+"return "+f).apply(o,u)}));if(h.source=f,Za(h))throw h;return h},Bn.times=function(e,t){if((e=vl(e))<1||e>m)return[];var n=h,r=In(e,h);t=ci(t),e-=h;for(var o=Zt(r,t);++n<e;)t(n);return o},Bn.toFinite=ml,Bn.toInteger=vl,Bn.toLength=hl,Bn.toLower=function(e){return bl(e).toLowerCase()},Bn.toNumber=gl,Bn.toSafeInteger=function(e){return e?sr(vl(e),-9007199254740991,m):0===e?e:0},Bn.toString=bl,Bn.toUpper=function(e){return bl(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=bl(e))&&(n||t===o))return Yt(e);if(!e||!(t=co(t)))return e;var r=vn(e),i=vn(t);return wo(r,nn(r,i),rn(r,i)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=bl(e))&&(n||t===o))return e.slice(0,hn(e)+1);if(!e||!(t=co(t)))return e;var r=vn(e);return wo(r,0,rn(r,vn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=bl(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=co(t)))return e;var r=vn(e);return wo(r,nn(r,vn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(tl(t)){var i="separator"in t?t.separator:i;n="length"in t?vl(t.length):n,r="omission"in t?co(t.omission):r}var a=(e=bl(e)).length;if(sn(e)){var l=vn(e);a=l.length}if(n>=a)return e;var s=n-mn(r);if(s<1)return r;var u=l?wo(l,0,s).join(""):e.slice(0,s);if(i===o)return u+r;if(l&&(s+=u.length-s),al(i)){if(e.slice(s).search(i)){var c,d=u;for(i.global||(i=ke(i.source,bl(ve.exec(i))+"g")),i.lastIndex=0;c=i.exec(d);)var f=c.index;u=u.slice(0,f===o?s:f)}}else if(e.indexOf(co(i),s)!=s){var p=u.lastIndexOf(i);p>-1&&(u=u.slice(0,p))}return u+r},Bn.unescape=function(e){return(e=bl(e))&&$.test(e)?e.replace(X,gn):e},Bn.uniqueId=function(e){var t=++Fe;return bl(e)+t},Bn.upperCase=$l,Bn.upperFirst=Zl,Bn.each=ba,Bn.eachRight=Ia,Bn.first=qi,ss(Bn,(Cs={},Sr(Bn,(function(e,t){Le.call(Bn.prototype,t)||(Cs[t]=e)})),Cs),{chain:!1}),Bn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),At(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===o?1:bn(vl(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=In(n,r.__takeCount__):r.__views__.push({size:In(n,h),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ci(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(os)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Or(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(La(ci(e)))},Vn.prototype.slice=function(e,t){e=vl(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=vl(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(h)},Sr(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Bn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Bn.prototype[t]=function(){var t=this.__wrapped__,l=r?[1]:arguments,s=t instanceof Vn,u=l[0],c=s||Va(t),d=function(e){var t=i.apply(Bn,Lt([e],l));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var f=this.__chain__,p=!!this.__actions__.length,m=a&&!f,v=s&&!p;if(!a&&c){t=v?t:new Vn(this);var h=e.apply(t,l);return h.__actions__.push({func:ma,args:[d],thisArg:o}),new Wn(h,f)}return m&&v?e.apply(this,l):(h=this.thru(d),m?r?h.value()[0]:h.value():h)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Va(o)?o:[],e)}return this[n]((function(n){return t.apply(Va(n)?n:[],e)}))}})),Sr(Vn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Le.call(_n,r)||(_n[r]=[]),_n[r].push({name:t,func:n})}})),_n[zo(o,2).name]=[{name:"wrapper",func:o}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Oo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oo(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=In(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,l=i.end,s=l-a,u=r?l:a-1,c=this.__iteratees__,d=c.length,f=0,p=In(s,this.__takeCount__);if(!n||!r&&o==s&&p==s)return ho(e,this.__actions__);var m=[];e:for(;s--&&f<p;){for(var v=-1,h=e[u+=t];++v<d;){var g=c[v],y=g.iteratee,b=g.type,I=y(h);if(2==b)h=I;else if(!I){if(1==b)continue e;break e}}m[f++]=h}return m},Bn.prototype.at=va,Bn.prototype.chain=function(){return pa(this)},Bn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===o&&(this.__values__=pl(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof Hn;){var r=ji(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:ma,args:[ta],thisArg:o}),new Wn(t,this.__chain__)}return this.thru(ta)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return ho(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Ye&&(Bn.prototype[Ye]=function(){return this}),Bn}();vt._=yn,(r=function(){return yn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},5660:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00Ny43NzY4IDI2LjIzNzVDNDguNzY0OSAyNC41ODc1IDUxLjIzNTEgMjQuNTg3NSA1Mi4yMjMzIDI2LjIzNzVMNzguOTAyMiA3MC43ODc1Qzc5Ljg5MDMgNzIuNDM3NSA3OC42NTUyIDc0LjUgNzYuNjc5IDc0LjVIMjMuMzIxQzIxLjM0NDggNzQuNSAyMC4xMDk3IDcyLjQzNzUgMjEuMDk3OCA3MC43ODc1TDQ3Ljc3NjggMjYuMjM3NVoiIHN0cm9rZT0iI0Y3RjdGOCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGNpcmNsZSBjeD0iNDkuOTI1IiBjeT0iNjIuMzUxNiIgcj0iMi4zNzUiIGZpbGw9IiNGN0Y3RjgiLz4KPHBhdGggZD0iTTQ5LjkyNSA1NC4yNVY0MyIgc3Ryb2tlPSIjRjdGN0Y4IiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K"},5796:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00Ny43NzY4IDI2LjIzNzVDNDguNzY0OSAyNC41ODc1IDUxLjIzNTEgMjQuNTg3NSA1Mi4yMjMzIDI2LjIzNzVMNzguOTAyMiA3MC43ODc1Qzc5Ljg5MDMgNzIuNDM3NSA3OC42NTUyIDc0LjUgNzYuNjc5IDc0LjVIMjMuMzIxQzIxLjM0NDggNzQuNSAyMC4xMDk3IDcyLjQzNzUgMjEuMDk3OCA3MC43ODc1TDQ3Ljc3NjggMjYuMjM3NVoiIHN0cm9rZT0iIzIwMjIyNyIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGNpcmNsZSBjeD0iNDkuOTI1IiBjeT0iNjIuMzUxNiIgcj0iMi4zNzUiIGZpbGw9IiMyMDIyMjciLz4KPHBhdGggZD0iTTQ5LjkyNSA1NC4yNVY0MyIgc3Ryb2tlPSIjMjAyMjI3IiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8L3N2Zz4K"},4452:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e,t,r,o,i,a,l,s,u,c,d,f=CoreUtilities,p=React,m=n.n(p),v=ReactDOM,h=ReactRouterDOM,g=ReactUtilities,y={common:["CommonUI.Features","Common.GameSorts","Feature.PlacesList"],feature:"Feature.GamePage"},b=y,I=ReactStyleGuide,S=Roblox,C=S.EnvironmentUrls.apiGatewayUrl,w={getExperimentationValues:function(e,t,n){return{url:C+"/product-experimentation-platform/v1/projects/"+e+"/layers/"+t+"/values?parameters="+n.join(","),withCredentials:!0}}},x={homePage:{},homePageWeb:{},gridUi:{},serverTab:{},gameDetails:{ShouldHidePrivateServersInAboutTab:!1,IsGameStorePreviewEnabled:!1},gameDetailsExposure:{},searchPage:{ShouldUseOmniSearchAPI:!1},discoverPage:{IsMusicChartsCarouselEnabled:!1},tileLayer:{},playButton:{}},P={homePage:"PlayerApp.HomePage.UX",homePageWeb:"Website.Homepage",gridUi:"PlayerApp.GridUI",serverTab:"GameDetails.ServersTab",gameDetails:"Website.GameDetails",gameDetailsExposure:"Website.GameDetails.Exposure",searchPage:"Website.SearchResultsPage",discoverPage:"Website.GamesPage",tileLayer:"Website.TileLayer",playButton:"Website.PlayButton"},E=S.EnvironmentUrls.apiGatewayUrl,T={url:{getOmniRecommendations:{url:E+"/discovery-api/omni-recommendation",withCredentials:!0},getOmniRecommendationsMetadata:{url:E+"/discovery-api/omni-recommendation-metadata",withCredentials:!0},getOmniSearch:{url:E+"/search-api/omni-search",withCredentials:!0},getExploreSorts:{url:E+"/explore-api/v1/get-sorts",withCredentials:!0},getExploreSortContents:{url:E+"/explore-api/v1/get-sort-content",withCredentials:!0},getSearchLandingPage:{url:E+"/search-api/search-landing-page",withCredentials:!0},getSurvey:function(e){return{url:E+"/rocap/v1/locations/"+e+"/prompts",withCredentials:!0}},postSurveyResults:function(e){return{url:E+"/rocap/v1/locations/"+e+"/annotations",withCredentials:!0}},getLandingPageData:function(){return{url:E+"/landing-page-api/landing-page",withCredentials:!0}}}};!function(e){e.Game="Game",e.CatalogAsset="CatalogAsset",e.CatalogBundle="CatalogBundle"}(e||(e={})),function(e){e.Carousel="Carousel",e.AvatarCarousel="AvatarCarousel",e.SortlessGrid="SortlessGrid",e.FriendCarousel="FriendCarousel",e.InterestGrid="InterestGrid",e.Pills="Pills",e.Sdui="sdui",e.SongCarousel="SongCarousel"}(t||(t={})),function(e){e.Carousel="Carousel",e.HeroUnit="HeroUnit"}(r||(r={})),function(e){e.Sponsored="Sponsored",e.SponsoredGame="SponsoredGame"}(o||(o={})),function(e){e.AppGameTileNoMetadata="AppGameTileNoMetadata",e.GridTile="GridTile",e.EventTile="EventTile",e.InterestTile="InterestTile",e.ExperienceEventsTile="ExperienceEventsTile"}(i||(i={})),function(e){e.Always="Always",e.Hover="Hover",e.Footer="Footer"}(a||(a={})),function(e){e.Disabled="Disabled",e.Enabled="Enabled"}(l||(l={})),function(e){e.imageOverlay="imageOverlay"}(s||(s={})),function(e){e.All="all"}(u||(u={})),function(e){e.Game="Game"}(c||(c={})),function(e){e.helpIcon="helpIcon"}(d||(d={}));var k,A=CoreRobloxUtilities,N="robloxAttributionIds";!function(e){e.GameDetailReferral="gameDetailReferral"}(k||(k={}));var O,_=function(e){var t=window,n=t[N];n||(n={},t[N]=n);var r=n[e];return r||(r=f.uuidService.generateRandomUuid(),n[e]=r),r},M=function(e){return"charts/"+e},R=function(e){return"charts/v2/"+e};!function(e){e.SearchPage="searchPage",e.SortDetailPageDiscover="sortDetailPageDiscover",e.SortDetailPageHome="sortDetailPageHome",e.GameDetailPage="gameDetailPage",e.GamesPage="gamesPage",e.HomePage="homePage",e.PeopleListInHomePage="peopleListInHomePage",e.InterestCatcher="interestCatcher",e.SearchLandingPage="searchLandingPage",e.SpotlightPage="spotlightPage"}(O||(O={}));var D,L,F,U,G,j,B,z,H=function(){return H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},H.apply(this,arguments)},W=function(e,t,n){return void 0===n&&(n={}),f.urlService.getUrlWithQueries(A.entityUrl.game.getRelativePath(e)+"/"+f.seoName.formatSeoName(t),n)},V=function(e,t){var n=encodeURIComponent(e);switch(t){case O.HomePage:return R(n);case O.GamesPage:return M(n);default:return R(n)}},J=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={});var o=V(e,t);return f.urlService.getUrlWithQueries(o,H(H({},n),r))},q=function(e,t,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),S.Endpoints.attachRelativeUrlLocale(f.urlService.getRelativeUrlWithQueries("/"+V(e,t),H(H({},n),r)))},X=function(){return document.referrer},K=W,$=function(){return $=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$.apply(this,arguments)},Z=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Y=A.eventStreamService.eventTypes,Q=Y.pageLoad,ee=Y.formInteraction;!function(e){e.AbsPositions="absPositions",e.AdsPositions="adsPositions",e.AdFlags="adFlags",e.Algorithm="algorithm",e.AppliedFilters="appliedFilters",e.AttributionId="attributionId",e.ComponentType="componentType",e.Direction="direction",e.Distance="distance",e.HttpReferrer="httpReferrer",e.EmphasisFlag="emphasisFlag",e.FilterId="filterId",e.FilterIds="filterIds",e.FooterTextLiterals="footerTextLiterals",e.FooterLocalizationKeys="footerLocalizationKeys",e.GameSetTargetId="gameSetTargetId",e.GameSetTypeId="gameSetTypeId",e.InteractionType="interactionType",e.IsAd="isAd",e.NativeAdData="nativeAdData",e.AdIds="adIds",e.NumberOfLoadedTiles="numberOfLoadedTiles",e.Page="page",e.PageSession="pageSession",e.PlaceId="placeId",e.PlayContext="playContext",e.Position="position",e.PreviousOptionId="previousOptionId",e.PromptId="promptId",e.PromptText="promptText",e.ResourceId="resourceId",e.ResponseOptionIds="responseOptionIds",e.ResponseOptionTexts="responseOptionTexts",e.RootPlaceIds="rootPlaceIds",e.SelectedIds="selectedIds",e.SelectedTexts="selectedTexts",e.ScreenSizeX="screenSizeX",e.ScreenSizeY="screenSizeY",e.ScrollAreaSize="scrollAreaSize",e.ScrollDepth="scrollDepth",e.SelectedOptionId="selectedOptionId",e.SelectedOptionIds="selectedOptionIds",e.ShareLinkType="shareLinkType",e.ShareLinkId="shareLinkId",e.SortId="sortId",e.SortPos="sortPos",e.StartDepth="startDepth",e.StartPos="startPos",e.SubPageName="subPageName",e.SuggestionKwd="suggestionKwd",e.SuggestionReplacedKwd="suggestionReplacedKwd",e.SuggestionCorrectedKwd="suggestionCorrectedKwd",e.SuggestionAlgorithm="suggestionAlgorithm",e.TimeToRespond="timeToRespond",e.Token="token",e.Topics="topics",e.TreatmentType="treatmentType",e.UniverseId="universeId",e.UniverseIds="universeIds",e.FriendId="friendId",e.ThumbnailAssetIds="thumbnailAssetIds",e.ThumbnailListIds="thumbnailListIds",e.LinkPath="linkPath",e.LocationName="locationName",e.RowsOnPage="rowsOnPage",e.PositionsInRow="positionsInRow",e.NavigationUids="navigationUids",e.TileBadgeContexts="tileBadgeContexts",e.ButtonName="buttonName",e.IsInterested="isInterested",e.InterestedUniverseIds="interestedUniverseIds"}(L||(L={})),function(e){e.GameImpressions="gameImpressions",e.GameDetailReferral="gameDetailReferral",e.SortDetailReferral="sortDetailReferral",e.FeedScroll="feedScroll",e.NavigateToSortLink="navigateToSortLink",e.SurveyInteraction="surveyInteraction",e.SurveyImpression="surveyImpression",e.InterestCatcherClick="interestCatcherClick",e.FilterImpressions="filterImpressions",e.GamesFilterClick="gamesFilterClick",e.RequestRefundClick="requestRefundClick"}(F||(F={})),function(e){e.HomePageSessionInfo="homePageSessionInfo",e.GameSearchSessionInfo="gameSearchSessionInfo",e.DiscoverPageSessionInfo="discoverPageSessionInfo",e.SearchLandingPageSessionInfo="searchLandingPageSessionInfo",e.SpotlightPageSessionInfo="spotlightPageSessionInfo"}(U||(U={})),function(e){e.Submission="submission",e.Cancellation="cancellation"}(G||(G={})),function(e){e.Horizontal="horizontal",e.Vertical="vertical"}(j||(j={})),function(e){e.Skip="skip",e.Continue="continue",e.Interested="interested"}(B||(B={})),function(e){e.OpenDropdown="openDropdown",e.CloseDropdown="closeDropdown",e.Apply="apply"}(z||(z={}));var te=((D={})[F.GameImpressions]=function(e){var t=Z(e,[]);return[{name:F.GameImpressions,type:F.GameImpressions,context:ee},ce($({},t))]},D[F.GameDetailReferral]=function(e){var t;return void 0===e&&(e={}),[{name:F.GameDetailReferral,type:F.GameDetailReferral,context:Q},ce($((t={},t[L.AttributionId]=_(k.GameDetailReferral),t[L.HttpReferrer]=X(),t),e))]},D[F.SortDetailReferral]=function(e){return void 0===e&&(e={}),[{name:F.SortDetailReferral,type:F.SortDetailReferral,context:Q},ce($({},e))]},D[F.NavigateToSortLink]=function(e){return void 0===e&&(e={}),[{name:F.NavigateToSortLink,type:F.NavigateToSortLink,context:ee},ce($({},e))]},D[F.SurveyInteraction]=function(e){return void 0===e&&(e={}),[{name:F.SurveyInteraction,type:F.SurveyInteraction,context:ee},ce($({},e))]},D[F.SurveyImpression]=function(e){return void 0===e&&(e={}),[{name:F.SurveyImpression,type:F.SurveyImpression,context:ee},ce($({},e))]},D[F.InterestCatcherClick]=function(e){return void 0===e&&(e={}),[{name:F.InterestCatcherClick,type:F.InterestCatcherClick,context:ee},ce($({},e))]},D[F.FilterImpressions]=function(e){return void 0===e&&(e={}),[{name:F.FilterImpressions,type:F.FilterImpressions,context:ee},ce($({},e))]},D[F.GamesFilterClick]=function(e){return void 0===e&&(e={}),[{name:F.GamesFilterClick,type:F.GamesFilterClick,context:ee},ce($({},e))]},D[F.RequestRefundClick]=function(e){var t;return[{name:F.RequestRefundClick,type:F.RequestRefundClick,context:ee},ce((t={},t[L.PlaceId]=e.placeId,t))]},D),ne=function(e,t){return e.layoutDataBySort&&void 0!==t&&e.layoutDataBySort[t]?e.layoutDataBySort[t]:e.defaultLayoutData},re=function(e,t){return(0,p.useMemo)((function(){return ne(e,t)}),[e,t])},oe=function(){return oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},oe.apply(this,arguments)},ie=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},ae="--",le=(new S.Intl).getDateTimeFormatter(),se=function(e,t){return e.filter((function(e){var n,r;return(null===(n=e.presence)||void 0===n?void 0:n.universeId)===t&&(null===(r=e.presence)||void 0===r?void 0:r.userPresenceType)===S.Presence.PresenceTypes.InGame}))},ue=function(e,t){var n=0;if(void 0!==e&&void 0!==t){if(!Number.isNaN(e)&&!Number.isNaN(t)){if(0===e&&0===t)return;n=0===e&&0!==t?0:0!==e&&0===t||(n=Math.floor(e/(e+t)*100))>100?100:n}return n}},ce=function(e){return Object.keys(e).reduce((function(t,n){return"object"==typeof e[n]&&e[n]&&(t[n]=JSON.stringify(e[n])),"number"==typeof e[n]&&(t[n]=e[n]),"string"==typeof e[n]&&(t[n]=encodeURIComponent(e[n])),"boolean"==typeof e[n]&&(t[n]=e[n]?1:0),t}),{})},de=function(e,t){var n,r=t.some((function(t){var n;return null===(n=e[t])||void 0===n?void 0:n.isSponsored}));return r?((n={})[L.AdsPositions]=t.map((function(t){return e[t].isSponsored?1:0})),n[L.AdFlags]=t.map((function(t){return e[t].isSponsored?1:0})),n[L.AdIds]=t.map((function(t){var n;return(null===(n=e[t])||void 0===n?void 0:n.nativeAdData)||"0"})),n):{}},fe=function(e,t){var n,r=function(e){var t,n=null===(t=null==e?void 0:e.primaryMediaAsset)||void 0===t?void 0:t.wideImageAssetId;return n&&"0"!==n?parseInt(n,10):null};return e.layoutDataBySort&&t&&e.layoutDataBySort[t]?n=r(e.layoutDataBySort[t]):e.defaultLayoutData&&(n=r(e.defaultLayoutData)),n||r(e)},pe=function(e,t,n,r){var o;return r===i.GridTile||r===i.EventTile||r===i.InterestTile?((o={})[L.ThumbnailAssetIds]=n.map((function(n){var r;return null!==(r=fe(e[n],t.toString()))&&void 0!==r?r:"0"})),o[L.ThumbnailListIds]=n.map((function(n){var r;return null!==(r=function(e,t){var n,r,o;return e.layoutDataBySort&&t&&e.layoutDataBySort[t]?null===(n=e.layoutDataBySort[t].primaryMediaAsset)||void 0===n?void 0:n.wideImageListId:e.defaultLayoutData?null===(r=e.defaultLayoutData.primaryMediaAsset)||void 0===r?void 0:r.wideImageListId:null===(o=e.primaryMediaAsset)||void 0===o?void 0:o.wideImageListId}(e[n],t.toString()))&&void 0!==r?r:"0"})),o):{}},me=function(e,t,n,r){var o,a;if(r!==i.GridTile&&r!==i.EventTile&&r!==i.InterestTile)return{};var l=[],s=[],u=!1,c=!1;return n.forEach((function(n){if(e[n]){var r=t?t.toString():void 0,o=function(e){var t,n,r,o,i,a;return{textLiteral:null!==(r=null===(n=null===(t=null==e?void 0:e.footer)||void 0===t?void 0:t.analytics)||void 0===n?void 0:n.textLiteral)&&void 0!==r?r:"0",localizationKey:null!==(a=null===(i=null===(o=null==e?void 0:e.footer)||void 0===o?void 0:o.analytics)||void 0===i?void 0:i.locKey)&&void 0!==a?a:"0"}}(ne(e[n],r)),i=o.textLiteral,a=o.localizationKey;l.push(i),s.push(a),"0"!==i&&(u=!0),"0"!==a&&(c=!0)}})),oe(oe({},u?((o={})[L.FooterTextLiterals]=l,o):{}),c?((a={})[L.FooterLocalizationKeys]=s,a):{})},ve=function(e){var t=e.tileBadgesByPosition,n=[];if(t){if(t.ImageTopLeft){var r=t.ImageTopLeft.map((function(e){return e.analyticsId}));r&&r.length>0&&n.push("ImageTopLeft="+r.join("+"))}return n.length>0?n.join("&"):void 0}},he=function(e,t,n,r){var o;return r===i.GridTile||r===i.EventTile||r===i.InterestTile?((o={})[L.TileBadgeContexts]=n.map((function(n){var r;return null!==(r=function(e,t){var n;return e.layoutDataBySort&&t&&e.layoutDataBySort[t]?n=ve(e.layoutDataBySort[t]):e.defaultLayoutData&&(n=ve(e.defaultLayoutData)),n}(e[n],t.toString()))&&void 0!==r?r:"0"})),o):{}},ge=function(e,t,n,r){var o;if(void 0!==e&&void 0!==t&&void 0!==n){var i=[],a=[];return r.forEach((function(n){var r=e+Math.floor(n/t),o=n%t;i.push(r),a.push(o)})),(o={})[L.RowsOnPage]=i,o[L.PositionsInRow]=a,o}return{}},ye=f.urlService.parseQueryString,be=f.numberFormat.getNumberFormat,Ie=function(e){return void 0!==e?{inputUniverseIds:{interestCatcher:e.map((function(e){return e.toString()}))}}:{}},Se={capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},parseEventParams:ce,getInGameFriends:se,getVotePercentageValue:ue,getVotePercentage:function(e,t){var n=ue(e,t);return void 0!==n?n+"%":void 0},getPlayerCount:function(e){return-1===e?ae:f.abbreviateNumber.getAbbreviatedValue(e)},getNumberFormat:be,dateTimeFormatter:le,parseQueryString:ye,composeQueryString:function(e){var t=f.urlService.composeQueryString(e);return t?"?"+t:""},getSponsoredAdImpressionsData:de,getThumbnailAssetIdImpressionsData:pe,getTileBadgeContextsImpressionsData:he,getTileFooterImpressionsData:me,calculateImpressedIndexes:function(e,t){if(void 0===e)return Array.from(new Array(t[1]-t[0]+1),(function(e,n){return n+t[0]}));var n=t[0]<e[0]?[t[0],e[0]]:void 0,r=t[1]>e[1]?[e[1],t[1]]:void 0,o=n?new Array(n[1]-n[0]).fill(0).map((function(e,t){return t+n[0]})):[],i=r?new Array(r[1]-r[0]).fill(0).map((function(e,t){return t+r[0]+1})):[];return ie(ie([],o),i)},splitArray:function(e,t){if(0===e.length||0===t)return[e];var n=Math.ceil(e.length/t);return new Array(n).fill(0).map((function(n,r){return e.slice(r*t,(r+1)*t)}))},GAME_STATS_PLACEHOLDER_STRING:ae,getQueryParamIfString:function(e){var t=f.urlService.getQueryParam(e);if(t&&"string"==typeof t)return t},getInputUniverseIdsRequestParam:Ie},Ce=function(){return Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ce.apply(this,arguments)},we=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},xe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Pe=function(e){return we(void 0,void 0,Promise,(function(){return xe(this,(function(t){return[2,f.httpService.get({url:S.EnvironmentUrls.thumbnailsApi+"/v1/assets",timeout:1e4,withCredentials:!0},{assetIds:[e],size:"768x432",format:"Png"}).then((function(e){var t,n,r,o;return"Completed"===(null===(n=null===(t=e.data.data)||void 0===t?void 0:t[0])||void 0===n?void 0:n.state)&&(null===(o=null===(r=e.data.data)||void 0===r?void 0:r[0])||void 0===o?void 0:o.imageUrl)?e.data.data[0].imageUrl:Promise.reject()}))]}))}))},Ee=function(e,t,n){return void 0===n&&(n=1),we(void 0,void 0,Promise,(function(){var r,o;return xe(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,f.httpService.get(w.getExperimentationValues(n,e,Object.keys(t)))];case 1:return r=i.sent().data,o=Object.keys(r).reduce((function(e,t){return null!==r[t]&&(e[t]=r[t]),e}),{}),[2,Ce(Ce({},t),o)];case 2:return i.sent(),[2,t];case 3:return[2]}}))}))},Te=function(e,n,r,o,i,a){return we(void 0,void 0,Promise,(function(){var l,s;return xe(this,(function(u){switch(u.label){case 0:return l=Ce(Ce({pageType:e,sessionId:n,supportedTreatmentTypes:[t.SortlessGrid],sduiTreatmentTypes:a,authIntentData:o},r),Ie(i)),[4,f.httpService.post(T.url.getOmniRecommendations,l)];case 1:return s=u.sent().data,Object.keys(s.contentMetadata.Game).forEach((function(e){var t=s.contentMetadata.Game[e];t.placeId=t.rootPlaceId})),[2,s]}}))}))},ke=function(e,t){return we(void 0,void 0,Promise,(function(){var n;return xe(this,(function(r){switch(r.label){case 0:return[4,f.httpService.post(T.url.getOmniRecommendationsMetadata,{contents:e,sessionId:t})];case 1:return n=r.sent().data,Object.keys(n.contentMetadata.Game).forEach((function(e){var t=n.contentMetadata.Game[e];t.placeId=t.rootPlaceId})),[2,n]}}))}))},Ae=function(e,t,n,r){var o={};return n.forEach((function(e,t){o[t]=e})),f.httpService.get(T.url.getExploreSorts,Ce(Ce(Ce({},o),r),{sessionId:e,sortsPageToken:t})).then((function(e){return e.data}))},Ne=function(e,t,n,r,o){var i={};return r.forEach((function(e,t){i[t]=e})),f.httpService.get(T.url.getExploreSortContents,Ce(Ce(Ce({},i),o),{sessionId:e,sortId:t,pageToken:n})).then((function(e){return e.data}))},Oe=function(){return S.Guac.callBehaviour("app-policy")},_e=function(e){return we(void 0,void 0,Promise,(function(){var t,n;return xe(this,(function(r){switch(r.label){case 0:return t={url:S.EnvironmentUrls.apiGatewayUrl+"/user-profile-api/v1/user/profiles/get-profiles",retryable:!0,withCredentials:!0},n={userIds:e,fields:["names.combinedName","names.username"]},[4,f.httpService.post(t,n)];case 1:return[2,r.sent().data]}}))}))},Me={ActionApply:"Action.Apply",LabelSponsoredAd:"Label.SponsoredAd",LabelNoSearchResults:"LabelNoSearchResults",LabelPlayingOnePlusUsersWithComma:"LabelPlayingOnePlusUsersWithComma",LabelPlayingOneUser:"LabelPlayingOneUser",LabelBy:"LabelCreatorBy",LabelByPrefix:"Label.By"},Re={LabelApiError:"Label.ApiError",LabelGames:"Label.Games",LabelSponsoredAdsDisclosureStatic:"Label.SponsoredAdsDisclosureStatic",LabelContentLoadFailed:"Label.ContentLoadFailed"},De={LabelCharts:"Label.Charts",LabelsHome:"Label.sHome",ActionClose:"Action.Close",ActionDropdownSelected:"Action.DropdownSelected",ActionDropdownNotSelected:"Action.DropdownNotSelected"},Le={ActionSeeAll:"Action.SeeAll",ActionInterestCatcherContinue:"Action.InterestCatcherContinue",ActionInterestCatcherContinueSelected:"Action.InterestCatcherContinueSelected",ActionInterestCatcherSkip:"Action.InterestCatcherSkip",ActionInterestCatcherInterested:"Action.InterestCatcherInterested"},Fe={HeadingDescription:"Heading.Description",LabelAgeGuidelines:"Label.AgeGuidelines",LabelLearnMore:"Label.LearnMore",LabelBy:"Label.By",LabelPlaying:"Label.Playing",LabelFavorites:"Label.Favorites",LabelVisits:"Label.Visits",LabelCreated:"Label.Created",LabelUpdated:"Label.Updated",LabelMaxPlayers:"Label.MaxPlayers",LabelGenre:"Label.Genre",LabelSubgenre:"Label.Subgenre",LabelReportAbuse:"Label.ReportAbuse",LabelPlaceCopyingAllowed:"Label.PlaceCopyingAllowed",LabelVoiceEnabled:"Label.VoiceEnabled",LabelContentFailedToLoad:"Label.ContentFailedToLoad",LabelYes:"Label.Yes",LabelNo:"Label.No",LabelUnavailable:"Label.Unavailable",LabelSuitableForEveryone:"Label.SuitableForEveryone",LabelMicrophone:"Label.Microphone",LabelCamera:"Label.Camera",LabelNone:"Label.None",LabelThankYou:"Label.ThankYouMessage",LabelGenreUnderConstruction:"Label.GenreUnderConstruction",LabelGenreInProgress:"Label.GenreInProgress",HeadingRecommendedGames:"Heading.RecommendedGames",ActionSwapToSource:"Action.SwapToSource",ActionSwapToTranslation:"Action.SwapToTranslation",ActionTranslate:"Action.Translate",LabelNotSupported:"Label.NotSupported",LabelSupported:"Label.Supported",LabelVoiceChat:"Label.VoiceChat",HeadingRefund:"Heading.Refund",ActionRequestRefund:"Action.RequestRefund",HeadingNotice:"Body.NotesTitle",InExperiencePurchase:"Notes.InExperiencePurchase"},Ue=n(5796),Ge=n.n(Ue),je=n(5660),Be=n.n(je),ze=function(){return ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ze.apply(this,arguments)};function He(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function We(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=We(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}var Ve=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=We(e))&&(r&&(r+=" "),r+=t);return r},Je=function(){return m().createElement("div",{role:"presentation",className:"absolute inset-[0] transition-colors group-hover/interactable:bg-[var(--color-state-hover)] group-active/interactable:bg-[var(--color-state-press)] group-disabled/interactable:bg-none"})};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.foundation-web-loading-spinner{animation:rotation 1s linear infinite normal}");var qe=function(e){var t=e.width,n=e.height;return m().createElement("svg",{className:"foundation-web-loading-spinner",width:t,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M10 2.75C8.56609 2.75 7.16438 3.1752 5.97212 3.97185C4.77986 4.76849 3.85061 5.90078 3.30188 7.22554C2.75314 8.55031 2.60957 10.008 2.88931 11.4144C3.16905 12.8208 3.85955 14.1126 4.87348 15.1265C5.88741 16.1405 7.17924 16.831 8.5856 17.1107C9.99196 17.3904 11.4497 17.2469 12.7745 16.6981C14.0992 16.1494 15.2315 15.2201 16.0282 14.0279C16.8248 12.8356 17.25 11.4339 17.25 10C17.25 9.58579 17.5858 9.25 18 9.25C18.4142 9.25 18.75 9.58579 18.75 10C18.75 11.7306 18.2368 13.4223 17.2754 14.8612C16.3139 16.3002 14.9473 17.4217 13.3485 18.0839C11.7496 18.7462 9.9903 18.9195 8.29296 18.5819C6.59563 18.2443 5.03653 17.4109 3.81282 16.1872C2.58911 14.9635 1.75575 13.4044 1.41813 11.707C1.08051 10.0097 1.25379 8.25037 1.91606 6.65152C2.57832 5.05267 3.69983 3.6861 5.13876 2.72464C6.57769 1.76318 8.26942 1.25 10 1.25C10.4142 1.25 10.75 1.58579 10.75 2C10.75 2.41421 10.4142 2.75 10 2.75Z"}))},Xe=["Emphasis","Standard","SoftEmphasis","ActionUtility","Alert"],Ke=["XSmall","Small","Medium","Large"],$e={Large:24,Medium:20,Small:16,XSmall:12},Ze={Large:["radius-medium","text-label-large","height-1200","padding-x-large"],Medium:["radius-medium","text-label-medium","height-1000","padding-x-medium"],Small:["radius-medium","text-label-small","height-800","padding-x-small"],XSmall:["radius-small","text-label-small","height-600","padding-x-small"]},Ye={Emphasis:["bg-action-emphasis","content-action-emphasis"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-soft-emphasis","content-action-soft-emphasis"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-alert","content-action-alert"]},Qe={Emphasis:["bg-action-standard","content-action-standard"],Standard:["bg-action-standard","content-action-standard"],SoftEmphasis:["bg-action-standard","content-action-standard"],ActionUtility:["bg-action-subtle","content-action-standard"],Alert:["bg-action-standard","content-action-standard"]},et=(0,p.forwardRef)((function(e,t){var n=e.children,r=e.className,o=e.style,i=e.as,a=e.isDisabled,l=void 0!==a&&a,s=e.isLoading,u=void 0!==s&&s,c=e.size,d=void 0===c?"Large":c,f=e.variant,p=void 0===f?"Emphasis":f,v=He(e,["children","className","style","as","isDisabled","isLoading","size","variant"]),h=null!=i?i:"button",g=v.href,y=He(v,["href"]);return m().createElement(h,ze({ref:t,type:"button"===h?"button":void 0,disabled:l,"aria-disabled":l,href:l?void 0:g},y,{className:Ve("foundation-web-button","relative clip group/interactable focus-visible:outline-focus disabled:outline-none",l?"opacity-[0.5]":"cursor-pointer","flex items-center justify-center stroke-none padding-y-none select-none",Ze[d],l?Qe[p]:Ye[p],r),style:ze({textDecoration:"none"},o)}),m().createElement(Je,null),u&&m().createElement("div",{"aria-hidden":"true",className:"absolute flex"},m().createElement(qe,{width:$e[d],height:$e[d]})),m().createElement("span",{className:Ve("padding-y-xsmall text-truncate-end text-no-wrap",u&&"invisible")},n))})),tt={maxTilesPerCarouselPage:6,maxWideGameTilesPerCarouselPage:4,minWideGameTilesPerCarouselPage:2,gameTileWidth:150,homeFeedMaxWidth:970,wideGameTileTilesPerRowBreakpointWidth:738,sortlessGridMaxTilesMetadataToFetch:300,adSortHomePageId:4e8,topicIdsWithoutSeeAll:[5e8,500000001],friendsCarouselAngularBootstrapErrorEvent:"HomePageFriendsCarouselBootstrapError",missingNumberOfRowsForLoggingErrorEvent:"HomePageMissingNumberOfRowsForLoggingError",omniRecommendationEndpointErrorEvent:"HomePageOmniRecommendationEndpointError",omniRecommendationEndpointSuccessEvent:"HomePageOmniRecommendationEndpointSuccess",omniRecommendationFeedStatsLoggingErrorEvent:"HomePageOmniRecommendationFeedStatsLoggingError",linkStartDelimiter:"{linkStart}",linkEndDelimiter:"{linkEnd}"},nt={numGameCarouselLookAheadWindows:3,adSortDiscoverId:27,carouselContainerBufferWidth:80,gameTileGutterWidth:14,wideGameTileGutterWidth:16,scrollerWidth:30},rt={maxTilesInGameImpressionsEvent:25,gameImpressionsIntersectionThreshold:.5,filterImpressionsIntersectionThreshold:.5,wideTileHoverGrowWidthPx:26,numberOfInGameAvatarIcons:3,numberOfInGameNames:1,maxFacepileFriendCountValue:99,numberOfGameTilesPerLoad:60,numberOfGamePassesPerLoad:50,keyBoardEventCode:{enter:"Enter",escape:"Escape"},RatingPercentageText:"Label.RatingPercentage"},ot=.1,it=-1,at=5,lt="MismatchedGamesSortMergeError",st="MismatchedSongsSortMergeError",ut=tt,ct=nt,dt=rt,ft={retryText:"Action.Retry",somethingWentWrongText:"Response.SomethingWentWrong"},pt=(0,g.withTranslations)((function(e){var t=e.errorSubtext,n=e.onRefresh,r=e.translate,o=(0,g.useTheme)();return m().createElement("div",{"data-testid":"error-container",className:"discovery-error-container"},m().createElement("div",{className:"error-container-content"},m().createElement("img",{"data-testid":"error-container-image",className:"error-container-content-image",src:"dark"===o?Be():Ge(),alt:""}),m().createElement("h2",null,r(ft.somethingWentWrongText)),m().createElement("p",{className:"error-container-content-subtext"},t)),n&&m().createElement(et,{"data-testid":"error-refresh-button",variant:"Standard",size:"Medium",onClick:n},m().createElement("span",null,r(ft.retryText))))}),{common:["CommonUI.Messages","CommonUI.Controls"],feature:""}),mt=n(4452),vt=n.n(mt),ht=function(e,t){var n;return void 0===t&&(t=300),[function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){e.apply(undefined,r)}),t)},function(){clearTimeout(n)}]};var gt,yt=function(){var e=(0,p.useState)(!1),t=e[0],n=e[1],r=ht((function(){n(!0)}),100),o=r[0],i=r[1],a=ht((function(){n(!1)}),100),l=a[0],s=a[1];return[t,function(){s(),o()},function(){i(),l()}]},bt=HeaderScripts,It=S.EnvironmentUrls.gamesApi,St={url:{getOmniRecommendations:function(e,t){return{url:It+"/v1/games/omni-recommendations?model.pageType="+e+(void 0!==t?"&model.sessionId="+t:""),withCredentials:!0}},getOmniRecommendationsMetadata:{url:It+"/v1/games/omni-recommendations-metadata",withCredentials:!0},getGameList:{url:It+"/v1/games/list",withCredentials:!0},getGamePasses:function(e,t){return{url:It+"/v1/games/"+e+"/game-passes?limit="+t,withCredentials:!0}},getGameRecommendations:function(e){return{url:It+"/v1/games/recommendations/game/"+e,withCredentials:!0}},getGameSorts:{url:It+"/v1/games/sorts",withCredentials:!0},getUniverseVoiceStatus:function(e){return{withCredentials:!0,url:S.EnvironmentUrls.voiceApi+"/v1/settings/universe/"+e}},getVoiceOptInStatus:{withCredentials:!0,url:S.EnvironmentUrls.voiceApi+"/v1/settings/user-opt-in"},getAssetDataFromAssetId:function(e){return{url:S.EnvironmentUrls.assetDeliveryApi+"/v2/assetId/"+e,withCredentials:!0}}},defaultCacheCriteria:{refreshCache:!1,expirationWindowMS:3e4,useCache:!0}},Ct=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},wt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},xt=St.defaultCacheCriteria,Pt=A.dataStores.gamesDataStore,Et=A.dataStores.userDataStoreV2,Tt=(A.dataStores.localeDataStore,A.dataStores.userDataStore.FriendsUserSortType),kt=function(){return Et.getFriends({userId:null===bt.authenticatedUser||void 0===bt.authenticatedUser?void 0:bt.authenticatedUser.id,userSort:Tt.StatusFrequents,isGuest:!1},xt)},At=function(e){return Ct(void 0,void 0,Promise,(function(){return wt(this,(function(t){switch(t.label){case 0:return[4,Pt.getGameDetails([e])];case 1:return[2,t.sent().data.data[0]]}}))}))},Nt=function(e){return Ct(void 0,void 0,Promise,(function(){var t;return wt(this,(function(n){switch(n.label){case 0:return[4,Pt.getPlaceDetails([e])];case 1:return t=n.sent().data,[2,(void 0===t?[]:t)[0]]}}))}))},Ot=function(e){return f.httpService.get(St.url.getAssetDataFromAssetId(e)).then((function(e){return e.data}))};!function(e){e.INVALID="Invalid",e.IMAGE_TOP_LEFT="ImageTopLeft",e.IMAGE_BOTTOM_LEFT="ImageBottomLeft"}(gt||(gt={}));var _t,Mt,Rt,Dt,Lt,Ft,Ut,Gt;!function(e){e.Home="Home",e.Games="Games"}(_t||(_t={})),function(e){e.Games="Games"}(Mt||(Mt={})),function(e){e.Carousel="Carousel"}(Rt||(Rt={})),function(e){e.Invalid="Invalid",e.HasLootBoxes="HasLootBoxes",e.HasInGameTrading="HasInGameTrading",e.IsUsingLootBoxApi="IsUsingLootBoxApi",e.IsUsingInGameTradingApi="IsUsingInGameTradingApi",e.HasAllowedExternalLinkReferences="HasAllowedExternalLinkReferences",e.IsUsingAllowedExternalLinkReferencesApi="IsUsingAllowedExternalLinkReferencesApi"}(Dt||(Dt={})),function(e){e.MorphToR6="MorphToR6",e.PlayerChoice="PlayerChoice",e.MorphToR15="MorphToR15"}(Lt||(Lt={})),function(e){e.Scroll="Scroll",e.Button="Button"}(Ft||(Ft={})),function(e){e.TextLabel="TextLabel"}(Ut||(Ut={})),function(e){e.Text="Text",e.Icon="Icon"}(Gt||(Gt={}));var jt=function(e){return"icons/menu/gem_small"===e?"icon-gem-dark-stroke":null},Bt=function(e){return e.isShimmerEnabled?"shimmer-animation":null},zt=function(e){return e===gt.IMAGE_TOP_LEFT?"game-card-pill-top-left":""},Ht=function(e){var t,n,r=[],o=null===(n=null==e?void 0:e.tileBadgesByPosition)||void 0===n?void 0:n.ImageTopLeft;return o&&o.length&&(r=o.map((function(e){var t={id:e.analyticsId};if(e.tileBadgeType===Gt.Text&&e.text)t.text=e.text,t.animationClass=Bt(e);else if(e.tileBadgeType===Gt.Icon&&e.icons){var n=e.icons.map((function(e){return jt(e)})).filter((function(e){return!!e}));t.icons=n,t.animationClass=Bt(e)}return t}))),r.length?((t={})[gt.IMAGE_TOP_LEFT]=r,t):null},Wt=function(e){var t;return(null===(t=null==e?void 0:e.footer)||void 0===t?void 0:t.type)===Ut.TextLabel?e.footer:null},Vt=RobloxThumbnails,Jt=PropTypes,qt=n.n(Jt),Xt="Label.ContextMenuTitle",Kt="Action.ViewDetails",$t="Action.JoinGame",Zt={goToProfileInPlacesList:{name:"goToProfileInPlacesList",ctx:"click"},openModalFromGameTile:{name:"openModalFromGameTile",ctx:"click"},goToChatInPlacesList:{name:"goToChatInPlacesList",ctx:"click"},joinGameInPlacesList:{name:"joinGameInPlacesList",ctx:"click"},goToGameDetailInPlacesList:{name:"goToGameDetailInPlacesList",ctx:"click"},gamePlayIntentInPlacesList:{ctx:"placesListInHomePage"}};function Yt(e){var t=e.game,n=e.translate,r=t.universeId,o=t.name,i=t.referralUrl,a=t.isPlayable,l=m().createElement(Vt.Thumbnail2d,{type:Vt.ThumbnailTypes.gameIcon,size:Vt.DefaultThumbnailSize,targetId:r,imgClassName:"game-card-thumb",format:Vt.ThumbnailFormat.jpeg});return m().createElement("div",{className:"border-bottom player-interaction-container"},m().createElement("span",{className:"cursor-pointer game-icon"},m().createElement(I.Link,{url:i,className:"game-card-link"},l)),m().createElement("span",{className:"game-info-container"},m().createElement(I.Link,{url:i,className:"game-name"},o),!a&&m().createElement(I.Link,{url:i,className:"btn-control-sm game-link"},n(Kt))))}Yt.propTypes={game:qt().shape({universeId:qt().number,placeId:qt().number,name:qt().string,playerCount:qt().number,isShowSponsoredLabel:qt().bool,nativeAdData:qt().string,imageUrl:qt().string,referralUrl:qt().string,isPlayable:qt().bool}).isRequired,translate:qt().func.isRequired};var Qt=Yt;function en(e){var t=e.playerId,n=e.altName;return m().createElement("div",{className:"avatar-card-link"},m().createElement(Vt.Thumbnail2d,{type:Vt.ThumbnailTypes.avatarHeadshot,size:Vt.ThumbnailAvatarHeadshotSize.size48,targetId:t,imgClassName:"avatar-card-image",format:Vt.ThumbnailFormat.webp,altName:n}))}en.defaultProps={altName:""},en.propTypes={playerId:qt().number.isRequired,altName:qt().string};var tn=en;function nn(e){var t=e.playerData,n=e.dismissModal,r=e.isPlayable,o=e.translate,i=t.presence,a=i.rootPlaceId,l=i.placeId,s=i.gameId,u=t.id,c=t.nameForDisplay;return m().createElement("div",{className:"border-bottom player-info"},m().createElement("span",{className:"player-name"},c),m().createElement(I.Button,{className:"cursor-pointer btn-primary-sm player-action",onClick:function(e){var t={rootPlaceId:a,placeId:l},r=A.playGameService.buildPlayGameProperties(a,l,s,u),o=Zt,i=o.joinGameInPlacesList,c=o.gamePlayIntentInPlacesList,d={eventName:i.name,ctx:i.ctx,properties:t,gamePlayIntentEventCtx:c.ctx};A.playGameService.launchGame(r,d),n(e)},isDisabled:!r},o($t)))}nn.propTypes={playerData:qt().shape({presence:qt().shape({rootPlaceId:qt().number,placeId:qt().number,gameId:qt().string}),id:qt().number,nameForDisplay:qt().string}).isRequired,dismissModal:qt().func.isRequired,isPlayable:qt().bool.isRequired,translate:qt().func.isRequired};var rn=nn;function on(e){var t=e.friendsData,n=e.friendsInGame,r=e.dismissModal,o=e.isPlayable,i=e.translate,a={};return t.forEach((function(e){a[e.id]=e})),m().createElement("div",{className:"interaction-container"},m().createElement("ul",{className:"interaction-list"},n.map((function(e,t){var n=e+t,l=a[e],s=l.id,u=l.nameForDisplay;return m().createElement("li",{key:n,className:"interaction-item","aria-hidden":"true"},m().createElement("span",{className:"avatar avatar-headshot avatar-headshot-sm player-avatar"},m().createElement(tn,{playerId:s,altName:u})),m().createElement(rn,{playerData:l,dismissModal:r,isPlayable:o,translate:i}))}))))}on.propTypes={friendsData:qt().arrayOf(qt().shape({presense:qt().shape({rootPlaceId:qt().number,placeId:qt().number,gameId:qt().string}),id:qt().number,nameForDisplay:qt().string})).isRequired,friendsInGame:qt().arrayOf(qt().number).isRequired,dismissModal:qt().func.isRequired,isPlayable:qt().bool.isRequired,translate:qt().func.isRequired};var an=on;function ln(e){var t=e.friendsData,n=e.friendsInGame,r=e.game,o=e.dismissModal,i=e.translate,a=i(Xt);return m().createElement("div",{"data-testid":"game-players-player-interaction-modal"},m().createElement(I.Modal.Header,{title:a,onClose:o}),m().createElement(Qt,{game:r,translate:i}),m().createElement(an,{friendsData:t,friendsInGame:n,dismissModal:o,isPlayable:r.isPlayable,translate:i}))}ln.propTypes={friendsData:qt().arrayOf(qt().shape({presense:qt().shape({rootPlaceId:qt().number,placeId:qt().number,gameId:qt().string}),id:qt().number,nameForDisplay:qt().string})).isRequired,friendsInGame:qt().arrayOf(qt().number).isRequired,game:qt().shape({universeId:qt().number,placeId:qt().number,name:qt().string,playerCount:qt().number,isShowSponsoredLabel:qt().bool,nativeAdData:qt().string,imageUrl:qt().string,referralUrl:qt().string,isPlayable:qt().bool}).isRequired,dismissModal:qt().func.isRequired,translate:qt().func.isRequired};var sn=ln,un={common:["Common.GameSorts","Feature.GamePage","Feature.GameDetails","Feature.ContactUpsell"],feature:"Feature.PlacesList"},cn=function(e){var t=e.tooltipText,n=e.placement,r=e.sizeInPx,o=void 0===r?16:r,i=e.centerIcon;return m().createElement("span",{className:vt()("info-tooltip-container",{"icon-centered":i})},m().createElement(I.Tooltip,{id:"games-info-tooltip",placement:n,containerClassName:vt()("games-info-tooltip",{"icon-centered":i}),content:t},m().createElement("svg",{width:o,height:o,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m().createElement("path",{d:"M8.97 5.44H7V4H8.97V5.44Z",fill:"currentColor"}),m().createElement("path",{d:"M8.94347 11.9999H7.05347V6.37988H8.94347V11.9999Z",fill:"currentColor"}),m().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5Z",fill:"currentColor"}))))};cn.defaultProps={sizeInPx:16};var dn,fn,pn=cn,mn=function(){return mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mn.apply(this,arguments)},vn=((dn={})[i.GridTile]={minTileWidth:233,columnGap:16,minTilesPerRow:2,maxTilesPerRow:6},dn[i.EventTile]={minTileWidth:233,columnGap:16,minTilesPerRow:4,maxTilesPerRow:4},dn[i.InterestTile]={minTileWidth:311,columnGap:16,minTilesPerRow:2,maxTilesPerRow:6},dn[i.AppGameTileNoMetadata]={minTileWidth:150,columnGap:16,minTilesPerRow:3,maxTilesPerRow:12},dn[i.ExperienceEventsTile]={minTileWidth:233,columnGap:16,minTilesPerRow:2,maxTilesPerRow:3},dn),hn=mn(mn({},vn),((fn={})[i.EventTile]={minTileWidth:300,columnGap:16,minTilesPerRow:2,maxTilesPerRow:4},fn)),gn={minTileWidth:150,columnGap:16,minTilesPerRow:3,maxTilesPerRow:12},yn=function(e){var t,n=e.animationClass,r=e.isFocused,o=e.icons,i=e.text;return(null==o?void 0:o.length)||i?m().createElement("div",{className:"game-card-pill-with-animation"},m().createElement("div",{className:vt()("game-card-pill-animation-container",(t={},t[null!=n?n:""]=n&&r,t))},(null==o?void 0:o.length)&&o.map((function(e,t){return m().createElement("span",{key:t,className:"game-card-pill-icon "+e})})),i&&m().createElement("div",{className:"game-card-pill-text"},i))):null};yn.defaultProps={animation:void 0};var bn=yn,In=function(e){var t=e.pills,n=e.isFocused,r=Object.keys(t);return m().createElement(p.Fragment,null,r.map((function(e){var r;return function(e){var n;return!!(null===(n=t[e])||void 0===n?void 0:n.length)}(e)&&m().createElement("div",{key:e,className:"game-card-pills-container "+zt(e)},null===(r=t[e])||void 0===r?void 0:r.map((function(e){return m().createElement(bn,{key:e.id,id:e.id,animationClass:e.animationClass,icons:e.icons,text:e.text,isFocused:n})})))})))},Sn=function(e){var t=e.playerCount,n=Se.getPlayerCount(t);return m().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-player-count"},m().createElement("span",{className:"info-label icon-playing-counts-gray"}),m().createElement("span",{className:"info-label playing-counts-label"},n))},Cn=function(e){var t=e.playerCount,n=e.playerCountStyle,r=vt()("game-card-image-pill",{"hover-only":n===a.Hover});return m().createElement("div",{className:r,"data-testid":"game-tile-player-count-pill"},m().createElement(Sn,{playerCount:t}))};Cn.defaultProps={playerCountStyle:void 0};var wn={Voice:"pill-icon icon-default-voice-16x16-white",Camera:"pill-icon icon-default-camera-white"},xn=function(e){var t=e.featureTypes;return m().createElement("div",{className:"game-card-image-feature-pill","data-testid":"game-tile-social-feature-pill"},m().createElement("div",{className:"game-card-info","data-testid":"game-tile-social-feature-list"},t.map((function(e){return wn[e]&&m().createElement("span",{key:e,className:wn[e]})}))))},Pn=function(e){var t,n=e.gameLayoutData,r=e.playerCountStyle,o=e.playerCount,i=e.isFocused,l=Ht(n);return l?m().createElement(In,{pills:l,isFocused:i}):(null===(t=null==n?void 0:n.pill)||void 0===t?void 0:t.types)&&n.pill.types.length>0?m().createElement(xn,{featureTypes:n.pill.types}):void 0===o||r!==a.Always&&r!==a.Hover?null:m().createElement(Cn,{playerCount:o,playerCountStyle:r})};Pn.defaultProps={gameLayoutData:void 0,playerCountStyle:void 0,playerCount:void 0};var En=Pn,Tn=function(){return Tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Tn.apply(this,arguments)},kn=rt.keyBoardEventCode,An=rt.numberOfInGameAvatarIcons,Nn=rt.numberOfInGameNames,On=function(e){var t=e.id,n=e.children,r=e.gameData,o=e.isOnScreen,i=e.page,a=e.buildEventProperties,l=e.isFocused,s=e.topicId,u=Vt.ThumbnailGameIconSize.size256,c=re(r,s);return m().createElement(I.Link,{url:K(r.placeId,r.name,a(r,t)),tabIndex:o?0:-1,"aria-hidden":!o,className:"game-card-link",id:r.universeId.toString()},m().createElement(En,{gameLayoutData:c,isFocused:!!l}),i===O.GamesPage?m().createElement("div",{className:"game-card-thumb-container"},m().createElement(Vt.Thumbnail2d,{type:Vt.ThumbnailTypes.gameIcon,size:u,targetId:r.universeId,containerClass:"game-card-thumb",format:Vt.ThumbnailFormat.jpeg,altName:r.name})):m().createElement(Vt.Thumbnail2d,{type:Vt.ThumbnailTypes.gameIcon,size:u,targetId:r.universeId,containerClass:"game-card-thumb-container",format:Vt.ThumbnailFormat.jpeg,altName:r.name}),m().createElement("div",{className:"game-card-name game-name-title",title:r.name},r.name),n)};On.defaultProps={page:O.HomePage,isOnScreen:!0,isFocused:!1};var _n=function(e){var t=e.totalDownVotes,n=e.totalUpVotes,r=e.playerCount,o=Se.getVotePercentage(n,t),i=Se.getPlayerCount(r);return m().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats"},m().createElement("span",{className:"info-label icon-votes-gray"}),o?m().createElement("span",{className:"info-label vote-percentage-label"},o):m().createElement("span",{className:"info-label no-vote"}),m().createElement("span",{className:"info-label icon-playing-counts-gray"}),m().createElement("span",{className:"info-label playing-counts-label"},i))},Mn=function(e){var t=e.totalDownVotes,n=e.totalUpVotes,r=e.translate,o=rt.RatingPercentageText,i=Se.getVotePercentageValue(n,t),a=(null==i?void 0:i.toString())||ae;return m().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-rating"},m().createElement("span",{className:"info-label icon-votes-gray"}),m().createElement("span",{className:"info-label vote-percentage-label"},r(o,{percentRating:a})||a+"% Rating"))},Rn=function(e){var t=e.footerData;return m().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-text-footer"},m().createElement("span",{className:"info-label"},t.text.textLiteral))},Dn=function(e){var t=e.iconClassName,n=e.text;return m().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-icon-text-footer"},m().createElement("span",{className:vt()("info-label",t)}),m().createElement("span",{className:"info-label text-label-with-icon"},n))},Ln=function(e){var t=e.footerText;return m().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-friend-activity"},m().createElement("span",{className:"info-label"},t))},Fn=function(e){var t=e.translate;return m().createElement("div",{className:"game-card-native-ad","data-testid":"game-tile-sponsored-footer"},m().createElement("div",{className:"native-ad-label"},t(Me.LabelSponsoredAd),m().createElement(pn,{tooltipText:t(Re.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.",placement:"right",sizeInPx:12})))},Un=function(e){var t=e.user;return m().createElement(Vt.Thumbnail2d,{type:Vt.ThumbnailTypes.avatarHeadshot,size:Vt.ThumbnailAvatarHeadshotSize.size48,targetId:t.id,containerClass:"avatar avatar-headshot avatar-headshot-xs",imgClassName:"avatar-card-image",format:Vt.ThumbnailFormat.webp,altName:t.displayName})},Gn=function(e){var t=e.translate;return m().createElement("div",{className:"game-card-info","data-testid":"wide-game-tile-sponsored-footer"},m().createElement("span",{className:"info-label interleaved-sponsored"},t(Me.LabelSponsoredAd)),m().createElement(pn,{tooltipText:t(Re.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.",placement:"right",sizeInPx:16}))},jn=function(e){var t=e.friendsData,n=e.isOnline,r=rt.maxFacepileFriendCountValue,o=(null==t?void 0:t.length)>r?r.toString()+"+":(null==t?void 0:t.length)>An?null==t?void 0:t.length.toString():"",i=o?An-1:An,a=vt()("avatar-card",{"avatar-card-online":n});return m().createElement("div",{className:"info-avatar"},o&&m().createElement("div",{className:a},m().createElement("div",{className:"avatar-count-container"},m().createElement("span",{className:"avatar-count info-label"},o))),t.slice(0,i).map((function(e){return m().createElement("div",{className:a,key:e.displayName},m().createElement(Un,{user:e}))})))},Bn=function(e){var t=e.friendsData,n=e.isOnline;if(0===t.length)throw new Error("friendData should not be empty");return m().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-"+(n?"online":"offline")+"-friends-facepile"},m().createElement(jn,{friendsData:t,isOnline:n}),m().createElement("span",{className:"info-label"},t.map((function(e){return e.displayName})).join(", ")))},zn=function(e){var t=e.friendData,n=e.gameData,r=e.translate,o=(0,p.useState)(!1),i=o[0],a=o[1];if(0===t.length)throw new Error("friendData should not be empty");return m().createElement("div",{className:"game-card-friend-info game-card-info","data-testid":"game-tile-stats-friends"},m().createElement("div",{className:"info-avatar",style:{width:22*(t.slice(0,An).length-1)+32+"px"}},t.slice(0,An).map((function(e){return m().createElement("div",{className:"avatar-card",role:"button",tabIndex:0,key:e.displayName,onClick:function(e){e.stopPropagation(),e.preventDefault(),a(!0)},onKeyDown:function(e){e.code===kn.enter&&(e.stopPropagation(),e.preventDefault(),a(!0))}},m().createElement(Un,{user:e}))}))),r&&m().createElement("span",{className:"info-label text-overflow","data-testid":"game-tile-stats-info-label"},t.length>Nn?r(Me.LabelPlayingOnePlusUsersWithComma,{username:t[0].displayName,count:t.length-Nn}):r(Me.LabelPlayingOneUser,{user:t[0].displayName})),m().createElement(Hn,{friendsDataInGame:t,game:n,show:i,onHide:function(e){e.stopPropagation(),e.preventDefault(),a(!1)}}))};zn.defaultProps={translate:void 0};var Hn=(0,g.withTranslations)((function(e){var t=e.show,n=e.onHide,r=e.friendsDataInGame,o=e.game,i=e.translate;return m().createElement(I.Modal,{show:t,onHide:n,size:"lg"},m().createElement(sn,{friendsData:r.map((function(e){return Tn(Tn({},e),{nameForDisplay:e.displayName})})),friendsInGame:r.map((function(e){return e.id})),game:o,dismissModal:n,translate:i}))}),un),Wn=function(e,n,r,o,i,a){var l=r?(o?hn:vn)[r]:gn;if(!e)return l.minTilesPerRow;var s=l.minTileWidth,u=l.columnGap,c=l.minTilesPerRow,d=l.maxTilesPerRow,f=Math.floor((e-n+u)/(s+u)),p=Math.min(d,Math.max(c,f));return o&&i===t.Carousel&&void 0!==a&&a>p?p+.3:p},Vn=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},Jn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},qn=(0,p.forwardRef)((function(e,t){var n=e.id,r=e.buildEventProperties,o=e.gameData,i=e.page,a=void 0===i?O.HomePage:i,l=e.className,s=void 0===l?"grid-item-container game-card-container":l,u=e.friendData,c=void 0===u?[]:u,d=e.isOnScreen,f=void 0===d||d,v=e.hideTileMetadata,h=void 0!==v&&v,g=e.isSponsoredFooterAllowed,y=void 0!==g&&g,b=e.topicId,I=e.translate,S=(0,p.useState)(),C=S[0],w=S[1],x=yt(),P=x[0],E=x[1],T=x[2],k=(0,p.useMemo)((function(){return se(c,o.universeId)}),[c,o.universeId]),A=re(o,b);(0,p.useEffect)((function(){void 0===C&&k.length>0&&Vn(void 0,void 0,void 0,(function(){var e,t;return Jn(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Nt(o.placeId.toString())];case 1:return e=n.sent(),w(e),[3,3];case 2:return t=n.sent(),console.error(t),[3,3];case 3:return[2]}}))}))}),[k,C]);return m().createElement("div",{ref:t,className:s,"data-testid":"game-tile",onMouseOver:E,onMouseLeave:T,onFocus:E,onBlur:T},m().createElement(On,{id:n,isOnScreen:f,buildEventProperties:r,gameData:o,page:a,isFocused:P,topicId:b},function(){if(h)return m().createElement(m().Fragment,null);if((null==o?void 0:o.isShowSponsoredLabel)||(null==o?void 0:o.isSponsored)&&y)return m().createElement(Fn,{translate:I});var e=Wt(A);return e?m().createElement(Rn,{footerData:e}):k.length>0&&C?m().createElement(zn,{friendData:k,gameData:C}):(null==o?void 0:o.friendActivityTitle)?m().createElement(Ln,{footerText:o.friendActivityTitle}):m().createElement(_n,{totalUpVotes:o.totalUpVotes,totalDownVotes:o.totalDownVotes,playerCount:o.playerCount})}()))}));qn.displayName="GameTile";var Xn=qn,Kn=function(e){var t=e.placeId,n=e.clientReferralUrl,r=e.buttonClassName,o=e.purchaseIconClassName,i=(0,p.useState)(void 0),a=i[0],l=i[1],s=(0,p.useState)(void 0),u=s[0],c=s[1];if((0,p.useEffect)((function(){Nt(t).then((function(e){return l(e)})).catch((function(){c(!0)}))}),[t]),void 0===a&&!u)return m().createElement(Zn,null);var d=vt()(r,"btn-full-width");return m().createElement(m().Fragment,null,m().createElement(I.Link,{"data-testid":"hover-tile-purchase-button",className:d,url:n||(null==a?void 0:a.url)},m().createElement("span",{className:o}),m().createElement("span",{className:"btn-text"},(null==a?void 0:a.price)||"--")," "))};Kn.defaultProps={clientReferralUrl:""};var $n=Kn,Zn=function(){return m().createElement("div",{className:"shimmer play-button game-card-thumb-container","data-testid":"play-button-default"})},Yn=function(e){var t=e.universeId,n=e.placeId,r=e.playButtonEventProperties,o=e.buttonClassName,i=e.purchaseIconClassName,a=e.clientReferralUrl,l=e.shouldPurchaseNavigateToDetails,s=S.PlayButton.usePlayabilityStatus,u=S.PlayButton.PlayabilityStatuses,c=S.PlayButton.PlayButton,d=S.PlayButton.PurchaseButton,f=s(t),p=f[0],v=f[1];switch(p){case void 0:case u.GuestProhibited:case u.Playable:return m().createElement(c,{universeId:t,placeId:n,status:null!=p?p:u.Playable,eventProperties:r,buttonClassName:o?vt()(o,"regular-play-button"):void 0,disableLoadingState:!0});case u.PurchaseRequired:return l?m().createElement($n,{placeId:n,clientReferralUrl:a,purchaseIconClassName:null!=i?i:"icon-common-play",buttonClassName:vt()(null!=o?o:"btn-growth-lg play-button","purchase-button")}):m().createElement(d,{universeId:t,placeId:n,iconClassName:null!=i?i:"icon-common-play",refetchPlayabilityStatus:v,buttonClassName:o});case u.UniverseRootPlaceIsPrivate:return m().createElement("div",{className:null!=o?o:"btn-growth-lg play-button"},m().createElement("span",{className:"icon-status-private"}));default:return m().createElement("div",{className:null!=o?o:"btn-growth-lg play-button"},m().createElement("span",{className:"icon-status-unavailable"}))}};Yn.defaultProps={playButtonEventProperties:{},buttonClassName:void 0,purchaseIconClassName:void 0,clientReferralUrl:void 0,shouldPurchaseNavigateToDetails:!1};var Qn=Yn,er=function(e){var t=e.gameData,n=e.topicId,r=e.wideTileType,o=(0,p.useMemo)((function(){return fe(t,n)}),[t,n]),a=(0,p.useMemo)((function(){return r===i.EventTile?Vt.ThumbnailGameThumbnailSize.width576:Vt.ThumbnailGameThumbnailSize.width384}),[r]);return null!==o?m().createElement(Vt.Thumbnail2d,{type:Vt.ThumbnailTypes.assetThumbnail,size:a,targetId:o,containerClass:"brief-game-icon",format:Vt.ThumbnailFormat.jpeg,altName:t.name}):m().createElement(Vt.Thumbnail2d,{type:Vt.ThumbnailTypes.gameThumbnail,size:a,targetId:t.placeId,containerClass:"brief-game-icon",format:Vt.ThumbnailFormat.jpeg,altName:t.name})},tr=function(e){var t=e.wrapperClassName,n=e.isTileClickEnabled,r=e.isOnScreen,o=e.linkUrl,i=e.children;return n?m().createElement(I.Link,{url:o,className:t,tabIndex:r?0:-1},i):m().createElement("span",{className:t},i)},nr=m().forwardRef((function(e,t){var n=e.gameData,r=e.id,o=e.buildEventProperties,u=e.friendData,c=void 0===u?[]:u,d=e.playerCountStyle,f=e.playButtonStyle,v=e.navigationRootPlaceId,h=e.isSponsoredFooterAllowed,g=void 0!==h&&h,y=e.hideTileMetadata,b=void 0!==y&&y,S=e.wideTileType,C=e.hoverStyle,w=e.topicId,x=e.isOnScreen,P=void 0===x||x,E=e.isInterestedUniverse,T=void 0===E?void 0:E,k=e.toggleInterest,A=void 0===k?void 0:k,N=e.translate,O=0===r,_=r===ut.maxWideGameTilesPerCarouselPage-1,M=yt(),R=M[0],D=M[1],L=M[2],F=(0,p.useState)(n.placeId),U=F[0],G=F[1];(0,p.useEffect)((function(){v&&!Number.isNaN(v)?G(parseInt(v,10)):n.navigationUid&&At(n.navigationUid).then((function(e){(null==e?void 0:e.rootPlaceId)&&G(e.rootPlaceId)})).catch((function(){}))}),[v,n.navigationUid]);var j=(0,p.useMemo)((function(){return K(U,n.name,o(n,r))}),[n,o,r,U]),B=o(n,r),z=(0,p.useMemo)((function(){return se(c,n.universeId)}),[c,n.universeId]),H=(0,p.useMemo)((function(){return function(e,t){if(!t)return[];var n=new Map(e.map((function(e){return[e.id,e]})));return t.map((function(e){return n.get(e.userId)})).filter((function(e){return void 0!==e}))}(c,n.friendVisits)}),[c,n.friendVisits]),W=re(n,w),V=function(){return n.minimumAge&&n.ageRecommendationDisplayName&&S!==i.EventTile?m().createElement("div",{className:"game-card-info","data-testid":"game-tile-hover-age-rating"},m().createElement("span",{className:"info-label"},n.ageRecommendationDisplayName)):null},J=function(){return(S!==i.GridTile||f===l.Enabled)&&((S!==i.EventTile||f===l.Enabled)&&S!==i.InterestTile)},q=(0,p.useMemo)((function(){return(null==W?void 0:W.title)?W.title:n.name}),[n.name,null==W?void 0:W.title]),X=S!==i.InterestTile,$=S!==i.InterestTile,Z=(0,p.useCallback)((function(){A&&A()}),[A]);return m().createElement("li",{className:vt()("list-item","hover-game-tile",{"grid-tile":S===i.GridTile},{"event-tile":S===i.EventTile},{"interest-tile":S===i.InterestTile},{"first-tile":O},{"last-tile":_},{"image-overlay":C===s.imageOverlay},{"old-hover":C!==s.imageOverlay},{focused:R}),"data-testid":"wide-game-tile",onMouseOver:$?D:void 0,onMouseLeave:$?L:void 0,onFocus:$?D:void 0,onBlur:$?L:void 0,id:n.universeId.toString()},n.universeId&&m().createElement("div",{className:"featured-game-container game-card-container",ref:t},m().createElement(tr,{wrapperClassName:"game-card-link",isTileClickEnabled:X,isOnScreen:P,linkUrl:j},m().createElement("div",{className:"featured-game-icon-container"},m().createElement(er,{gameData:n,topicId:w,wideTileType:S}),m().createElement(En,{gameLayoutData:W,playerCountStyle:d,playerCount:n.playerCount,isFocused:R})),m().createElement("div",{className:"info-container"},m().createElement("div",{className:"info-metadata-container"},m().createElement("div",{className:"game-card-name game-name-title","data-testid":"game-tile-game-title",title:q},q),m().createElement("div",{className:"wide-game-tile-metadata"},m().createElement("div",{className:"base-metadata"},function(){var e=V();if(R&&C===s.imageOverlay&&e)return e;if(b)return m().createElement(m().Fragment,null);if(n.isShowSponsoredLabel||n.isSponsored&&g)return m().createElement(Gn,{translate:N});var t=Wt(W);return t?m().createElement(Rn,{footerData:t}):(null==z?void 0:z.length)>0?m().createElement(Bn,{friendsData:z,isOnline:!0}):(null==H?void 0:H.length)>0?m().createElement(Bn,{friendsData:H,isOnline:!1}):n.friendVisitedString?m().createElement(Dn,{iconClassName:"icon-pastname",text:n.friendVisitedString}):d===a.Footer?m().createElement(_n,{totalUpVotes:n.totalUpVotes,totalDownVotes:n.totalDownVotes,playerCount:n.playerCount}):m().createElement(Mn,{totalUpVotes:n.totalUpVotes,totalDownVotes:n.totalDownVotes,translate:N})}()),m().createElement("div",{className:"hover-metadata"},V()))),R&&C===s.imageOverlay&&J()&&m().createElement("div",{"data-testid":"game-tile-hover-game-tile-contents",className:"play-button-container"},m().createElement(Qn,{universeId:n.universeId.toString(),placeId:n.placeId.toString(),playButtonEventProperties:B,buttonClassName:"btn-growth-xs play-button",purchaseIconClassName:"icon-robux-white",clientReferralUrl:j,shouldPurchaseNavigateToDetails:!0})))),R&&C!==s.imageOverlay&&J()&&m().createElement("div",{"data-testid":"game-tile-hover-game-tile-contents",className:"game-card-contents"},m().createElement(Qn,{universeId:n.universeId.toString(),placeId:n.placeId.toString(),playButtonEventProperties:B,buttonClassName:"btn-growth-xs play-button",purchaseIconClassName:"icon-robux-white",clientReferralUrl:j,shouldPurchaseNavigateToDetails:!0})),S===i.InterestTile&&m().createElement(I.Button,{"data-testid":"tile-interest-button",className:"tile-interest-button",variant:I.Button.variants.primary,size:I.Button.sizes.medium,title:N(Le.ActionInterestCatcherInterested),onClick:Z},T?m().createElement("span",{className:"icon-heart-red"}):m().createElement("span",{className:"icon-heart"}),m().createElement("span",null,N(Le.ActionInterestCatcherInterested)))))}));nr.displayName="WideGameTile";var rr=nr,or=function(){return or=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},or.apply(this,arguments)},ir=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ar=(0,p.forwardRef)((function(e,t){var n=e.componentType,r=ir(e,["componentType"]);switch(n){case i.AppGameTileNoMetadata:return m().createElement(Xn,or({ref:t,hideTileMetadata:!0},r));case i.GridTile:case i.EventTile:case i.InterestTile:return m().createElement(rr,or({ref:t,wideTileType:n},r));default:return m().createElement(Xn,or({ref:t},r))}}));ar.displayName="GameTileTypeMap";var lr=ar,sr=(0,p.forwardRef)((function(e,t){var n=e.gameData,r=e.buildEventProperties,o=e.translate,a=e.friendData,l=e.componentType,s=e.playerCountStyle,u=e.playButtonStyle,c=e.navigationRootPlaceId,d=e.isSponsoredFooterAllowed,f=e.hideTileMetadata,p=e.hoverStyle,v=e.topicId,h=e.isExpandHomeContentEnabled,g=e.tileRef,y=vt()("game-carousel",{"wide-game-tile-carousel":l===i.GridTile||l===i.EventTile},{"expand-home-content":h},{"expand-home-content-disabled":!h});return m().createElement("div",{"data-testid":"game-carousel",ref:t,className:y},n.map((function(e,t){return m().createElement(lr,{componentType:l,playerCountStyle:s,playButtonStyle:u,navigationRootPlaceId:c,isSponsoredFooterAllowed:d,hideTileMetadata:f,hoverStyle:p,topicId:v,ref:g,key:t,id:t,gameData:e,translate:o,buildEventProperties:r,friendData:a})})))}));sr.displayName="GameCarousel";var ur=function(e,t,n){var r=(0,p.useState)(new Set),o=r[0],i=r[1],a=(0,p.useState)(new Set),l=a[0],s=a[1],u=(0,p.useRef)(null),c=(0,p.useRef)(n);(0,p.useEffect)((function(){c.current=n}),[n]);var d=(0,p.useCallback)((function(){var e=Se.splitArray(Array.from(l).filter((function(e){return!o.has(e)})),rt.maxTilesInGameImpressionsEvent).filter((function(e){return e.length>0}));e.forEach((function(e){var t,n=c.current(e);if(void 0!==n&&(null===(t=n.absPositions)||void 0===t?void 0:t.length)>0){var r=te.gameImpressions(n);A.eventStreamService.sendEvent.apply(A.eventStreamService,r),i((function(t){var n=t;return e.forEach((function(e){return n.add(e)})),n}))}}))}),[o,l]),f=ht((function(){return d()})),m=f[0],v=f[1];(0,p.useEffect)((function(){var t,n,r=Array.from(null!==(n=null===(t=null==e?void 0:e.current)||void 0===t?void 0:t.children)&&void 0!==n?n:[]);return u.current=A.elementVisibilityService.observeChildrenVisibility({elements:r,threshold:rt.gameImpressionsIntersectionThreshold},(function(e,t){v();var n=function(e,t){var n=[];return e.forEach((function(e){if(null==e?void 0:e.isIntersecting){var o=r.findIndex((function(t){return t===e.target}));o>=0&&(n.push(o),t.unobserve(e.target))}})),n.sort((function(e,t){return e-t}))}(e,t);s((function(e){var t=e;return n.forEach((function(e){return t.add(e)})),t})),m()})),function(){(null==u?void 0:u.current)&&u.current()}}),[e,t,l,m,v])},cr=function(){return cr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cr.apply(this,arguments)},dr=(0,p.createContext)(""),fr=function(e){var t,n=e.children,r=null===(t=window.location.href)||void 0===t?void 0:t.split("?")[1],o=r&&ye(r),i=o&&(o.discoverPageSessionInfo||o.homePageSessionInfo||o.spotlightPageSessionInfo),a=(0,p.useState)(i&&"string"==typeof i?i:f.uuidService.generateRandomUuid())[0];return m().createElement(dr.Provider,{value:a},n)},pr=function(e){return function(t){return m().createElement(fr,null,m().createElement(e,cr({},t)))}},mr=function(){return(0,p.useContext)(dr)},vr=tt.linkStartDelimiter,hr=tt.linkEndDelimiter,gr=function(e){var t=e.defaultSubtitle,n=e.endTimestamp,r=e.countdownString,o=e.formatSubtitleLink,i=e.subtitleLink,a=e.handleSeeAllLinkClick,l=e.backgroundImageAssetId,s=(0,p.useMemo)((function(){var e=n&&parseInt(n,10);if(e||0===e)return e}),[n]),u=(0,p.useState)(void 0!==s?s-Math.floor(Date.now()/1e3):void 0),c=u[0],d=u[1];(0,p.useEffect)((function(){if(void 0!==s){d(s-Math.floor(Date.now()/1e3));var e=setInterval((function(){d(s-Math.floor(Date.now()/1e3))}),15e3);return function(){clearInterval(e)}}d(void 0)}),[s]);var f=(0,p.useMemo)((function(){if(void 0!==c&&r){var e=0,n=0;if(c>0&&(n=Math.ceil(c/60),n-=60*(e=Math.floor(n/60))),e<24)return r.replace("{hours}",e.toString()).replace("{minutes}",n.toString())}return t}),[t,c,r]),v=(0,p.useMemo)((function(){if(o&&i&&f){var e=f.indexOf(vr),t=f.indexOf(hr);if(-1!==e&&-1!==t&&e<t){var n=f.slice(0,e),r=f.slice(e+vr.length,t),s=f.slice(t+hr.length);return m().createElement(I.Link,{url:i,onClick:a},n,m().createElement("span",{className:"link-text"},r),s,l?m().createElement("span",{className:"icon-chevron-right-dark"}):m().createElement("span",{className:"icon-chevron-right"}))}}return f}),[f,i,l,a]);return f?m().createElement("div",{className:"sort-subtitle-container"},m().createElement("span",{className:"font-sort-subtitle text-default"},v)):null},yr=Roblox.ui;function br(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ir(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sr(e,t){if("function"==typeof e)return e(t);e&&(e.current=t)}var Cr=parseInt(p.version.split(".")[0],10)>=19?function(e){return function(t){var n,r=[],o=br(e);try{var i=function(){var e=n.value,o=Sr(e,t),i="function"==typeof o;r.push(i?o:function(){return Sr(e,null)})};for(o.s();!(n=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}return function(){var e,t=br(r);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(e){t.e(e)}finally{t.f()}}}}:function(e){return function(t){var n,r=br(e);try{for(r.s();!(n=r.n()).done;){Sr(n.value,t)}}catch(e){r.e(e)}finally{r.f()}}};var wr=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),xr="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Pr=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Er="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Pr):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Tr=["top","right","bottom","left","width","height","size","weight"],kr="undefined"!=typeof MutationObserver,Ar=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&l()}function a(){Er(i)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){xr&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),kr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){xr&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Tr.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Nr=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Or=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Pr},_r=Ur(0,0,0,0);function Mr(e){return parseFloat(e)||0}function Rr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Mr(e["border-"+n+"-width"])}),0)}function Dr(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return _r;var r=Or(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=Mr(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,l=Mr(r.width),s=Mr(r.height);if("border-box"===r.boxSizing&&(Math.round(l+i)!==t&&(l-=Rr(r,"left","right")+i),Math.round(s+a)!==n&&(s-=Rr(r,"top","bottom")+a)),!function(e){return e===Or(e).document.documentElement}(e)){var u=Math.round(l+i)-t,c=Math.round(s+a)-n;1!==Math.abs(u)&&(l-=u),1!==Math.abs(c)&&(s-=c)}return Ur(o.left,o.top,l,s)}var Lr="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Or(e).SVGGraphicsElement}:function(e){return e instanceof Or(e).SVGElement&&"function"==typeof e.getBBox};function Fr(e){return xr?Lr(e)?function(e){var t=e.getBBox();return Ur(0,0,t.width,t.height)}(e):Dr(e):_r}function Ur(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Gr=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ur(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Fr(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),jr=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return Nr(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}(t);Nr(this,{target:e,contentRect:n})},Br=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new wr,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Or(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Gr(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Or(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new jr(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),zr="undefined"!=typeof WeakMap?new WeakMap:new wr,Hr=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ar.getInstance(),r=new Br(t,n,this);zr.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Hr.prototype[e]=function(){var t;return(t=zr.get(this))[e].apply(t,arguments)}}));var Wr,Vr=void 0!==Pr.ResizeObserver?Pr.ResizeObserver:Hr,Jr=n(4777),qr=n(8550),Xr=n(7895),Kr=n(8601);function $r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var to,no=(0,yr.makeStyles)()((function(e,t){var n=t.color,r=t.width,o=t.iconOverrideStyles;return{iconBaseStyles:{display:"inline-flex",alignItems:"center",justifyContent:"center",color:n,width:"".concat(r,"px"),height:"".concat(r,"px")},iconOverride:Qr({},o)}})),ro=function(e){var t=e.iconClassName,n=e.color,r=e.width,o=e.iconOverrideStyles,i=no({color:n,width:r,iconOverrideStyles:o||{}}).classes,a=i.iconBaseStyles,l=i.iconOverride;return p.createElement("span",{className:mt(a,l,t),"data-testid":"icon-component"})},oo="Enter",io="{linkStart}",ao="{linkEnd}",lo="0.3s",so="cubic-bezier(0.45, 0, 0, 1)",uo={backgroundColor:"transparent",border:"none",padding:0,font:"inherit",cursor:"pointer",outline:"none",textAlign:"start"},co={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"break-word"},fo=(0,yr.makeStyles)()((function(){return{linkContainerOverride:{color:"inherit",textDecoration:"none","&:hover":{textDecoration:"none"},cursor:"pointer"},buttonContainerOverride:Qr({},uo)}})),po=function(e){var t=e.containerClassName,n=e.callback,r=e.linkPath,o=e.ariaLabel,i=e.tabIndex,a=e.onFocus,l=e.onFocusLost,s=e.dataTestId,u=e.children,c=fo({}).classes,d=c.linkContainerOverride,f=c.buttonContainerOverride;return r?p.createElement("a",{href:r,onClick:function(e){e.stopPropagation(),n&&n()},onKeyDown:function(e){e.code===oo&&(e.stopPropagation(),n&&n())},className:mt(t,d),"aria-label":o,tabIndex:i,onFocus:a,onMouseOver:a,onBlur:l,onMouseLeave:l,"data-testid":s},u):n?p.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),e.preventDefault(),n()},onKeyDown:function(e){e.code===oo&&(e.stopPropagation(),e.preventDefault(),n())},className:mt(t,f),"aria-label":o,tabIndex:i,onFocus:a,onMouseOver:a,onBlur:l,onMouseLeave:l,"data-testid":s},u):p.createElement("div",{className:t,"aria-label":o,tabIndex:i,onFocus:a,onMouseOver:a,onBlur:l,onMouseLeave:l,"data-testid":s},u)};function mo(e){var t={};if(void 0===e)return t;if(void 0!==e.layoutOrder&&(t.order=e.layoutOrder),void 0!==e.anchorPoint&&(t.transformOrigin="".concat(100*e.anchorPoint.x,"% ").concat(100*e.anchorPoint.y,"%")),void 0!==e.automaticSize&&(e.automaticSize===to.XY?(t.width="auto",t.height="auto"):e.automaticSize===to.X?t.width="auto":e.automaticSize===to.Y&&(t.height="auto")),void 0!==e.size&&(t.width="calc(".concat(100*e.size.xScale,"% + ").concat(e.size.xOffset,"px)"),t.height="calc(".concat(100*e.size.yScale,"% + ").concat(e.size.yOffset,"px)")),void 0!==e.position){var n,r,o,i;t.position="absolute",t.left="calc(".concat(100*e.position.xScale,"% + ").concat(e.position.xOffset,"px)"),t.top="calc(".concat(100*e.position.yScale,"% + ").concat(e.position.yOffset,"px)");var a=null!==(n=null===(r=e.anchorPoint)||void 0===r?void 0:r.x)&&void 0!==n?n:0,l=null!==(o=null===(i=e.anchorPoint)||void 0===i?void 0:i.y)&&void 0!==o?o:0;0===a&&0===l||(t.transform="translate(-".concat(100*a,"%, -").concat(100*l,"%)"))}return void 0!==e.zIndex&&(t.zIndex=e.zIndex),t}!function(e){e.None="None",e.X="X",e.Y="Y",e.XY="XY"}(to||(to={}));var vo,ho=io,go=ao,yo={key:"data-sdui-text",value:"true"},bo=function(e){return eo({},"".concat(e.key),e.value)},Io=function(e,t,n){return eo({},"&[".concat(e.key,"='").concat(e.value,"']"),Qr({color:t},n&&{font:n.Font,letterSpacing:n.LetterSpacing,fontFamily:n.FontFamily,fontWeight:n.FontWeight,fontSize:n.FontSize,lineHeight:n.LineHeight}))},So=(0,yr.makeStyles)()((function(e,t){var n=t.gap,r=t.textColor,o=t.fontStyle,i=t.containerOverrideStyles,a=t.textOverrideStyles;return{textIconRow:Qr({display:"inline-flex",alignItems:"center",gap:"".concat(n,"px"),border:"none",margin:"0px",padding:"0px",backgroundColor:"transparent",appearance:"none",width:"100%"},i),textIconRowText:Qr(Qr({},co),Io(yo,r,o)),textOverride:Qr({flexShrink:1,minWidth:0},a),iconBaseStyles:{flexShrink:0}}})),Co=function(e){var t=e.onActivated,n=e.linkPath,r=e.text,o=e.textColor,i=e.fontStyle,a=e.gap,l=void 0===a?0:a,s=e.iconClassName,u=e.iconWidth,c=e.iconColor,d=e.iconFirst,f=void 0!==d&&d,m=e.containerOverrides,v=e.textOverrides,h=e.iconOverrides,g=(0,p.useMemo)((function(){return m?mo(m):{}}),[m]),y=(0,p.useMemo)((function(){return v?mo(v):{}}),[v]),b=(0,p.useMemo)((function(){return h?mo(h):{}}),[h]),I=So({gap:l,textColor:o,fontStyle:i,containerOverrideStyles:g,textOverrideStyles:y}).classes,S=I.textIconRow,C=I.textIconRowText,w=I.textOverride,x=I.iconBaseStyles,P=function(e){return(0,p.useMemo)((function(){if(!e)return{parsedTextContent:"",cleansedTextLabel:""};var t=e.indexOf(ho),n=e.indexOf(go);if(-1!==t&&-1!==n&&t<n){var r=e.slice(0,t),o=e.slice(t+ho.length,n),i=e.slice(n+go.length);return{parsedTextContent:p.createElement(p.Fragment,null,r,p.createElement("b",null,p.createElement("u",null,o)),i),cleansedTextLabel:"".concat(r).concat(o).concat(i)}}return{parsedTextContent:e,cleansedTextLabel:e}}),[e])}(r),E=P.parsedTextContent,T=P.cleansedTextLabel,k=(0,p.useMemo)((function(){return p.createElement("span",Qr({className:mt(C,w),"data-testid":"text-icon-row-text"},bo(yo)),E)}),[E,C,w]),A=i.LineHeight*i.FontSize,N=null!=c?c:o,O=null!=u?u:A,_=(0,p.useMemo)((function(){return s?p.createElement(ro,{iconClassName:mt(x,s),color:N,width:O,iconOverrideStyles:b}):null}),[N,O,x,s,b]),M=f?p.createElement(p.Fragment,null,_,k):p.createElement(p.Fragment,null,k,_);return p.createElement(po,{containerClassName:S,callback:t,linkPath:n,ariaLabel:T,dataTestId:"text-icon-row"},M)},wo=(0,yr.makeStyles)({name:"AttributionTextContent"})((function(e,t){var n=t.subtitleMaxLines,r=t.subtitleFontStyle,o=t.textColor,i=t.textGap;return{attributionTextContentContainer:{display:"flex",flexDirection:"column",alignItems:"start",gap:"".concat(i,"px"),maxWidth:"100%"},attributionSubtitle:Qr({fontSize:"14px",fontStyle:"normal",fontWeight:400,lineHeight:"140%",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:n,WebkitBoxOrient:"vertical"},Io(yo,o,r))}})),xo=function(e){var t=e.title,n=e.titleComponent,r=e.subtitle,o=e.textColor,i=e.titleFontStyle,a=e.subtitleFontStyle,l=e.subtitleMaxLines,s=void 0===l?1:l,u=e.textGap,c=wo({subtitleMaxLines:s,subtitleFontStyle:a,textColor:o,textGap:void 0===u?0:u}).classes;return p.createElement("div",{className:c.attributionTextContentContainer,"data-testid":"attribution-text-content-container"},n||p.createElement(Co,{text:t,fontStyle:i,textColor:o}),r&&p.createElement("span",Qr({className:c.attributionSubtitle},bo(yo)),r))},Po=(0,yr.makeStyles)()((function(e,t){var n=t.height;return{attributionRowContainer:{display:"flex",position:"relative",flexDirection:"row",alignItems:"center",width:"100%",height:n?"".concat(n,"px"):"auto"},attributionRowThumbnailContainer:{height:"100%",aspectRatio:"1",display:"flex",flexDirection:"column",borderRadius:"8px",overflow:"hidden",marginRight:"12px"},attributionRowButtonContainer:{marginLeft:"auto"}}})),Eo=function(e){var t=e.title,n=e.titleComponent,r=e.subtitle,o=e.textColor,i=e.height,a=e.imageComponent,l=e.rightButtonContent,s=e.titleFontStyle,u=e.subtitleFontStyle,c=e.subtitleMaxLines,d=e.titleSubtitleGap,f=Po({height:i}).classes,m=f.attributionRowContainer,v=f.attributionRowThumbnailContainer,h=f.attributionRowButtonContainer;return p.createElement("div",{className:m},a&&p.createElement("div",{className:v},a),p.createElement(xo,{title:t,titleComponent:n,subtitle:r,textColor:o,titleFontStyle:s,subtitleFontStyle:u,subtitleMaxLines:c,textGap:d}),l&&p.createElement("div",{className:h},l))},To=function(e){var t=e.scrollArrowClassName,n=e.scrollIconClassName,r=e.handleClick;return p.createElement("div",{"data-testid":"carousel-scroll-arrow",className:t,onClick:r,onKeyDown:function(e){e.code===oo&&(e.stopPropagation(),e.preventDefault(),r())},role:"button",tabIndex:0},p.createElement("span",{className:n,"data-testid":"carousel-scroll-arrow-icon"}))},ko=function(e){var t=e.isScrollBackDisabled,n=e.isScrollForwardDisabled,r=e.onScrollBack,o=e.onScrollForward,i=e.scrollBackArrowClassName,a=e.scrollForwardArrowClassName;return p.createElement(p.Fragment,null,!t&&p.createElement(To,{scrollArrowClassName:i,scrollIconClassName:"icon-chevron-heavy-left",handleClick:r}),!n&&p.createElement(To,{scrollArrowClassName:a,scrollIconClassName:"icon-chevron-heavy-right",handleClick:o}))},Ao="undefined"!=typeof window&&window.ResizeObserver?window.ResizeObserver:Vr,No=function(){var e=$r((0,p.useState)(void 0),2),t=e[0],n=e[1],r=(0,p.useCallback)((function(e){var t,r=null==e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.width;void 0!==r&&n(r)}),[]),o=(0,p.useCallback)((function(e){e&&e[0]&&e[0].target&&r(e[0].target)}),[r]),i=(0,p.useRef)(new Ao(o)),a=(0,p.useCallback)((function(e){e&&null!=i&&i.current&&(r(e),i.current.disconnect(),i.current.observe(e))}),[r]);return(0,p.useEffect)((function(){var e=i.current;return function(){e&&e.disconnect()}}),[]),[a,t]};!function(e){e.XSmall="XSmall",e.Small="Small",e.Medium="Medium",e.Large="Large",e.XLarge="XLarge"}(vo||(vo={}));var Oo=(eo(Wr={},vo.XSmall,{minItemWidth:80,minItemCount:3,maxItemCount:20,fractionalItemAmount:.15}),eo(Wr,vo.Small,{minItemWidth:150,minItemCount:3,maxItemCount:12,fractionalItemAmount:.15}),eo(Wr,vo.Medium,{minItemWidth:233,minItemCount:2,maxItemCount:6,fractionalItemAmount:.15}),eo(Wr,vo.Large,{minItemWidth:300,minItemCount:1,maxItemCount:4,fractionalItemAmount:.3}),eo(Wr,vo.XLarge,{minItemWidth:300,minItemCount:1,maxItemCount:1,fractionalItemAmount:.1}),Wr),_o=function(e,t,n){var r,o,i,a=Oo[e],l=a.minItemWidth,s=a.minItemCount,u=a.maxItemCount,c=a.fractionalItemAmount,d=(0,p.useMemo)((function(){return null!=n&&n.columnGap?n.columnGap:t?t<1024?12:t<1280?18:24:18}),[null==n?void 0:n.columnGap,t]),f=null!==(r=null==n?void 0:n.sideMargin)&&void 0!==r?r:0,m=(0,p.useMemo)((function(){if(t){var e=t-2*f,n=Math.floor((e+d)/(l+d));return Math.min(Math.max(s,n),u)}return s}),[t,s,u,l,d,f]);return{numColumns:null!==(o=null==n?void 0:n.numColumns)&&void 0!==o?o:m,fractionalItemAmount:null!==(i=null==n?void 0:n.fractionalItemAmount)&&void 0!==i?i:c,columnGap:d,sideMargin:f}},Mo=(0,yr.makeStyles)()((function(e,t){var n,r,o=t.itemWidth,i=t.columnGap,a=t.sideMargin,l=t.gapBetweenHeaderAndItems,s=t.scrollArrowBackgroundColor,u=t.scrollArrowBoxShadowColor,c=t.scrollArrowBaseClassName,d=t.scrollArrowPrevClassName,f=t.scrollArrowNextClassName;return{collectionCarouselContainer:{display:"flex",flexDirection:"column",gap:"".concat(l,"px"),marginLeft:"".concat(null!=a?a:0,"px"),marginRight:"".concat(null!=a?a:0,"px")},carouselContainer:(r={position:"relative"},eo(r,"& .".concat(c),Qr(Qr(Qr({position:"absolute",top:"calc(50% - (40px / 2))",width:"40px",height:"40px",borderRadius:"50%",display:"none",justifyContent:"center",alignItems:"center",cursor:"pointer",zIndex:5},s&&{backgroundColor:s}),u&&{boxShadow:"0px 0px 4px 0px ".concat(u)}),{},(n={},eo(n,"&.".concat(d),{left:"-10px"}),eo(n,"&.".concat(f),{right:"-10px"}),eo(n,"opacity",.9),eo(n,"&:hover",{opacity:1}),eo(n,"@media (pointer: coarse) and (not (any-pointer: fine))",{display:"none"}),n))),eo(r,"&:hover",eo({},"& .".concat(c),{display:"flex"})),r),carousel:{display:"flex",overflowX:"hidden",scrollSnapType:"x mandatory",scrollBehavior:"smooth",gap:"".concat(null!=i?i:0,"px"),"@media (pointer: coarse) and (not (any-pointer: fine))":{overflowX:"auto",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},carouselItem:{width:o,height:"auto",flexShrink:0}}})),Ro=function(e){var t=e.itemsContainerRef,n=e.items,r=e.renderItem,o=e.collectionItemSize,i=e.updateItemsPerRow,a=e.layoutOverrides,l=e.headerComponent,s=e.gapBetweenHeaderAndItems,u=e.isHorizontalScrollEnabled,c=e.scrollArrowBackgroundColor,d=e.scrollArrowBoxShadowColor,f=e.thresholdFromEnd,m=e.onReachedThresholdFromEnd,v=e.reportHorizontalScrollTelemetry,h=$r(No(),2),g=h[0],y=h[1],b=_o(o,y,null!=a?a:{}),I=b.numColumns,S=b.fractionalItemAmount,C=b.columnGap,w=b.sideMargin;(0,p.useEffect)((function(){i&&i(I)}),[i,I]);var x=u&&n.length>I,P=(0,p.useMemo)((function(){if(y&&I>0){var e=x?I+S:I;return(y-(null!=C?C:0)*(Math.ceil(e)-1))/e}return 0}),[y,x,I,S,C]),E=function(e,t,n,r,o,i,a,l,s){var u=(0,p.useRef)(0),c=(0,p.useRef)(null),d=$r((0,p.useState)(!1),2),f=d[0],m=d[1],v=$r((0,p.useState)(!1),2),h=v[0],g=v[1],y=$r((0,p.useState)(!1),2),b=y[0],I=y[1],S=(0,p.useRef)(!1),C=(0,p.useCallback)((function(e){return u.current=e<0?0:e>i-r?i-r:e,u.current}),[i,r]),w=(0,p.useCallback)((function(t){if(e&&l&&c.current&&n){var r=Math.max(null!=a?a:0,3*n);t+n>=c.current.scrollWidth-r?S.current||(l(),S.current=!0):S.current=!1}}),[l,c,n,a,e]),x=(0,p.useCallback)((function(e,a){if(c.current){var l=c.current.scrollLeft,u=e*(t+(null!=o?o:0));c.current.scrollLeft=u,w(u),m(e<=0),g(e>=i-r),s&&a&&s(u-l,l,null!=n?n:-1)}}),[t,o,w,i,r,n,s]);(0,p.useEffect)((function(){e&&x(u.current,!1)}),[x,e]);var P=(0,p.useCallback)((function(){var e=C(u.current+r);x(e,!0)}),[C,x,r]),E=(0,p.useCallback)((function(){var e=C(u.current-r);x(e,!0)}),[C,x,r]),T=(0,p.useCallback)((function(e){b||(I(!0),e(),setTimeout((function(){I(!1)}),500))}),[b]),k=(0,p.useCallback)((function(){T(E)}),[E,T]),A=(0,p.useCallback)((function(){T(P)}),[P,T]),N=(0,p.useCallback)((function(e){return e>=u.current&&e<u.current+r}),[u,r]);return{carouselScrollRef:c,isScrollBackDisabled:f||b,isScrollForwardDisabled:h||b,handleScrollBackClick:k,handleScrollForwardClick:A,getIsTileVisible:N}}(x,P,y,I,C,n.length,f,m,v),T=E.carouselScrollRef,k=E.isScrollBackDisabled,A=E.isScrollForwardDisabled,N=E.handleScrollBackClick,O=E.handleScrollForwardClick,_=E.getIsTileVisible,M="scroll-arrow",R="prev",D="next",L=Mo({itemWidth:P,columnGap:C,sideMargin:w,gapBetweenHeaderAndItems:s,scrollArrowBackgroundColor:c,scrollArrowBoxShadowColor:d,scrollArrowBaseClassName:M,scrollArrowPrevClassName:R,scrollArrowNextClassName:D}).classes,F=L.collectionCarouselContainer,U=L.carouselContainer,G=L.carousel,j=L.carouselItem;return p.createElement("div",{className:F},l,p.createElement("div",{ref:g,className:U},p.createElement("div",{ref:Cr([T,t]),className:G},n.map((function(e,t){return p.createElement("div",{key:t,id:"collection-carousel-item",className:j},r(e,t,_(t)))}))),x&&p.createElement(ko,{isScrollBackDisabled:k,isScrollForwardDisabled:A,onScrollBack:N,onScrollForward:O,scrollBackArrowClassName:mt(M,R),scrollForwardArrowClassName:mt(M,D)})))},Do=(0,yr.makeStyles)()((function(e,t){var n=t.itemWidth,r=t.columnGap,o=t.sideMargin,i=t.gapBetweenHeaderAndItems;return{collectionGridContainer:{display:"flex",flexDirection:"column",gap:"".concat(i,"px"),marginLeft:"".concat(null!=o?o:0,"px"),marginRight:"".concat(null!=o?o:0,"px")},grid:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"".concat(null!=r?r:0,"px")},gridItem:{width:n,height:"auto"}}})),Lo=function(e){var t=e.itemsContainerRef,n=e.items,r=e.renderItem,o=e.collectionItemSize,i=e.updateItemsPerRow,a=e.layoutOverrides,l=e.headerComponent,s=e.gapBetweenHeaderAndItems,u=$r(No(),2),c=u[0],d=u[1],f=_o(o,d,null!=a?a:{}),m=f.numColumns,v=f.columnGap,h=f.sideMargin;(0,p.useEffect)((function(){i&&i(m)}),[i,m]);var g=(0,p.useMemo)((function(){return d&&m>0?(d-(null!=v?v:0)*(Math.ceil(m)-1))/m:0}),[d,m,v]),y=Do({itemWidth:g,columnGap:v,sideMargin:h,gapBetweenHeaderAndItems:s}).classes,b=y.collectionGridContainer,I=y.grid,S=y.gridItem;return p.createElement("div",{className:b},l,p.createElement("div",{ref:Cr([c,t]),className:I},n.map((function(e,t){return p.createElement("div",{key:t,id:"collection-grid-item",className:S},r(e,t))}))))},Fo=function(e){for(var t={},n=1;n<=e;n+=1)t["&:nth-child(".concat(n,")")]={zIndex:e-n+1};return t},Uo=(0,yr.makeStyles)()((function(e,t){var n=t.iconWidth,r=t.avatarContainerBackgroundColor,o=t.avatarImageBackgroundColor,i=t.avatarBorderColor,a=t.maxZIndex;return{facepileContainer:{width:"fit-content",display:"flex",alignItems:"center"},avatarContainer:Qr(Qr({marginRight:"-".concat((n+4)/2,"px")},Fo(a)),{},{"&:last-child":{marginRight:0},"& span":{width:n+4,height:n+4,padding:"".concat(2,"px"),display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:r},"& img":{width:n,height:n,objectFit:"cover",borderRadius:"50%",backgroundColor:o,border:"1px solid ".concat(i)}})}})),Go=function(e){var t=e.avatarThumbnails,n=e.iconWidth,r=e.avatarContainerBackgroundColor,o=e.avatarImageBackgroundColor,i=e.avatarBorderColor,a=Uo({iconWidth:n,avatarContainerBackgroundColor:r,avatarImageBackgroundColor:o,avatarBorderColor:i,maxZIndex:t.length}).classes,l=a.facepileContainer,s=a.avatarContainer;return p.createElement("div",{className:l},t.map((function(e){return p.createElement("div",{key:e.key,className:s},e)})))},jo=(0,yr.makeStyles)({name:"Gradient"})((function(e,t){var n=t.linearGradient,r=t.height,o=t.width;return{gradient:Qr({position:"absolute",bottom:0,left:0},n&&{width:o,height:r,background:n})}})),Bo=function(e){var t=e.gradient,n=t.startColor,r=t.endColor,o=t.startTransparency,i=t.endTransparency,a=t.degree,l=t.heightPercent,s=void 0===l?1:l,u=t.widthPercent,c=void 0===u?1:u,d=t.midpointPercent,f=void 0===d?.5:d,m=(a+90)%360,v=1-o,h=1-i,g="".concat(100*s,"%"),y="".concat(100*c,"%"),b="".concat(100*f,"%"),I=(0,p.useMemo)((function(){return"linear-gradient(".concat(m,"deg, ").concat(n).concat(Math.round(255*v).toString(16).padStart(2,"0"),", ").concat(b,", ").concat(r).concat(Math.round(255*h).toString(16).padStart(2,"0"),")")}),[n,r,v,h,m,b]),S=jo({linearGradient:I,height:g,width:y}).classes;return p.createElement("div",{className:S.gradient})},zo=(0,yr.makeStyles)({name:"ImageWithGradient"})((function(e,t){var n=t.imageContainerHeight,r=t.borderRadius,o=t.imageAspectRatio;return{imageWithGradientWindow:{height:"".concat(n,"px"),width:"100%",position:"relative",overflow:"hidden",borderRadius:"".concat(r,"px"),display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},imageContainer:{aspectRatio:o,minWidth:"100%",flex:1}}})),Ho=function(e){var t=e.gradient,n=e.gradientHeightPercent,r=e.gradientWidthPercent,o=t.startColor,i=t.endColor,a=t.startTransparency,l=t.endTransparency,s=(t.degree+90)%360,u=1-a,c=1-l,d="".concat(100*n,"%"),f="".concat(100*r,"%"),m=(0,p.useMemo)((function(){return"linear-gradient(".concat(s,"deg, ").concat(o).concat(Math.round(255*u).toString(16).padStart(2,"0"),", ").concat(i).concat(Math.round(255*c).toString(16).padStart(2,"0"),")")}),[o,i,u,c,s]),v=(0,yr.makeStyles)()((function(){return{heroUnitGradient:{bottom:"0px",left:"0px",position:"absolute"}}}))().classes.heroUnitGradient;return p.createElement("div",{style:{background:m,width:f,height:d},className:v})},Wo=336,Vo="2px 2px 4px rgba(0, 0, 0, 0.15)",Jo=(0,yr.makeStyles)()((function(e,t){var n=t.hasTitleImage,r=t.forceSmallView,o=t.forceMediumView,i=t.forceSmallOrMediumView,a=t.minCardHeight,l=t.titleImageHeightPercentLarge,s=t.titleImageHeightPercentCompact,u=t.titleImageAspectRatio;return{heroUnitContentContainer:Qr(Qr({minHeight:"".concat(a,"px"),height:"".concat(Wo,"px"),width:"100%",position:"relative",display:"flex",overflow:"hidden",borderRadius:"8px",flexDirection:"column",justifyContent:"flex-end",padding:"20px"},i?{padding:"16px",aspectRatio:"16 / 9",height:"auto"}:{}),{},{"@media (max-width: 600px)":{padding:"16px",aspectRatio:"16 / 9",height:"auto"}}),heroUnitTitleContainer:{position:"absolute",top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",width:"100%"},heroUnitTitle:Qr(Qr(Qr(Qr({color:"white",position:"relative",textShadow:"".concat(Vo),fontFamily:"Builder Sans",fontSize:"40px",fontWeight:700,lineHeight:"48px"},i?{lineHeight:"28.8px"}:{}),r?{fontSize:"24px"}:{}),o?{fontSize:"28px"}:{}),{},{"@media (max-width: 600px)":{lineHeight:"28.8px"},"@media (min-width: 415px) and (max-width: 600px)":{fontSize:"24px"},"@media (max-width: 414px)":{fontSize:"28px"}}),heroUnitSubtitle:Qr(Qr({color:"white",textShadow:"".concat(Vo),marginTop:"2px",position:"relative",fontFamily:"Builder Sans",fontSize:"16px",fontWeight:400,lineHeight:"24px"},!n&&i&&{display:"none"}),!n&&{"@media (max-width: 600px)":{display:"none"}}),heroUnitTitleImageContainer:Qr(Qr({position:"absolute",height:"calc(var(--hero-unit-content-height) * ".concat(l,")"),width:"calc(var(--hero-unit-content-height) *".concat(l," * ").concat(u,")"),right:"20px",top:"20px"},i&&{height:"calc(var(--hero-unit-content-height) * ".concat(s,")"),width:"calc(var(--hero-unit-content-height) *".concat(s," * ").concat(u,")"),right:"16px",top:"16px"}),{},{"@media (max-width: 600px)":{height:"calc(var(--hero-unit-content-height) * ".concat(s,")"),width:"calc(var(--hero-unit-content-height) *".concat(s," * ").concat(u,")"),right:"16px",top:"16px"}})}})),qo=function(e){var t=e.title,n=e.subtitle,r=e.titleImageComponent,o=e.heroUnitRef,i=e.gradient,a=e.gradientHeightPercent,l=e.gradientWidthPercent,s=e.bottomRowComponent,u=e.overlayPillComponent,c=e.forceViewportWidth,d=e.titleImageAspectRatio,f=void 0===d?3:d,m=e.titleImageHeightPercentage,v=e.minCardHeight,h=void 0!==c&&c<=414,g=void 0!==c&&c<=600&&c>=415,y=Jo({hasTitleImage:!!r,forceSmallView:h,forceMediumView:g,forceSmallOrMediumView:h||g,minCardHeight:v,titleImageHeightPercentLarge:null!=m?m:1===f?.3:.2,titleImageHeightPercentCompact:null!=m?m:1===f?.26:.16,titleImageAspectRatio:f}).classes,b=y.heroUnitContentContainer,I=y.heroUnitTitleContainer,S=y.heroUnitTitle,C=y.heroUnitSubtitle,w=y.heroUnitTitleImageContainer,x=(0,p.useCallback)((function(){null!=o&&o.current&&o.current.style.setProperty("--hero-unit-content-height","".concat(o.current.getBoundingClientRect().height,"px"))}),[o]);return(0,p.useEffect)((function(){var e=null==o?void 0:o.current;if(e){x();var t=new ResizeObserver(qr(x,100));return t.observe(e),function(){t.unobserve(e)}}}),[o,x]),p.createElement("div",{className:b,ref:o},p.createElement(Ho,{gradient:i,gradientHeightPercent:a,gradientWidthPercent:l}),u,r&&p.createElement("div",{className:w},r),p.createElement("div",{className:I},p.createElement("span",{className:S},t),p.createElement("span",{className:C},n)),s)},Xo=function(e){var t=e.backgroundImageComponent,n=e.forceViewportWidth,r=e.minCardHeight,o=void 0!==n&&n<=600,i=(0,yr.makeStyles)()((function(){return{heroUnitBackgroundWindow:Qr(Qr({height:"".concat(Wo,"px"),width:"100%",position:"absolute",top:"24px",overflow:"hidden",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"".concat(r,"px")},o?{aspectRatio:"16 / 9",height:"auto",top:"16px"}:{}),{},{"@media (max-width: 600px)":{aspectRatio:"16 / 9",height:"auto",top:"16px"}}),heroUnitBackgroundContainer:Qr(Qr({"--parallax-scale":"100",minWidth:"max(100%, 1320px)",height:"436px",display:"flex",flexDirection:"column",transform:"translateY(calc(var(--parallax-scale) * ((var(--scroll) * 1px) - 0.5px)))","@media (prefers-reduced-motion)":{transform:"translateY(0.5px)"},"@media (min-width: 1320px)":{height:"auto"}},o?{minHeight:"calc(100% + 66px)",width:"auto","--parallax-scale":"66"}:{}),{},{"@media (max-width: 600px)":{minHeight:"calc(100% + 66px)",width:"auto","--parallax-scale":"66"}})}}))().classes,a=i.heroUnitBackgroundWindow,l=i.heroUnitBackgroundContainer;return p.createElement("div",{className:a},p.createElement("div",{className:l},t))},Ko=(0,yr.makeStyles)()((function(e,t){var n=t.forceViewportWidth,r=t.maxForegroundHeightPercentString,o=t.forceSmallOrMediumView,i=t.minForegroundHeightPercentString,a=t.foregroundScaleFactor,l=t.foregroundAspectRatio;return{heroUnitContainer:Qr({width:"100%",position:"relative",display:"flex",overflow:"hidden",alignItems:"center",flexDirection:"column",cursor:"pointer",margin:"none","& img":{width:"100%",height:"100%"}},n?{maxWidth:"".concat(n,"px")}:{}),heroUnitForegroundContainer:Qr(Qr({height:r,aspectRatio:"".concat(l),maxHeight:"calc(var(--hero-unit-container-width) / ".concat(l,")"),display:"flex",flexDirection:"column",position:"absolute",top:"0px","--parallax-scale":"".concat(48),transform:"translateY(calc(var(--parallax-scale) * ((var(--scroll) * -1px) + 1px)))","@media (prefers-reduced-motion)":{transform:"translateY(0px)"}},o?{height:i,"--parallax-scale":"".concat(32)}:{}),{},{"@media (max-width: 600px)":{height:i,"--parallax-scale":"".concat(32)},"@media (min-width: 601px) and (max-width: 1140px)":{height:"calc(".concat(i," + ((").concat(a," * (100vw - 600px)) / 540))")}}),heroUnitTopSpacer:Qr(Qr({height:"".concat(24,"px")},o?{height:"".concat(16,"px")}:{}),{},{"@media (max-width: 600px)":{height:"".concat(16,"px")}})}})),$o=function(e){var t=e.title,n=e.subtitle,r=e.titleImageComponent,o=e.foregroundImageComponent,i=e.backgroundImageComponent,a=e.gradient,l=e.gradientHeightPercent,s=void 0===l?.5:l,u=e.gradientWidthPercent,c=void 0===u?1:u,d=e.backgroundClickAction,f=e.backgroundClickLinkPath,m=e.bottomRowComponent,v=e.overlayPillComponent,h=e.minForegroundHeightPercent,g=void 0===h?.8:h,y=e.maxForegroundHeightPercent,b=void 0===y?1:y,I=e.forceViewportWidth,S=e.titleImageAspectRatio,C=void 0===S?3:S,w=e.titleImageHeightPercentage,x=e.minCardHeight,P=void 0===x?262:x,E=e.foregroundAspectRatio,T=void 0===E?1:E,k=p.useRef(!1),A=$r(p.useState(1),2),N=A[0],O=A[1],_=void 0!==I&&I<=600,M=p.useRef(null),R=p.useRef(null),D="".concat(Math.round(100*g),"%"),L="".concat(Math.round(100*b),"%"),F=Ko({forceViewportWidth:I,maxForegroundHeightPercentString:L,forceSmallOrMediumView:_,minForegroundHeightPercentString:D,foregroundScaleFactor:360*(b-g),foregroundAspectRatio:T}).classes,U=F.heroUnitContainer,G=F.heroUnitForegroundContainer,j=F.heroUnitTopSpacer,B=(0,p.useCallback)((function(){var e=Jr(.2,0,.8,1);if(M.current&&window.innerHeight){var t=N;if(!k.current){var n=M.current.getBoundingClientRect().top+168;if(n<=0)return;t=Math.min(n,window.innerHeight)/window.innerHeight,O(t)}var r=M.current.getBoundingClientRect(),o=(t-r.top/window.innerHeight)/t,i=e(Math.max(Math.min(o,1),0));R.current&&(R.current.style.setProperty("--scroll",i.toString()),R.current.style.setProperty("--hero-unit-container-width","".concat(r.width,"px")))}}),[M,k,N]);return(0,p.useEffect)((function(){var e=qr(B,100),t=new MutationObserver(e);document.body&&!k.current&&t.observe(document.body,{childList:!0,subtree:!0}),B();var n=function(){B(),k.current=!0,t.disconnect()};return window.addEventListener("scroll",n),window.addEventListener("resize",n),function(){window.removeEventListener("scroll",n),window.removeEventListener("resize",n),t.disconnect()}}),[k,B]),p.createElement("div",{ref:R},p.createElement(po,{containerClassName:U,callback:d,linkPath:f,ariaLabel:t,dataTestId:"hero-unit"},p.createElement("div",{className:j}),p.createElement(Xo,{backgroundImageComponent:i,forceViewportWidth:I,minCardHeight:P}),p.createElement("div",{className:G},o),p.createElement(qo,{title:t,subtitle:n,titleImageComponent:r,heroUnitRef:M,gradient:a,gradientHeightPercent:s,gradientWidthPercent:c,bottomRowComponent:m,overlayPillComponent:v,forceViewportWidth:I,titleImageAspectRatio:C,titleImageHeightPercentage:w,minCardHeight:P})))},Zo=function(e){var t=e.pillText,n=(0,yr.makeStyles)()((function(){return{heroUnitPill:{width:"76px",height:"24px",borderRadius:"16px",backgroundColor:"white",color:"black",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"auto",zIndex:10},heroUnitPillText:{fontFamily:"Builder Sans",fontSize:"12px",fontWeight:600,lineHeight:"12px"}}}))().classes,r=n.heroUnitPill,o=n.heroUnitPillText;return p.createElement("div",{className:r},p.createElement("span",{className:o},t))},Yo=(0,yr.makeStyles)()((function(e,t){var n=t.verticalGap;return{sectionHeader:Qr({position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},t.containerOverrideStyles),titleSubtitleContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"".concat(n,"px"),minWidth:0,width:"100%"}}})),Qo=function(e){var t=e.onTitleActivated,n=e.titleText,r=e.titleLinkPath,o=e.titleTextColor,i=e.titleFontStyle,a=e.titleGap,l=e.titleIconClassName,s=e.titleIconWidth,u=e.titleIconColor,c=e.titleIconFirst,d=void 0!==c&&c,f=e.titleComponent,m=e.onSubtitleActivated,v=e.subtitleLinkPath,h=e.subtitleText,g=e.subtitleTextColor,y=e.subtitleFontStyle,b=e.subtitleGap,I=e.subtitleIconClassName,S=e.subtitleIconWidth,C=e.subtitleIconColor,w=e.subtitleIconFirst,x=void 0!==w&&w,P=e.subtitleComponent,E=e.verticalGap,T=void 0===E?0:E,k=e.iconComponent,A=e.containerOverrides,N=(0,p.useMemo)((function(){return A?mo(A):{}}),[A]),O=Yo({verticalGap:T,containerOverrideStyles:N}).classes,_=O.sectionHeader,M=O.titleSubtitleContainer,R=(0,p.useMemo)((function(){return f||(void 0!==n&&void 0!==o&&void 0!==i?p.createElement(Co,{text:n,textColor:o,fontStyle:i,gap:a,iconClassName:l,iconWidth:s,iconColor:u,iconFirst:d}):null)}),[f,i,a,l,u,d,s,n,o]),D=(0,p.useMemo)((function(){return P||(void 0!==h&&void 0!==g&&void 0!==y?p.createElement(Co,{onActivated:m,linkPath:v,text:h,textColor:g,fontStyle:y,gap:b,iconClassName:I,iconWidth:S,iconColor:C,iconFirst:x}):null)}),[m,v,P,y,b,I,C,x,S,h,g]),L=k,F=(0,p.useMemo)((function(){return p.createElement(po,{containerClassName:M,callback:t,linkPath:r,ariaLabel:n,dataTestId:"section-header-title-subtitle-container"},R,D)}),[t,D,R,r,M,n]);return p.createElement("div",{className:_,"data-testid":"section-header"},F,L)},ei={topLeftSlot:{anchorPoint:{x:0,y:0},position:{xScale:0,yScale:0,xOffset:0,yOffset:0}},topMiddleSlot:{anchorPoint:{x:.5,y:0},position:{xScale:.5,yScale:0,xOffset:0,yOffset:0}},topRightSlot:{anchorPoint:{x:1,y:0},position:{xScale:1,yScale:0,xOffset:0,yOffset:0}},centerLeftSlot:{anchorPoint:{x:0,y:.5},position:{xScale:0,yScale:.5,xOffset:0,yOffset:0}},centerMiddleSlot:{anchorPoint:{x:.5,y:.5},position:{xScale:.5,yScale:.5,xOffset:0,yOffset:0}},centerRightSlot:{anchorPoint:{x:1,y:.5},position:{xScale:1,yScale:.5,xOffset:0,yOffset:0}},bottomLeftSlot:{anchorPoint:{x:0,y:1},position:{xScale:0,yScale:1,xOffset:0,yOffset:0}},bottomMiddleSlot:{anchorPoint:{x:.5,y:1},position:{xScale:.5,yScale:1,xOffset:0,yOffset:0}},bottomRightSlot:{anchorPoint:{x:1,y:1},position:{xScale:1,yScale:1,xOffset:0,yOffset:0}}},ti=Object.keys(ei),ni={background:"transparent",width:"auto",height:"auto",zIndex:10,pointerEvents:"none",position:"absolute"},ri=(0,yr.makeStyles)()((function(e,t){var n=t.padding,r=t.containerOverrideStyles,o=Object.keys(ei).reduce((function(e,t){var r,o=t;return e[o]=Qr(Qr(Qr({},ni),{left:"".concat(100*(r=ei[o]).position.xScale,"%"),top:"".concat(100*r.position.yScale,"%"),transform:"translate(-".concat(100*r.anchorPoint.x,"%, -").concat(100*r.anchorPoint.y,"%)")}),{},{padding:"".concat(n,"px")}),e}),{});return Qr({overlayContainer:Qr({position:"relative",boxSizing:"border-box",width:"100%",height:"100%",background:"transparent",overflow:"hidden",display:"block"},r)},o)})),oi=function(e){var t=e.topLeftSlot,n=e.topMiddleSlot,r=e.topRightSlot,o=e.centerLeftSlot,i=e.centerMiddleSlot,a=e.centerRightSlot,l=e.bottomLeftSlot,s=e.bottomMiddleSlot,u=e.bottomRightSlot,c=e.padding,d=void 0===c?0:c,f=e.containerOverrides,m=e.children,v=(0,p.useMemo)((function(){return f?mo(f):{}}),[f]),h=ri({padding:d,containerOverrideStyles:v}).classes,g=(0,p.useMemo)((function(){return{topLeftSlot:t,topMiddleSlot:n,topRightSlot:r,centerLeftSlot:o,centerMiddleSlot:i,centerRightSlot:a,bottomLeftSlot:l,bottomMiddleSlot:s,bottomRightSlot:u}}),[t,n,r,o,i,a,l,s,u]),y=(0,p.useMemo)((function(){return ti.map((function(e){var t=g[e];if(t){var n=h[e];return p.createElement("div",{key:e,className:n,"data-testid":"slot-wrapper-".concat(e)},t)}return null})).filter((function(e){return null!==e}))}),[g,h]);return p.createElement("div",{className:h.overlayContainer,"data-testid":"slot-overlay-container"},m,y)},ii=(0,yr.makeStyles)()((function(e,t){var n=t.textFontStyle,r=t.textColor;return{textElement:Qr(Qr({},co),Io(yo,r,n))}})),ai=function(e){var t=e.text,n=e.textFontStyle,r=e.textColor,o=ii({textFontStyle:n,textColor:r}).classes.textElement;return p.createElement("span",Qr({className:o},bo(yo)),t)},li=function(e,t){try{var n=$r(Xr(e).rgb().array(),3),r=n[0],o=n[1],i=n[2];return"rgba(".concat(r,", ").concat(o,", ").concat(i,", ").concat(1-t,")")}catch(t){return e}},si=(0,yr.makeStyles)()((function(e,t){var n=t.textColor,r=t.fontStyle,o=t.backgroundColor,i=t.backgroundTransparency,a=t.verticalPadding,l=t.horizontalPadding,s=t.containerOverrideStyles;return{pillText:Qr(Qr({backgroundColor:"transparent",padding:"".concat(a,"px ").concat(l,"px")},Io(yo,n,r)),co),pillContainer:Qr({display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"999px",backgroundColor:li(o,i)},s)}})),ui=function(e){var t=e.text,n=e.textColor,r=e.fontStyle,o=e.backgroundColor,i=e.backgroundTransparency,a=e.verticalPadding,l=e.horizontalPadding,s=e.containerOverrides,u=(0,p.useMemo)((function(){return s?mo(s):{}}),[s]),c=si({textColor:n,fontStyle:r,backgroundColor:o,backgroundTransparency:i,verticalPadding:a,horizontalPadding:l,containerOverrideStyles:u}).classes,d=c.pillText,f=c.pillContainer;return p.createElement("div",{className:f,"data-testid":"pill-container"},p.createElement("span",Qr({className:d,"data-testid":"pill-text"},bo(yo)),t))},ci=(0,yr.makeStyles)()((function(e,t){var n=t.titleHeight,r=t.titleLines,o=t.titleColor,i=t.titleFontStyles,a=t.isContained,l=t.containmentPadding;return{tileBottomContentContainer:Qr({width:"100%",display:"flex",flexDirection:"row",gap:"4px"},a&&{padding:"0px ".concat(l,"px ").concat(l,"px ").concat(l,"px")}),tileBottomLeftContentContainer:{width:"fit-content",maxWidth:"100%",overflow:"hidden",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center"},tileBottomRightContentContainer:{width:"fit-content",maxWidth:"100%",flexShrink:0,display:"flex"},tileTitleContainer:{height:n},tileTitleText:Qr(Qr({width:"100%",height:"100%",overflow:"hidden"},1===r&&Qr({},co)),Io(yo,o,i))}})),di=function(e){var t=e.titleText,n=e.titleLines,r=e.titleFontStyles,o=e.titleColor,i=e.titleComponent,a=e.footerComponent,l=e.ctaButtonComponent,s=e.isContained,u=e.containmentPadding,c=n*(r.LineHeight*r.FontSize),d=ci({titleHeight:c,titleLines:n,titleColor:o,titleFontStyles:r,isContained:s,containmentPadding:u}).classes,f=d.tileBottomContentContainer,m=d.tileBottomLeftContentContainer,v=d.tileBottomRightContentContainer,h=d.tileTitleContainer,g=d.tileTitleText,y=(0,p.useMemo)((function(){return i||(t?p.createElement("div",{className:h,"data-testid":"tile-title-container"},p.createElement("div",Qr({className:g},bo(yo)),t)):null)}),[i,t,h,g]);return p.createElement("div",{className:f},p.createElement("div",{className:m},y,a&&a),l&&p.createElement("div",{className:v},l))};var fi=(0,yr.makeStyles)()((function(e,t){var n=t.imageAspectRatio,r=t.isContained,o=t.containmentBackgroundColor,i=t.isFocused,a=t.cornerRadius,l=t.placeholderImageBackgroundColor;return{tileContainer:Qr({width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:"4px"},r&&Qr({borderBottomLeftRadius:"".concat(a,"px"),borderBottomRightRadius:"".concat(a,"px")},o&&{backgroundColor:o})),tileImageContainer:{width:"100%",height:"auto",aspectRatio:"".concat(n),position:"relative","&::before":Qr(Qr({content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"".concat(a,"px")},r&&{borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px"}),{},{backgroundColor:"transparent",transition:"background-color ".concat(lo," ").concat(so)},i&&{backgroundColor:"rgba(255, 255, 255, 0.1)"}),"& img":Qr({width:"100%",height:"100%",objectFit:"cover",aspectRatio:"".concat(n),borderRadius:"".concat(a,"px")},r&&{borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px"})},placeholderImage:Qr({width:"100%",height:"100%",aspectRatio:"".concat(n),backgroundColor:l,borderRadius:"".concat(a,"px")},r&&{borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px"})}})),pi=function(e){var t=e.isFocused,n=e.imageComponent,r=e.imageAspectRatio,o=e.thumbnailOverlayComponent,i=e.onActivated,a=e.linkPath,l=e.isContained,s=e.containmentPadding,u=e.containmentBackgroundColor,c=e.cornerRadius,d=e.titleText,f=e.titleColor,m=e.titleFont,v=e.titleLines,h=e.titleComponent,g=e.footerComponent,y=e.ctaButtonComponent,b=e.isOnScreen,I=e.placeholderImageBackgroundColor,S=function(){var e=$r((0,p.useState)(!1),2),t=e[0],n=e[1],r=Kr((function(){n(!0)}),100);return[t,function(){r()},function(){r.cancel(),n(!1)}]}(),C=$r(S,3),w=C[0],x=C[1],P=C[2],E=fi({imageAspectRatio:r,isContained:l,containmentBackgroundColor:u,isFocused:w||t,cornerRadius:c,placeholderImageBackgroundColor:I}).classes,T=E.tileContainer,k=E.tileImageContainer,A=E.placeholderImage,N=(0,p.useMemo)((function(){return n||p.createElement("div",{"data-testid":"placeholder-image",className:A})}),[n,A]);return p.createElement(po,{containerClassName:T,callback:i,linkPath:a,tabIndex:b?0:-1,onFocus:x,onFocusLost:P,ariaLabel:d},p.createElement("div",{className:k},N,o),p.createElement(di,{titleText:d,titleLines:v,titleColor:f,titleFontStyles:m,titleComponent:h,footerComponent:g,ctaButtonComponent:y,isContained:l,containmentPadding:null!=s?s:0}))},mi=(0,yr.makeStyles)()((function(e,t){var n=t.textHeight,r=t.textColor,o=t.textIconGap,i=t.sectionGap,a=t.fontStyle;return{tileFooterContainer:Qr({display:"flex",alignItems:"center",gap:"".concat(i,"px"),width:"100%",height:n,whiteSpace:"nowrap"},uo),leftContainer:{flexShrink:0,minWidth:0,width:"fit-content",maxWidth:"100%",display:"flex",flexDirection:"row",alignItems:"center",gap:"".concat(o,"px")},rightContainer:{flexShrink:1,minWidth:0,display:"flex",flexDirection:"row",alignItems:"center",gap:"".concat(o,"px")},textClassName:Qr(Qr({width:"100%",height:"100%"},co),Io(yo,r,a)),iconContainer:{flexShrink:0,display:"flex",alignItems:"center"}}})),vi=function(e){var t=e.onActivated,n=e.linkPath,r=e.textColor,o=e.fontStyle,i=e.textIconGap,a=e.sectionGap,l=e.iconWidth,s=e.iconColor,u=e.leftIcon,c=e.leftIconComponent,d=e.leftText,f=e.rightIcon,m=e.rightIconComponent,v=e.rightText,h=o.LineHeight*o.FontSize,g=null!=s?s:r,y=null!=l?l:h,b=mi({textHeight:h,textColor:r,textIconGap:null!=i?i:0,sectionGap:null!=a?a:0,fontStyle:o}).classes,I=b.tileFooterContainer,S=b.leftContainer,C=b.rightContainer,w=b.textClassName,x=b.iconContainer,P=(0,p.useMemo)((function(){return c||(u?p.createElement(ro,{iconClassName:u,color:g,width:y}):null)}),[u,c,g,y]),E=(0,p.useMemo)((function(){return m||(f?p.createElement(ro,{iconClassName:f,color:g,width:y}):null)}),[f,m,g,y]),T=(0,p.useMemo)((function(){return p.createElement(p.Fragment,null,p.createElement("div",{className:S},P&&p.createElement("div",{className:x,"data-testid":"left-icon-container"},P),p.createElement("div",Qr({className:w},bo(yo)),d)),p.createElement("div",{className:C},E&&p.createElement("div",{className:x},E),v&&p.createElement("div",Qr({className:w},bo(yo)),v)))}),[S,C,w,P,E,d,v,x]);return p.createElement(po,{containerClassName:I,callback:t,linkPath:n,ariaLabel:d},T)},hi=(0,yr.makeStyles)({name:"VerticalFeed"})((function(e,t){var n=t.maxWidth,r=t.gapBetweenFeedItems,o=t.paddingLeft,i=t.paddingRight;return{verticalFeedContainer:{display:"flex",justifyContent:"center",paddingLeft:o?"".concat(o,"px"):"0px",paddingRight:i?"".concat(i,"px"):"0px"},verticalFeedContentContainer:{display:"flex",flexDirection:"column",gap:"".concat(r,"px"),width:"100%",maxWidth:n?"".concat(n,"px"):"100%"}}})),gi=function(e){var t=e.feedItems,n=e.maxWidth,r=e.gapBetweenFeedItems,o=void 0===r?0:r,i=e.paddingLeft,a=e.paddingRight,l=hi({maxWidth:n,gapBetweenFeedItems:o,paddingLeft:i,paddingRight:a}).classes;return p.createElement("div",{className:l.verticalFeedContainer},p.createElement("div",{className:l.verticalFeedContentContainer},t.map((function(e){var t=e.key,n=e.component;return p.createElement("div",{key:t},n)}))))},yi=(0,yr.makeStyles)({name:"DetailsPageHeader"})((function(e,t){var n=t.backgroundMaxWidth,r=t.contentMaxWidth,o=t.contentPaddingLeft,i=t.contentPaddingRight;return{detailsPageHeaderContainer:{position:"relative",display:"flex",justifyContent:"center"},backgroundContainer:{width:"100%",maxWidth:n?"".concat(n,"px"):"100%"},contentContainer:{position:"absolute",bottom:"24px",left:0,width:"100%",paddingLeft:o?"".concat(o,"px"):"0px",paddingRight:i?"".concat(i,"px"):"0px",display:"flex",justifyContent:"center"},contentMaxWidthContainer:{width:"100%",maxWidth:r?"".concat(r,"px"):"100%"}}})),bi=(0,yr.makeStyles)({name:"Page"})((function(e,t){var n=t.backgroundColor;return{pageContainer:Qr({display:"flex",flexDirection:"column",minHeight:"100vh",gap:"24px"},n&&{backgroundColor:n})}})),Ii=function(e){var t=e.titleText,n=e.sendNavigateToSortLinkEvent,r=e.titleLink,o=e.isSortLinkOverrideEnabled,i=e.subtitleText,a=e.subtitleLink,l=e.shouldShowSeparateSubtitleLink,s=e.hasBackgroundMural,u=e.tooltipText,c=e.hideSeeAll,d=(0,g.useTokens)(),f=(o||l)&&a&&i,v=(0,p.useMemo)((function(){if(i)return s?d.Color.Extended.Gray.Gray_100:d.Color.Content.Emphasis}),[i,s,d.Color.Extended.Gray.Gray_100,d.Color.Content.Emphasis]),h=(0,p.useMemo)((function(){if(f)return s?"icon-chevron-right-dark":"icon-chevron-right"}),[f,s]);return m().createElement("div",{className:"home-sort-header-container",style:{marginBottom:d.Gap.Large}},m().createElement(Qo,{titleText:t,onTitleActivated:c?void 0:n,titleLinkPath:c?void 0:r,titleTextColor:s?d.Color.Extended.Gray.Gray_100:d.Color.Content.Emphasis,titleFontStyle:d.Typography.HeadingSmall,titleGap:c?void 0:d.Gap.XSmall,titleIconClassName:c?void 0:"sdui-icon icon-push-right-16x16",titleIconWidth:c?void 0:16,titleIconFirst:!1,subtitleText:i||void 0,subtitleTextColor:v,subtitleFontStyle:i?d.Typography.BodyMedium:void 0,subtitleGap:f?d.Gap.XXSmall:void 0,onSubtitleActivated:f?n:void 0,subtitleLinkPath:f?a:void 0,subtitleIconClassName:f?h:void 0,subtitleIconWidth:f?22:void 0,subtitleIconFirst:!1,verticalGap:d.Gap.XXSmall,iconComponent:u?m().createElement(pn,{tooltipText:u,placement:"left",centerIcon:!0}):void 0,containerOverrides:s?{zIndex:1}:void 0}))},Si=function(e){var t=e.sortTitle,n=e.sortSubtitle,r=e.seeAllLink,o=e.subtitleLink,i=e.shouldShowSeparateSubtitleLink,a=e.isSortLinkOverrideEnabled,l=e.buildNavigateToSortLinkEventProperties,s=e.shouldShowSponsoredTooltip,u=e.tooltipInfoText,c=e.titleContainerClassName,d=e.hideSeeAll,f=e.endTimestamp,v=e.countdownString,g=e.backgroundImageAssetId,y=e.isNewSortHeaderEnabled,b=e.useRouterLink,S=e.translate,C=(0,p.useMemo)((function(){return u||(s?S(Re.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.":void 0)}),[s,u,S]),w=(0,p.useMemo)((function(){return S(a?Fe.LabelLearnMore:Le.ActionSeeAll)}),[a,S]),x=(0,p.useCallback)((function(){if(a&&l){var e=l(),t=te.navigateToSortLink(e);A.eventStreamService.sendEvent.apply(A.eventStreamService,t)}}),[a,l]),P=(0,p.useMemo)((function(){return d||!r?m().createElement("span",null,t):b?m().createElement(h.Link,{to:r},t):m().createElement(I.Link,{url:r},t)}),[d,r,b,t]),E=(0,p.useMemo)((function(){return d||!r?null:b?m().createElement(h.Link,{to:r,onClick:x,className:"btn-secondary-xs see-all-link-icon btn-more"},w):m().createElement(I.Link,{url:r,onClick:x,className:"btn-secondary-xs see-all-link-icon btn-more"},w)}),[d,r,b,w,x]);return y?m().createElement(Ii,{titleText:t,sendNavigateToSortLinkEvent:x,titleLink:r,isSortLinkOverrideEnabled:a,subtitleText:n,subtitleLink:o,shouldShowSeparateSubtitleLink:i,hasBackgroundMural:!!g,tooltipText:C,hideSeeAll:d}):m().createElement("div",{className:"game-sort-header-container"},m().createElement("div",{className:c},m().createElement("h2",{className:"sort-header"},P,C&&m().createElement(pn,{tooltipText:C,placement:"right"})),E),m().createElement(gr,{defaultSubtitle:n,endTimestamp:f,countdownString:v,formatSubtitleLink:a||i,subtitleLink:o,handleSeeAllLinkClick:x,backgroundImageAssetId:g}))};Si.defaultProps={sortSubtitle:void 0,tooltipInfoText:void 0,hideSeeAll:void 0,endTimestamp:void 0,countdownString:void 0,buildNavigateToSortLinkEventProperties:void 0,backgroundImageAssetId:void 0,isNewSortHeaderEnabled:void 0,useRouterLink:!1};var Ci=Si,wi=function(e){var t=e.children,n=e.backgroundImageAssetId,r=(0,p.useState)(""),o=r[0],i=r[1];return(0,p.useEffect)((function(){var e=!0;return n?Pe(n).then((function(t){e&&i(t)}),(function(){e&&i("")})):i(""),function(){e=!1}}),[n]),m().createElement("div",{className:vt()(["game-sort-carousel-wrapper",{"game-sort-with-mural":!!n,"game-sort-mural-loaded":!!o}])},o&&m().createElement("div",{className:"game-sort-mural-wrapper"},m().createElement("img",{className:"game-sort-mural",alt:"",src:o}),m().createElement("div",{className:"game-sort-mural-gradient"})),t)},xi=rt.keyBoardEventCode,Pi=function(e){var t=e.scrollClassNames,n=e.scrollIconClassName,r=e.scroll,o=e.isDisabled,i=e.isNewScrollArrowsEnabled;return m().createElement("div",{"data-testid":"game-carousel-scroll-bar",className:t,onClick:r,"aria-disabled":o,onKeyDown:function(e){e.code===xi.enter&&(e.stopPropagation(),e.preventDefault(),r())},role:"button",tabIndex:0},i?m().createElement("span",{className:n}):m().createElement(m().Fragment,null,m().createElement("div",{className:"arrow"},m().createElement("span",{className:n})),m().createElement("div",{className:"spacer"})))},Ei=function(e){var t=e.hideScrollBackWhenDisabled,n=void 0!==t&&t,r=e.isScrollBackDisabled,o=e.isScrollForwardDisabled,i=e.onScrollBack,a=e.onScrollForward;return e.isNewScrollArrowsEnabled?m().createElement(m().Fragment,null,!r&&m().createElement(Pi,{scrollClassNames:"scroller-new prev",scrollIconClassName:"icon-chevron-heavy-left",scroll:i,isDisabled:r,isNewScrollArrowsEnabled:!0}),!o&&m().createElement(Pi,{scrollClassNames:"scroller-new next",scrollIconClassName:"icon-chevron-heavy-right",scroll:a,isDisabled:o,isNewScrollArrowsEnabled:!0})):m().createElement(m().Fragment,null,n&&r?null:m().createElement(Pi,{scrollClassNames:vt()("scroller","prev",{disabled:r}),scrollIconClassName:"icon-games-carousel-left",isDisabled:r,scroll:i,isNewScrollArrowsEnabled:!1}),m().createElement(Pi,{scrollClassNames:vt()("scroller","next",{disabled:o}),scrollIconClassName:"icon-games-carousel-right",isDisabled:o,scroll:a,isNewScrollArrowsEnabled:!1}))};Ei.defaultProps={isNewScrollArrowsEnabled:void 0};var Ti,ki=Ei,Ai=function(e){var t,n=e.distance,r=e.scrollAreaSize,o=e.direction,i=e.startingPosition,a=e.currentPage,l=e.pageSession,s=e.gameSetTypeId,u=e.gameSetTargetId,c=e.sortPosition,d=((t={})[L.StartPos]=i,t[L.Distance]=n,t[L.Direction]=o,t[L.PageSession]=l,t[L.GameSetTypeId]=s,t[L.GameSetTargetId]=u,t[L.SortPos]=c,t[L.ScrollDepth]=n/r,t[L.StartDepth]=i/r,t[L.ScreenSizeX]=window.innerWidth,t[L.ScreenSizeY]=window.innerHeight,t[L.ScrollAreaSize]=r,t);S.EventStream.SendEventWithTarget(F.FeedScroll,a,d,S.EventStream.TargetTypes.WWW)},Ni=function(e){var t=e.scrollPosition,n=e.page,r=e.gameSetTypeId,o=e.gameSetTargetId,i=e.sortPosition,a=e.wrapperRef,l=(0,p.useRef)(t),s=mr(),u=(0,p.useMemo)((function(){var e=ht((function(e){var t;if(e!==l.current){var u=Math.round((null===(t=a.current)||void 0===t?void 0:t.getBoundingClientRect().width)||window.innerWidth);Ai({distance:e-l.current,scrollAreaSize:u,startingPosition:l.current,currentPage:n,direction:j.Horizontal,gameSetTypeId:r,gameSetTargetId:o,sortPosition:i,pageSession:s}),l.current=e}}),250)[0];return e}),[n,r,o,i,s]);(0,p.useEffect)((function(){u(t)}),[u,t])},Oi=window.EventTracker?EventTracker:{fireEvent:console.log,start:console.log,endSuccess:console.log,endCancel:console.log,endFailure:console.log},_i=function(){return _i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_i.apply(this,arguments)},Mi=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},Ri=function(e,t){return e.map((function(e){var n,r=e.contentType,o=e.contentId,i=e.contentMetadata,a=null===(n=null==t?void 0:t[r])||void 0===n?void 0:n[o];if(a){var l=_i({},a),s=null==i?void 0:i.EncryptedAdTrackingData;return l.isSponsored=(null==s?void 0:s.length)>0,l.nativeAdData=s,l}return a})).filter((function(e){return void 0!==e}))},Di=function(e){return"games"in e},Li=function(e){return"games"in e},Fi=function(e){return"songs"in e},Ui=function(e){return"filters"in e},Gi=function(e,t){return"recommendationList"in e?Ri(e.recommendationList,t):Di(e)?e.games:[]},ji=function(e){return{topic:e.sortDisplayName,topicId:e.gameSetTypeId,treatmentType:e.treatmentType,games:e.games.map((function(e){var t;return _i(_i({},e),{placeId:null!==(t=e.placeId)&&void 0!==t?t:e.rootPlaceId})})),sortId:e.sortId,gameSetTargetId:e.gameSetTargetId,contentType:e.contentType,nextPageToken:e.nextPageToken||"",subtitle:e.subtitle,topicLayoutData:e.topicLayoutData,appliedFilters:e.appliedFilters}},Bi=function(e){return function(e){return"games"in e}(e)?ji(e):function(e){return"songs"in e}(e)?function(e){return{topic:e.sortDisplayName,topicId:e.gameSetTypeId,treatmentType:e.treatmentType,songs:e.songs,sortId:e.sortId,contentType:e.contentType,nextPageToken:e.nextPageToken||"",subtitle:e.subtitle,topicLayoutData:e.topicLayoutData}}(e):function(e){return{topic:e.sortDisplayName,topicId:e.gameSetTypeId,treatmentType:e.treatmentType,filters:e.filters,sortId:e.sortId,gameSetTargetId:e.gameSetTargetId,contentType:e.contentType,nextPageToken:e.nextPageToken||"",subtitle:e.subtitle,topicLayoutData:e.topicLayoutData}}(e)},zi=function(e){return{sorts:e.sorts.map((function(e){return Bi(e)})),nextSortsPageToken:e.nextSortsPageToken}},Hi=function(e){if(e&&Di(e))return e.gameSetTargetId},Wi=function(e){var t,n=Hi(e);return void 0!==n?((t={})[L.GameSetTargetId]=n,t):{}},Vi=function(e){var t=e.find(Ui);if(t){var n=new Map;return t.filters.forEach((function(e){n.set(e.filterType,e.selectedOptionId)})),n}},Ji=function(e){var t;return e&&Di(e)&&e.appliedFilters?((t={})[L.AppliedFilters]=encodeURIComponent(e.appliedFilters),t):{}},qi=null!==(Ti=window.ResizeObserver)&&void 0!==Ti?Ti:Vr,Xi=function(){var e=(0,p.useState)(void 0),t=e[0],n=e[1],r=(0,p.useCallback)((function(e){var t,r=null===(t=null==e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.width;void 0!==r&&n(r)}),[]),o=(0,p.useCallback)((function(e){e&&e[0]&&e[0].target&&r(e[0].target)}),[r]),i=(0,p.useRef)(new qi(o)),a=(0,p.useCallback)((function(e){e&&(null==i?void 0:i.current)&&(r(e),i.current.disconnect(),i.current.observe(e))}),[r]);return(0,p.useEffect)((function(){return function(){(null==i?void 0:i.current)&&i.current.disconnect()}}),[]),[a,t]},Ki=ct,$i=Ki.numGameCarouselLookAheadWindows,Zi=Ki.gameTileGutterWidth,Yi=Ki.wideGameTileGutterWidth,Qi=Ki.scrollerWidth,ea=dt.wideTileHoverGrowWidthPx,ta=function(e){var t=e.gameData,n=e.sort,r=e.positionId,o=e.page,a=e.gamesContainerRef,l=e.buildEventProperties,s=e.loadMoreGames,u=e.isLoadingMoreGames,c=e.componentType,d=e.playerCountStyle,f=e.playButtonStyle,v=e.itemsPerRow,h=e.friendData,g=e.navigationRootPlaceId,y=e.isSponsoredFooterAllowed,b=e.hideTileMetadata,I=e.hoverStyle,S=e.topicId,C=e.isExpandHomeContentEnabled,w=e.isCarouselHorizontalScrollEnabled,x=e.isNewScrollArrowsEnabled,P=e.hideScrollBackWhenDisabled,E=e.sortId,T=e.translate,k=(0,p.useRef)(null),A=(0,p.useState)(0),N=A[0],_=A[1],M=(0,p.useState)(!1),R=M[0],D=M[1],L=(0,p.useState)(!0),F=L[0],U=L[1],G=(0,p.useState)(!0),j=G[0],B=G[1],z=(0,p.useState)(0),H=z[0],W=z[1],V=(0,p.useMemo)((function(){return c===i.GridTile||c===i.EventTile}),[c]),J=(0,p.useMemo)((function(){return V?Yi:Zi}),[V]),q=Xi(),X=q[0],K=q[1],$=Xi(),Z=$[0],Y=$[1],Q=(0,p.useMemo)((function(){var e,t;if(V&&v)return v;var n=null===(t=null===(e=null==k?void 0:k.current)||void 0===e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.width;return void 0!==Y&&void 0!==n?Math.max(1,Math.floor((Y+J)/(n+J))):0}),[Y,J,v,V]);(0,p.useEffect)((function(){U(H>=0),u||void 0!==Y&&void 0!==K&&Math.abs(H)+Y+ea>=K?B(!0):B(!1)}),[H,Y,K,null==t?void 0:t.length,u]);var ee=(0,p.useCallback)((function(){N+$i*Q>=(null==t?void 0:t.length)&&s&&!u&&s()}),[N,Q,s,u,null==t?void 0:t.length]),te=(0,p.useCallback)((function(){var e,t,n=null===(t=null===(e=null==k?void 0:k.current)||void 0===e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.width;return void 0===n?0:Math.floor(Q)*(n+J)}),[Q,J]),ne=(0,p.useCallback)((function(){if(!F){var e=te();W((function(t){return Math.min(t+e,0)})),_((function(e){return e-Q}))}}),[te,F,Q]),re=(0,p.useCallback)((function(){if(!j){var e=te();W((function(t){if(w&&o===O.HomePage)return void 0!==K&&void 0!==Y?Math.max(t-e,-1*(K-Y)):t-e;if(void 0!==K){var n=P&&F?Qi:0;return Math.max(t-e,-1*K)+n}return t-e})),_((function(e){return e+Q})),ee()}}),[j,te,ee,w,o,K,Y,P,F,Q]),oe=(0,p.useCallback)((function(e){return e>=N&&e<N+Q}),[N,Q]),ie=(0,p.useCallback)((function(e){R||(D(!0),e(),setTimeout((function(){D(!1)}),200))}),[R]),ae=(0,p.useRef)(null);Ni({scrollPosition:-H,page:o,gameSetTypeId:E,gameSetTargetId:Hi(n),wrapperRef:ae,sortPosition:r});var le=(0,p.useMemo)((function(){return vt()({"hlist games game-cards game-tile-list":!V,"game-carousel wide-game-tile-carousel scrollable-carousel":V,"games-page-carousel":o===O.GamesPage,"home-page-carousel":o===O.HomePage})}),[V,o]);return m().createElement("div",{"data-testid":"game-carousel",ref:ae,className:vt()("horizontal-scroller games-list",{"home-page-games-list":o===O.HomePage,"wide-game-tile-list":V,"expand-home-content":C,"expand-home-content-disabled":!C})},m().createElement("div",{ref:Z,className:"clearfix horizontal-scroll-window"},m().createElement("div",{ref:X,className:"horizontally-scrollable",style:{left:H+"px"}},m().createElement("ul",{ref:a,className:le},t.map((function(e,t){return V?m().createElement(lr,{key:e.universeId,ref:k,id:t,isOnScreen:oe(t),page:o,gameData:e,translate:T,buildEventProperties:l,componentType:c,playerCountStyle:d,playButtonStyle:f,hoverStyle:I,topicId:S,friendData:h,isSponsoredFooterAllowed:y,hideTileMetadata:b,navigationRootPlaceId:g}):m().createElement("li",{key:e.universeId,className:"list-item game-card game-tile"},m().createElement(lr,{ref:k,id:t,isOnScreen:oe(t),page:o,gameData:e,className:"game-card-container",translate:T,buildEventProperties:l,componentType:c,playerCountStyle:d,playButtonStyle:f,hoverStyle:I,topicId:S,friendData:h,isSponsoredFooterAllowed:y,hideTileMetadata:b,navigationRootPlaceId:g}))})))),m().createElement(ki,{hideScrollBackWhenDisabled:P,isScrollBackDisabled:F,isScrollForwardDisabled:j,onScrollBack:function(){return ie(ne)},onScrollForward:function(){return ie(re)},isNewScrollArrowsEnabled:x})))};ta.defaultProps={loadMoreGames:void 0,componentType:void 0,itemsPerRow:void 0,playerCountStyle:void 0,playButtonStyle:void 0,friendData:void 0,navigationRootPlaceId:void 0,isSponsoredFooterAllowed:void 0,hideTileMetadata:void 0,hoverStyle:void 0,topicId:void 0,isExpandHomeContentEnabled:void 0,isCarouselHorizontalScrollEnabled:void 0,isNewScrollArrowsEnabled:void 0,hideScrollBackWhenDisabled:!1};var na=ta,ra=function(){return ra=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ra.apply(this,arguments)},oa=function(e){var t,n,r,o,i,a,l=e.translate,s=e.friendsPresence,u=e.gameData,c=e.sort,d=e.positionId,v=e.componentType,h=e.playerCountStyle,g=e.playButtonStyle,y=e.hoverStyle,b=e.tooltipInfoText,I=e.hideSeeAll,S=e.navigationRootPlaceId,C=e.isSponsoredFooterAllowed,w=e.seeAllLinkPath,x=e.subtitleLinkPath,P=e.itemsPerRow,E=e.startingRow,T=e.endTimestamp,k=e.countdownString,A=e.hideTileMetadata,N=e.isExpandHomeContentEnabled,_=e.isCarouselHorizontalScrollEnabled,M=e.isNewScrollArrowsEnabled,R=e.isNewSortHeaderEnabled,D=(0,p.useRef)(null),F=(0,p.useRef)(null),G=mr(),j=function(e,t){var n;return(n={})[L.PlaceId]=e.placeId,n[L.UniverseId]=e.universeId,n[L.IsAd]=e.isSponsored,n[L.NativeAdData]=e.nativeAdData,n[L.Position]=t,n[L.SortPos]=d,n[L.NumberOfLoadedTiles]=(u||[]).length,n[L.GameSetTypeId]=c.topicId,n[L.Page]=O.HomePage,n[U.HomePageSessionInfo]=G,n[L.PlayContext]=O.HomePage,n},B=(0,p.useCallback)((function(e){var t,n;if(void 0!==u&&void 0!==E){var r=e.filter((function(e){return e<(null==u?void 0:u.length)}));return ra(ra(ra(ra(ra(ra(((t={})[L.RootPlaceIds]=r.map((function(e){return u[e].placeId})),t[L.UniverseIds]=r.map((function(e){return u[e].universeId})),t),pe(u,c.topicId,r,v)),he(u,c.topicId,r,v)),me(u,c.topicId,r,v)),de(u,r)),ge(E,null==u?void 0:u.length,null==u?void 0:u.length,r)),((n={})[L.NavigationUids]=r.map((function(e){var t;return null!==(t=u[e].navigationUid)&&void 0!==t?t:"0"})),n[L.AbsPositions]=r,n[L.SortPos]=d,n[L.GameSetTypeId]=c.topicId,n[L.Page]=O.HomePage,n[U.HomePageSessionInfo]=G,n))}}),[u,G,d,c.topicId,v,E]);ur(D,u.length,B),(0,p.useEffect)((function(){N&&P&&(null==D?void 0:D.current)&&D.current.style.setProperty("--items-per-row",P.toString())}),[N,P]);var z=(0,p.useMemo)((function(){return w?f.urlService.getAbsoluteUrl(w):J(c.topic,O.HomePage,{position:d,sortId:c.topicId,page:O.HomePage,treatmentType:c.treatmentType,homePageSessionInfo:G})}),[G,d,c.topic,c.topicId,c.treatmentType,w]),H=(0,p.useMemo)((function(){return x||z}),[x,z]),W=(0,p.useCallback)((function(){var e;if(w)return(e={})[L.LinkPath]=w,e[L.SortPos]=d,e[L.GameSetTypeId]=c.topicId,e[L.Page]=O.HomePage,e[U.HomePageSessionInfo]=G,e}),[G,d,w,c.topicId]);return m().createElement(wi,{backgroundImageAssetId:(null===(t=c.topicLayoutData)||void 0===t?void 0:t.backgroundImageAssetId)?parseInt(null===(n=c.topicLayoutData)||void 0===n?void 0:n.backgroundImageAssetId,10):void 0},m().createElement(Ci,{sortTitle:c.topic,sortSubtitle:c.subtitle,seeAllLink:z,subtitleLink:H,shouldShowSeparateSubtitleLink:!!x,isSortLinkOverrideEnabled:!!w,buildNavigateToSortLinkEventProperties:W,shouldShowSponsoredTooltip:c.topicId===tt.adSortHomePageId,tooltipInfoText:b,titleContainerClassName:"container-header",hideSeeAll:I,endTimestamp:T,countdownString:k,backgroundImageAssetId:(null===(r=c.topicLayoutData)||void 0===r?void 0:r.backgroundImageAssetId)?parseInt(null===(o=c.topicLayoutData)||void 0===o?void 0:o.backgroundImageAssetId,10):void 0,isNewSortHeaderEnabled:R,translate:l}),_?m().createElement(na,{gameData:u,sort:c,positionId:d,page:O.HomePage,gamesContainerRef:D,buildEventProperties:j,loadMoreGames:void 0,isLoadingMoreGames:!1,componentType:v,sortId:c.topicId,playerCountStyle:h,playButtonStyle:g,itemsPerRow:P,friendData:s,navigationRootPlaceId:S,isSponsoredFooterAllowed:C,hideTileMetadata:A,hoverStyle:y,topicId:null===(i=c.topicId)||void 0===i?void 0:i.toString(),isExpandHomeContentEnabled:N,isCarouselHorizontalScrollEnabled:_,isNewScrollArrowsEnabled:M,translate:l}):m().createElement(sr,{ref:D,tileRef:F,gameData:u,friendData:s,buildEventProperties:j,translate:l,componentType:v,playerCountStyle:h,playButtonStyle:g,navigationRootPlaceId:S,isSponsoredFooterAllowed:C,hideTileMetadata:A,hoverStyle:y,topicId:null===(a=c.topicId)||void 0===a?void 0:a.toString(),isExpandHomeContentEnabled:N}))};oa.defaultProps={componentType:void 0,playerCountStyle:void 0,playButtonStyle:void 0,hoverStyle:void 0,tooltipInfoText:void 0,hideSeeAll:void 0,navigationRootPlaceId:void 0,isSponsoredFooterAllowed:void 0,seeAllLinkPath:void 0,subtitleLinkPath:void 0,itemsPerRow:void 0,endTimestamp:void 0,countdownString:void 0,hideTileMetadata:void 0,isExpandHomeContentEnabled:void 0,isCarouselHorizontalScrollEnabled:void 0,isNewScrollArrowsEnabled:void 0,isNewSortHeaderEnabled:void 0};var ia=oa,aa=(0,p.createContext)({contentMetadata:null,appendContentMetadata:function(){}}),la=function(){var e=(0,p.useContext)(aa);return{contentMetadata:e.contentMetadata,appendContentMetadata:e.appendContentMetadata}},sa=function(){return sa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sa.apply(this,arguments)},ua=function(e){var n=e.translate,r=e.gameData,o=e.sort,a=e.page,l=e.positionId,s=e.isLoadingMoreGames,u=e.loadMoreGames,c=e.tooltipInfoText,d=e.hideSeeAll,f=e.componentType,v=e.playerCountStyle,h=e.playButtonStyle,g=e.itemsPerRow,y=e.subtitleLinkPath,b=(0,p.useRef)(null),I=mr(),S=(0,p.useCallback)((function(e){var t,n,i;if(void 0!==r){var s=e.filter((function(e){return e<(null==r?void 0:r.length)}));return sa(sa(sa(sa(sa(((t={})[L.RootPlaceIds]=s.map((function(e){return r[e].placeId})),t[L.UniverseIds]=s.map((function(e){return r[e].universeId})),t),de(r,s)),((n={})[L.AbsPositions]=s,n[L.SortPos]=l,n[L.GameSetTypeId]=o.topicId,n)),Wi(o)),Ji(o)),((i={})[L.Page]=a,i[L.NumberOfLoadedTiles]=(r||[]).length,i[U.DiscoverPageSessionInfo]=I,i))}}),[r,I,l,o,a]);ur(b,r.length,S),(0,p.useEffect)((function(){g&&(null==b?void 0:b.current)&&b.current.style.setProperty("--items-per-row",g.toString())}),[g]);var C=(0,p.useMemo)((function(){var e,n,r=sa(sa(((e={})[L.Position]=l,e[L.GameSetTypeId]=o.topicId,e),Wi(o)),((n={})[L.Page]=a,n[L.TreatmentType]=t.Carousel,n[U.DiscoverPageSessionInfo]=I,n)),i=function(e){if(Di(e)&&e.appliedFilters){var t={};return e.appliedFilters.split(",").forEach((function(e){var n=e.split("="),r=n[0],o=n[1];r&&o&&(t[r]=o)})),t}return{}}(o);return q(o.sortId,a,r,i)}),[I,a,l,o]);return m().createElement("div",{className:vt()("games-list-container",{"wide-game-tile-container":f===i.GridTile||f===i.EventTile})},m().createElement(Ci,{sortTitle:o.topic,sortSubtitle:o.subtitle,subtitleLink:y||C,seeAllLink:C,isSortLinkOverrideEnabled:!1,shouldShowSeparateSubtitleLink:!!y,shouldShowSponsoredTooltip:o.topicId===nt.adSortDiscoverId,tooltipInfoText:c,titleContainerClassName:"container-header games-filter-changer",hideSeeAll:d,useRouterLink:!0,translate:n}),m().createElement(na,{gamesContainerRef:b,gameData:r,sort:o,positionId:l,loadMoreGames:u,sortId:o.topicId,isLoadingMoreGames:s,buildEventProperties:function(e,t){var n,i,s;return sa(sa(sa(sa(((n={})[L.PlaceId]=e.placeId,n[L.UniverseId]=e.universeId,n[L.IsAd]=e.isSponsored,n[L.NativeAdData]=e.nativeAdData,n[L.Position]=t,n[L.SortPos]=l,n[L.GameSetTypeId]=o.topicId,n),Wi(o)),((i={})[L.NumberOfLoadedTiles]=(r||[]).length,i[L.Page]=a,i)),Ji(o)),((s={})[U.DiscoverPageSessionInfo]=I,s[L.PlayContext]=O.GamesPage,s))},translate:n,page:a,componentType:f,playerCountStyle:v,playButtonStyle:h,itemsPerRow:g}))};ua.defaultProps={loadMoreGames:void 0,tooltipInfoText:void 0,hideSeeAll:void 0,componentType:void 0,itemsPerRow:void 0,playerCountStyle:void 0,playButtonStyle:void 0,subtitleLinkPath:void 0};var ca=ua,da=(0,p.createContext)(void 0),fa=function(){return fa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fa.apply(this,arguments)},pa=function(e){var t,n=e.translate,r=e.sort,o=e.positionId,i=e.itemsPerRow,a=e.gameData,l=e.friendsPresenceData,s=(0,p.useContext)(da),u=(0,p.useRef)(null),c=(0,p.useMemo)((function(){return it}),[]),d=(0,p.useCallback)((function(e,t){var n,i;return fa(fa(((n={})[L.PlaceId]=e.placeId,n[L.UniverseId]=e.universeId,n[L.IsAd]=e.isSponsored,n[L.NativeAdData]=e.nativeAdData,n[L.Position]=t,n[L.SortPos]=o,n[L.NumberOfLoadedTiles]=a.length,n[L.GameSetTypeId]=c,n),Wi(r)),((i={})[L.Page]=O.SearchLandingPage,i[U.SearchLandingPageSessionInfo]=s,i[L.PlayContext]=O.SearchLandingPage,i))}),[o,a.length,c,r,s]),f=(0,p.useCallback)((function(e){var t,n,i=e.filter((function(e){return e<a.length}));return fa(fa(fa(fa(fa(((t={})[L.RootPlaceIds]=i.map((function(e){var t;return null===(t=a[e])||void 0===t?void 0:t.placeId})),t[L.UniverseIds]=i.map((function(e){var t;return null===(t=a[e])||void 0===t?void 0:t.universeId})),t),pe(a,c,i)),he(a,c,i)),de(a,i)),Wi(r)),((n={})[L.AbsPositions]=i,n[L.SortPos]=o,n[L.NumberOfLoadedTiles]=a.length,n[L.GameSetTypeId]=c,n[L.Page]=O.SearchLandingPage,n[U.SearchLandingPageSessionInfo]=s,n))}),[a,r,o,s,c]);return ur(u,a.length,f),m().createElement(m().Fragment,null,m().createElement(Ci,{sortTitle:r.topic,sortSubtitle:r.subtitle,shouldShowSeparateSubtitleLink:!1,isSortLinkOverrideEnabled:!1,titleContainerClassName:"container-header",hideSeeAll:!0,translate:n,seeAllLink:void 0,subtitleLink:void 0,shouldShowSponsoredTooltip:void 0}),m().createElement(na,{gameData:a,sort:r,positionId:o,hideScrollBackWhenDisabled:!0,sortId:c,page:O.SearchLandingPage,gamesContainerRef:u,buildEventProperties:d,isLoadingMoreGames:!1,itemsPerRow:i,friendData:l,topicId:null===(t=r.topicId)||void 0===t?void 0:t.toString(),isExpandHomeContentEnabled:!1,isCarouselHorizontalScrollEnabled:!0,isNewScrollArrowsEnabled:!1,translate:n}))};pa.defaultProps={itemsPerRow:void 0};var ma=pa,va=function(e){var t,n,r,o,a,l,s,u,c,d,f,v,h,g,y,b,I,S,C,w,x,P=e.translate,E=e.sort,T=e.positionId,k=e.page,A=e.itemsPerRow,N=e.startingRow,_=e.friendsPresenceData,M=e.loadMoreGames,R=e.isLoadingMoreGames,D=e.isExpandHomeContentEnabled,L=e.isCarouselHorizontalScrollEnabled,F=e.isNewScrollArrowsEnabled,U=e.isNewSortHeaderEnabled,G=la().contentMetadata,j=L||k===O.HomePage&&(null===(t=null==E?void 0:E.topicLayoutData)||void 0===t?void 0:t.componentType)===i.EventTile,B=F||k===O.HomePage&&(null===(n=null==E?void 0:E.topicLayoutData)||void 0===n?void 0:n.componentType)===i.EventTile,z=(0,p.useMemo)((function(){var e;return j?Gi(E,G):D?Gi(E,G).slice(0,A):Gi(E,G).slice(0,function(e,t){var n=tt.maxWideGameTilesPerCarouselPage,r=tt.maxTilesPerCarouselPage;if(e!==O.GamesPage&&e!==O.SearchLandingPage)switch(t){case i.GridTile:case i.EventTile:case i.InterestTile:return n;case i.AppGameTileNoMetadata:default:return r}}(k,null===(e=E.topicLayoutData)||void 0===e?void 0:e.componentType))}),[E,G,k,A,D,j]);return 0===(null==z?void 0:z.length)?null:k===O.GamesPage?m().createElement(ca,{key:E.topic,sort:E,translate:P,positionId:T,page:k,gameData:z,loadMoreGames:M,isLoadingMoreGames:!0===R,tooltipInfoText:null===(r=E.topicLayoutData)||void 0===r?void 0:r.infoText,hideSeeAll:"true"===(null===(o=E.topicLayoutData)||void 0===o?void 0:o.hideSeeAll),componentType:null===(a=E.topicLayoutData)||void 0===a?void 0:a.componentType,playerCountStyle:null===(l=E.topicLayoutData)||void 0===l?void 0:l.playerCountStyle,playButtonStyle:null===(s=E.topicLayoutData)||void 0===s?void 0:s.playButtonStyle,subtitleLinkPath:null===(u=E.topicLayoutData)||void 0===u?void 0:u.subtitleLinkPath,itemsPerRow:A}):k===O.SearchLandingPage?m().createElement(ma,{key:E.topic,sort:E,gameData:z,translate:P,positionId:T,itemsPerRow:at,friendsPresenceData:_}):m().createElement(ia,{key:E.topic,sort:E,translate:P,positionId:T,gameData:z,friendsPresence:_,itemsPerRow:A,startingRow:N,componentType:null===(c=E.topicLayoutData)||void 0===c?void 0:c.componentType,playerCountStyle:null===(d=E.topicLayoutData)||void 0===d?void 0:d.playerCountStyle,playButtonStyle:null===(f=E.topicLayoutData)||void 0===f?void 0:f.playButtonStyle,hoverStyle:null===(v=E.topicLayoutData)||void 0===v?void 0:v.hoverStyle,tooltipInfoText:null===(h=E.topicLayoutData)||void 0===h?void 0:h.infoText,hideSeeAll:"true"===(null===(g=E.topicLayoutData)||void 0===g?void 0:g.hideSeeAll),navigationRootPlaceId:null===(y=E.topicLayoutData)||void 0===y?void 0:y.navigationRootPlaceId,isSponsoredFooterAllowed:"true"===(null===(b=E.topicLayoutData)||void 0===b?void 0:b.isSponsoredFooterAllowed),seeAllLinkPath:null===(I=E.topicLayoutData)||void 0===I?void 0:I.linkPath,subtitleLinkPath:null===(S=E.topicLayoutData)||void 0===S?void 0:S.subtitleLinkPath,endTimestamp:null===(C=E.topicLayoutData)||void 0===C?void 0:C.endTimestamp,countdownString:null===(w=E.topicLayoutData)||void 0===w?void 0:w.countdownString,hideTileMetadata:"true"===(null===(x=E.topicLayoutData)||void 0===x?void 0:x.hideTileMetadata),isExpandHomeContentEnabled:D,isCarouselHorizontalScrollEnabled:j,isNewScrollArrowsEnabled:B,isNewSortHeaderEnabled:U})};va.defaultProps={loadMoreGames:void 0,isLoadingMoreGames:void 0,isExpandHomeContentEnabled:void 0,isCarouselHorizontalScrollEnabled:void 0,isNewScrollArrowsEnabled:void 0,isNewSortHeaderEnabled:void 0};var ha=va,ga=tt.maxTilesPerCarouselPage,ya=function(e){var t=e.sort,n=la().contentMetadata,r=(0,p.useMemo)((function(){return t.recommendationList.map((function(e){var t,r=e.contentType,o=e.contentId,i=null===(t=null==n?void 0:n[r])||void 0===t?void 0:t[o];if(i){var a=i;a.itemId=o,a.itemType=r}return i})).filter((function(e){return e})).slice(0,ga)}),[t.recommendationList,n]);return 0===(null==r?void 0:r.length)?null:m().createElement(S.AvatarShopHomepageRecommendations,{recommendedItems:r})},ba=function(e){var t=e.loadData,n=(0,p.useRef)(null),r=(0,p.useRef)(null);return(0,p.useEffect)((function(){var e=n.current;return e&&(r.current=A.elementVisibilityService.observeVisibility({element:e,threshold:ot},(function(e){e&&t&&t()}))),function(){(null==r?void 0:r.current)&&r.current()}}),[t]),t?m().createElement("div",{ref:n,"data-testid":"sentinel-tile",className:"grid-item-container game-card-container invisible"}):null};ba.displayName="SentinelTile",ba.defaultProps={loadData:null};var Ia=ba,Sa=function(){return Sa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sa.apply(this,arguments)},Ca=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},wa=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function xa(){var e=this,t=(0,p.useState)({}),n=t[0],r=t[1],o=(0,p.useRef)(n),i=function(e){(e.detail||[]).forEach((function(e){o.current[e.userId]&&(o.current[e.userId]=Sa(Sa({},o.current[e.userId]),{presence:e}))})),r(Sa({},o.current))};return(0,p.useEffect)((function(){return Ca(e,void 0,void 0,(function(){var e,t,n,a,l,s;return wa(this,(function(u){switch(u.label){case 0:if((null==(e=bt.deviceMeta.getDeviceMeta())?void 0:e.deviceType)!==bt.deviceMeta.DeviceTypes.computer||!(null===S.CurrentUser||void 0===S.CurrentUser?void 0:S.CurrentUser.isAuthenticated))return[3,5];u.label=1;case 1:return u.trys.push([1,4,,5]),[4,kt()];case 2:return t=u.sent().userData,0===(n=t?t.map((function(e){return e.id})):[]).length?[2]:[4,_e(n)];case 3:return a=u.sent().profileDetails,l=(t||[]).reduce((function(e,t){var n=a.find((function(e){return e.userId===t.id}));return n&&(e[t.id]=Sa(Sa({},t),{displayName:n.names.combinedName,name:n.names.username})),e}),{}),o.current=l,r(Sa({},o.current)),document.addEventListener("Roblox.Presence.Update",i),[3,5];case 4:return s=u.sent(),console.error("useFriendsPresence failed to initialized with the error",s),[3,5];case 5:return[2]}}))})),function(){document.removeEventListener("Roblox.Presence.Update",i)}}),[]),Object.values(n)}var Pa=RobloxBadges,Ea=function(e){var t=e.universeId,n=e.creatorName,r=e.creatorType,o=e.creatorId,i=e.linkUrl,a=e.isCreatorVerified,l=e.translate,s=(0,p.useRef)(null);return m().createElement("div",{ref:s,className:"game-card-creator-name","data-testid":"game-card-creator-name"},m().createElement("span",{className:"text-label creator-name-label"},l(Me.LabelByPrefix),""),m().createElement("a",{href:i,onClick:function(){S.EventStream.SendEventWithTarget("buttonClick","featuredTileCreatorLabel",{creatorId:o,creatorType:r,universeId:t},S.EventStream.TargetTypes.WWW)},className:"text-overflow text-label creator-name"},n),a&&m().createElement(Pa.VerifiedBadgeIconContainer,{size:Pa.BadgeSizes.CAPTIONHEADER}))},Ta=function(){var e=(0,p.useState)({shouldShowLikeFavoriteCounts:void 0,experienceDetailsNoticeType:void 0,shouldShowVpcPlayButtonUpsells:void 0}),t=e[0],n=e[1],r=(0,p.useState)(!1),o=r[0],i=r[1];return(0,p.useEffect)((function(){i(!0),Oe().then((function(e){n({shouldShowLikeFavoriteCounts:e.EnableAggregateLikesFavoritesCount,experienceDetailsNoticeType:e.experienceDetailsNoticeType,shouldShowVpcPlayButtonUpsells:e.shouldShowVpcPlayButtonUpsells})})).catch((function(){n({shouldShowLikeFavoriteCounts:!1,experienceDetailsNoticeType:void 0,shouldShowVpcPlayButtonUpsells:!1})})).finally((function(){i(!1)}))}),[]),(0,p.useMemo)((function(){return{shouldShowLikeFavoriteCounts:t.shouldShowLikeFavoriteCounts,experienceDetailsNoticeType:t.experienceDetailsNoticeType,shouldShowVpcPlayButtonUpsells:t.shouldShowVpcPlayButtonUpsells,isFetchingPolicy:o}}),[t.shouldShowLikeFavoriteCounts,t.experienceDetailsNoticeType,t.shouldShowVpcPlayButtonUpsells,o])},ka=function(e){var t=e.universeId,n=e.placeId,r=e.playButtonEventProperties,o=e.disableLoadingState,i=e.redirectPurchaseUrl,a=S.PlayButton.usePlayabilityStatus,l=S.PlayButton.PlayabilityStatuses,s=S.PlayButton.DefaultPlayButton,u=a(t),c=u[0],d=u[1],f=Ta(),v=f.shouldShowVpcPlayButtonUpsells,h=f.isFetchingPolicy,g=(0,p.useMemo)((function(){return!!c&&[l.PurchaseRequired,l.FiatPurchaseRequired].includes(c)}),[c,l]);return h?o?m().createElement(s,{placeId:n,universeId:t,refetchPlayabilityStatus:d,playabilityStatus:l.Playable,eventProperties:r,hideButtonText:!0,disableLoadingState:o}):m().createElement(I.Loading,null):m().createElement(s,{placeId:n,universeId:t,refetchPlayabilityStatus:d,playabilityStatus:c,eventProperties:r,disableLoadingState:o,buttonClassName:g?"btn-economy-robux-white-lg purchase-button":void 0,hideButtonText:!g,redirectPurchaseUrl:g?i:void 0,showDefaultPurchaseText:c===l.FiatPurchaseRequired,shouldShowVpcPlayButtonUpsells:v})};ka.defaultProps={playButtonEventProperties:{},disableLoadingState:!1,redirectPurchaseUrl:void 0};var Aa=ka,Na=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},Oa=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},_a=(0,p.forwardRef)((function(e,t){var n,r=e.id,o=e.buildEventProperties,i=e.gameData,a=e.translate,l=e.topicId,s=(0,p.useState)(),u=s[0],c=s[1],d=yt(),v=d[0],h=d[1],g=d[2],y=xa(),b=re(i,l),S=(0,p.useMemo)((function(){return se(y,i.universeId)}),[y,i.universeId]),C=(0,p.useMemo)((function(){return S.length>0&&u?m().createElement(zn,{gameData:u,friendData:S,translate:a}):m().createElement("div",{className:"game-card-description-info font-body","data-testid":"featured-grid-tile-description"},null==u?void 0:u.description)}),[S]);(0,p.useEffect)((function(){Na(void 0,void 0,void 0,(function(){var e,t;return Oa(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Nt(i.placeId.toString())];case 1:return e=n.sent(),c(e),[3,3];case 2:return t=n.sent(),console.error(t),[3,3];case 3:return[2]}}))}))}),[]);var w=W(i.placeId,i.name,o(i,r)),x=o(i,r),P=Wt(b);return m().createElement("div",{ref:t,className:"featured-grid-item-container game-card-container","data-testid":"game-tile-featured",onMouseOver:h,onMouseLeave:g,onFocus:h,onBlur:g},m().createElement(I.Link,{url:w,className:"game-card-link",id:i.universeId.toString()},m().createElement(En,{gameLayoutData:b,isFocused:v}),m().createElement(Vt.Thumbnail2d,{type:Vt.ThumbnailTypes.gameIcon,size:Vt.ThumbnailGameIconSize.size512,targetId:i.universeId,containerClass:"game-card-thumb-container",format:Vt.ThumbnailFormat.jpeg,altName:i.name}),m().createElement("div",{className:"game-card-name-info"},m().createElement("div",null,m().createElement("div",{className:"game-card-name game-name-title",title:i.name},i.name),P?m().createElement(Rn,{footerData:P}):m().createElement(_n,{totalUpVotes:i.totalUpVotes,totalDownVotes:i.totalDownVotes,playerCount:i.playerCount})),m().createElement(Aa,{universeId:i.universeId.toString(),placeId:i.placeId.toString(),playButtonEventProperties:x,redirectPurchaseUrl:f.urlService.isValidHttpUrl(w)?w:void 0})),null!==i.creatorName&&m().createElement(Ea,{universeId:i.universeId.toString(),creatorId:i.creatorId,creatorType:i.creatorType,creatorName:i.creatorName,isCreatorVerified:null!==(n=i.creatorHasVerifiedBadge)&&void 0!==n&&n,linkUrl:w,translate:a}),C))}));_a.displayName="FeaturedGridTile";var Ma=function(){return Ma=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ma.apply(this,arguments)},Ra=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Da=(0,p.forwardRef)((function(e,t){var n=e.emphasis,r=e.friendData,o=e.componentType,i=e.playerCountStyle,a=e.playButtonStyle,l=e.isSponsoredFooterAllowed,s=e.hideTileMetadata,u=e.hoverStyle,c=e.topicId,d=e.isInterestedUniverse,f=e.toggleInterest,p=Ra(e,["emphasis","friendData","componentType","playerCountStyle","playButtonStyle","isSponsoredFooterAllowed","hideTileMetadata","hoverStyle","topicId","isInterestedUniverse","toggleInterest"]);return n?m().createElement(_a,Ma({ref:t},p)):m().createElement(lr,Ma({ref:t,friendData:r,componentType:o,playerCountStyle:i,playButtonStyle:a,isSponsoredFooterAllowed:l,hideTileMetadata:s,hoverStyle:u,topicId:c,isInterestedUniverse:d,toggleInterest:f},p))}));Da.displayName="GameGridTile",Da.defaultProps={friendData:[],componentType:void 0,playerCountStyle:void 0,playButtonStyle:void 0,isSponsoredFooterAllowed:void 0,hideTileMetadata:void 0,hoverStyle:void 0,isInterestedUniverse:void 0,toggleInterest:void 0};var La=Da,Fa=(0,p.forwardRef)((function(e,t){var n=e.gameData,r=e.translate,o=e.emphasis,a=e.buildEventProperties,l=e.tileRef,s=e.loadData,u=e.shouldUseSentinelTile,c=e.friendsPresence,d=e.componentType,f=e.playerCountStyle,p=e.playButtonStyle,v=e.isHomeGameGrid,h=e.isSponsoredFooterAllowed,g=e.hideTileMetadata,y=e.hoverStyle,b=e.topicId,I=e.isExpandHomeContentEnabled,S=e.interestedUniverses,C=e.toggleInterest,w=vt()("game-grid",{"home-game-grid":v},{"wide-game-tile-game-grid":d===i.GridTile||d===i.EventTile||d===i.InterestTile},{"interest-tile-game-grid":d===i.InterestTile},{"expand-home-content":I},{"expand-home-content-disabled":!I});return m().createElement("div",{"data-testid":"game-grid",ref:t,className:w},n.map((function(e,t){var n;return m().createElement(La,{ref:function(e){(!0===o&&1===t||!1===o&&0===t)&&l&&(l.current=e)},key:e.universeId+"-isSponsored="+(null!==(n=e.isSponsored)&&void 0!==n&&n).toString(),id:t,gameData:e,translate:r,buildEventProperties:a,emphasis:!0===o&&0===t&&!v,friendData:c,componentType:d,playerCountStyle:f,playButtonStyle:p,isSponsoredFooterAllowed:h,hideTileMetadata:g,hoverStyle:y,topicId:b,isInterestedUniverse:null==S?void 0:S.has(e.universeId),toggleInterest:C?function(){return C(e.universeId)}:void 0})})),u&&m().createElement(ba,{loadData:s}))}));Fa.displayName="GameGrid",Fa.defaultProps={friendsPresence:[],componentType:void 0,playerCountStyle:void 0,playButtonStyle:void 0,isHomeGameGrid:!1,isSponsoredFooterAllowed:void 0,hideTileMetadata:void 0,hoverStyle:void 0,topicId:void 0,isExpandHomeContentEnabled:void 0,interestedUniverses:void 0,toggleInterest:void 0};var Ua=Fa,Ga=function(){return Ga=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ga.apply(this,arguments)},ja=function(e){var t,n=e.gameData,r=e.sort,o=e.positionId,i=e.friendsPresence,a=e.componentType,l=e.playerCountStyle,s=e.playButtonStyle,u=e.hoverStyle,c=e.itemsPerRow,d=e.startingRow,f=e.isSponsoredFooterAllowed,v=e.hideTileMetadata,h=e.isExpandHomeContentEnabled,g=e.isNewSortHeaderEnabled,y=e.translate,b=(0,p.useRef)(null),I=(0,p.useRef)(null),S=mr(),C=(0,p.useCallback)((function(e){var t,i,l;if(void 0!==n&&void 0!==d){var s=e.filter((function(e){return e<(null==n?void 0:n.length)}));return Ga(Ga(Ga(Ga(Ga(Ga(Ga(((t={})[L.RootPlaceIds]=s.map((function(e){return n[e].placeId})),t[L.UniverseIds]=s.map((function(e){return n[e].universeId})),t),pe(n,r.topicId,s,a)),he(n,r.topicId,s,a)),me(n,r.topicId,s,a)),((i={})[L.NavigationUids]=s.map((function(e){var t;return null!==(t=n[e].navigationUid)&&void 0!==t?t:"0"})),i[L.AbsPositions]=s,i)),de(n,s)),ge(d,c,null==n?void 0:n.length,s)),((l={})[L.SortPos]=o,l[L.NumberOfLoadedTiles]=null==n?void 0:n.length,l[L.GameSetTypeId]=r.topicId,l[L.Page]=O.HomePage,l[U.HomePageSessionInfo]=S,l))}}),[n,S,o,r.topicId,a,c,d]);return ur(b,n.length,C),(0,p.useEffect)((function(){c&&(null==b?void 0:b.current)&&b.current.style.setProperty("--items-per-row",c.toString())}),[c]),m().createElement("div",{"data-testid":"home-page-game-grid"},g?m().createElement(Ii,{titleText:r.topic,sendNavigateToSortLinkEvent:void 0,titleLink:void 0,isSortLinkOverrideEnabled:!1,subtitleText:void 0,subtitleLink:void 0,shouldShowSeparateSubtitleLink:!1,hasBackgroundMural:!1,tooltipText:r.topicId===tt.adSortHomePageId?y(Re.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.":void 0,hideSeeAll:!0}):m().createElement("div",{className:"container-header"},m().createElement("h2",null,r.topic,r.topicId===tt.adSortHomePageId&&m().createElement(pn,{tooltipText:y(Re.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.",placement:"right"}))),m().createElement(Fa,{ref:b,tileRef:I,gameData:n,emphasis:!1,translate:y,buildEventProperties:function(e,t){var i;return(i={})[L.PlaceId]=e.placeId,i[L.UniverseId]=e.universeId,i[L.IsAd]=e.isSponsored,i[L.NativeAdData]=e.nativeAdData,i[L.Position]=t,i[L.SortPos]=o,i[L.NumberOfLoadedTiles]=(n||[]).length,i[L.GameSetTypeId]=r.topicId,i[L.Page]=O.HomePage,i[U.HomePageSessionInfo]=S,i[L.PlayContext]=O.HomePage,i},isHomeGameGrid:!0,friendsPresence:i,componentType:a,playerCountStyle:l,playButtonStyle:s,isSponsoredFooterAllowed:f,hideTileMetadata:v,hoverStyle:u,topicId:null===(t=r.topicId)||void 0===t?void 0:t.toString(),isExpandHomeContentEnabled:h}))};ja.defaultProps={componentType:void 0,playerCountStyle:void 0,playButtonStyle:void 0,hoverStyle:void 0,itemsPerRow:void 0,isSponsoredFooterAllowed:void 0,hideTileMetadata:void 0,isExpandHomeContentEnabled:void 0,isNewSortHeaderEnabled:void 0};var Ba=ja,za=tt.sortlessGridMaxTilesMetadataToFetch,Ha=function(e){var t,n,r,o,i,a,l=e.translate,s=e.sort,u=e.positionId,c=e.itemsPerRow,d=e.startingRow,f=e.recommendations,v=e.friendsPresenceData,h=e.isExpandHomeContentEnabled,g=e.isNewSortHeaderEnabled,y=mr(),b=la(),I=b.contentMetadata,S=b.appendContentMetadata,C=(0,p.useCallback)((function(){var e=f.filter((function(e){var t,n=e.contentType,r=e.contentId;return!(null===(t=null==I?void 0:I[n])||void 0===t?void 0:t[r])}));e.length>0&&ke(e.slice(0,za),y).then((function(e){return S(e.contentMetadata)})).catch((function(){}))}),[f,y,I,S]);(0,p.useEffect)((function(){C()}),[C]);var w=(0,p.useMemo)((function(){return Ri(f,I)}),[f,I]);return 0===(null==w?void 0:w.length)?null:m().createElement(Ba,{key:s.topic,sort:s,gameData:w,translate:l,positionId:u,itemsPerRow:c,startingRow:d,friendsPresence:v,componentType:null===(t=s.topicLayoutData)||void 0===t?void 0:t.componentType,playerCountStyle:null===(n=s.topicLayoutData)||void 0===n?void 0:n.playerCountStyle,playButtonStyle:null===(r=s.topicLayoutData)||void 0===r?void 0:r.playButtonStyle,hoverStyle:null===(o=s.topicLayoutData)||void 0===o?void 0:o.hoverStyle,isSponsoredFooterAllowed:"true"===(null===(i=s.topicLayoutData)||void 0===i?void 0:i.isSponsoredFooterAllowed),hideTileMetadata:"true"===(null===(a=s.topicLayoutData)||void 0===a?void 0:a.hideTileMetadata),isExpandHomeContentEnabled:h,isNewSortHeaderEnabled:g})};Ha.defaultProps={isExpandHomeContentEnabled:void 0,isNewSortHeaderEnabled:void 0};var Wa=Ha,Va=n(5250);n(1315);function Ja(e){return Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(e)}function qa(e,t){var n=e.elements,r=e.threshold;try{var o=new window.IntersectionObserver(t,{threshold:r});return n.forEach((function(e){o.observe(e)})),function(){return o.disconnect()}}catch(e){}return function(){}}var Xa,Ka,$a,Za,Ya,Qa,el,tl,nl,rl,ol,il=25,al=.5,ll=function(e,t,n){var r=(0,p.useRef)(new Set),o=(0,p.useRef)(new Set),i=(0,p.useRef)(null),a=(0,p.useCallback)((function(){var e=function(e,t){if(0===e.length||0===t)return[e];for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}(Array.from(o.current).filter((function(e){return!r.current.has(e)})),il).filter((function(e){return e.length>0}));e.forEach((function(e){n(e),e.forEach((function(e){return r.current.add(e)}))})),o.current.clear()}),[n]),l=(0,p.useMemo)((function(){return(0,Va.debounce)((function(){return a()}),200)}),[a]);(0,p.useEffect)((function(){var t,n,r=Array.from(null!==(t=null==e||null===(n=e.current)||void 0===n?void 0:n.children)&&void 0!==t?t:[]).filter((function(e){return e instanceof HTMLElement}));return i.current&&(i.current(),i.current=null),i.current=qa({elements:r,threshold:al},(function(e,t){l.cancel();var n=function(e,t,n){var r=[];return t.forEach((function(t){if(null!=t&&t.isIntersecting){var o=e.findIndex((function(e){return e===t.target}));o>=0&&(r.push(o),n.unobserve(t.target))}})),r.sort((function(e,t){return e-t}))}(r,e,t);n.forEach((function(e){return o.current.add(e)})),l()})),function(){l.cancel(),i.current&&(i.current(),i.current=null)}}),[e,t,l,o])};!function(e){e.ItemImpressions="itemImpressions",e.ItemAction="itemAction"}(Xa||(Xa={})),function(e){e.Games="games",e.Home="home",e.SearchLanding="searchLanding",e.Spotlight="spotlight",e.UserProfile="userProfile"}(Ka||(Ka={})),function(e){e.HomePageSessionInfo="homePageSessionInfo",e.DiscoverPageSessionInfo="discoverPageSessionInfo",e.GameSearchSessionInfo="gameSearchSessionInfo",e.SpotlightPageSessionInfo="spotlightPageSessionInfo"}($a||($a={})),function(e){e.ContentType="contentType",e.Context="context",e.CollectionId="collectionId",e.CollectionPosition="collectionPosition",e.CollectionComponentType="collectionComponentType"}(Za||(Za={})),function(e){e.User="User"}(Ya||(Ya={})),function(e){e.Online="online",e.InGame="inGame",e.InStudio="inStudio",e.Offline="offline"}(Qa||(Qa={})),function(e){e.Friend="friend",e.NotFriend="notFriend"}(el||(el={})),function(e){e.ItemIds="itemIds",e.ItemPositions="itemPositions",e.RowNumbers="rowNumbers",e.FeedRowNumbers="feedRowNumbers",e.PositionsInRow="positionsInRow",e.PositionsInTopic="positionsInTopic",e.TotalNumberOfItems="totalNumberOfItems"}(tl||(tl={})),function(e){e.Presences="presences",e.PresenceUniverseIds="presenceUniverseIds",e.FriendStatuses="friendStatuses",e.SourceCarousel="sourceCarousel"}(nl||(nl={})),function(e){e.ItemId="itemId",e.ItemPosition="itemPosition",e.ItemComponentType="itemComponentType",e.RowNumber="rowNumber",e.FeedRowNumber="feedRowNumber",e.PositionInRow="positionInRow",e.PositionInTopic="positionInTopic",e.TotalNumberOfItems="totalNumberOfItems",e.ActionType="actionType"}(rl||(rl={})),function(e){e.Presence="presence",e.PresenceUniverseId="presenceUniverseId",e.FriendStatus="friendStatus",e.SourceCarousel="sourceCarousel"}(ol||(ol={}));var sl=function(e){return Object.keys(e).reduce((function(t,n){var r,o,i=(r=e[n],o=!1,Array.isArray(r)&&!o?r.join(","):"object"===Ja(r)&&r?JSON.stringify(r):"number"==typeof r||"string"==typeof r?r:"boolean"==typeof r?r?1:0:void 0);return void 0!==i&&(t[n]=i),t}),{})},ul=function(){return S.RealTime.Factory.GetClient()},cl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},dl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},fl=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},pl=function(e){return cl(void 0,void 0,Promise,(function(){var t;return dl(this,(function(n){switch(n.label){case 0:return t={url:S.EnvironmentUrls.friendsApi+"/v1/users/"+e+"/friends/online",retryable:!0,withCredentials:!0},[4,f.httpService.get(t)];case 1:return[2,n.sent().data]}}))}))},ml=function(e,t){return cl(void 0,void 0,Promise,(function(){var n,r;return dl(this,(function(o){switch(o.label){case 0:return n=S.EnvironmentUrls.friendsApi+"/v1/users/"+e+"/friends/find",r={url:t?n+"?userSort=1":n,retryable:!0,withCredentials:!0},[4,f.httpService.get(r)];case 1:return[2,o.sent().data]}}))}))},vl=function(e){return cl(void 0,void 0,Promise,(function(){var t;return dl(this,(function(n){switch(n.label){case 0:return t={url:S.EnvironmentUrls.friendsApi+"/v1/users/"+e+"/friends/count",retryable:!0,withCredentials:!0},[4,f.httpService.get(t)];case 1:return[2,n.sent().data]}}))}))},hl=function(e,t){return cl(void 0,void 0,Promise,(function(){var n,r,o,i,a,l,s,u,c,d,p,m,v;return dl(this,(function(h){switch(h.label){case 0:return t?[4,pl(e)]:[3,2];case 1:return r=h.sent().data,[3,3];case 2:r=[],h.label=3;case 3:return(n=r).sort((function(e,t){var n={InGame:0,Online:1,InStudio:2},r=e.userPresence.UserPresenceType,o=t.userPresence.UserPresenceType;return r in n&&o in n?n[r]<n[o]?-1:1:-1})),[4,ml(e,t)];case 4:for(o=h.sent().PageItems,i=new Map,a=0,l=n;a<l.length;a++)s=l[a],i.set(s.id,s.userPresence);return u=n.map((function(e){return e.id})),c=o.filter((function(e){return!u.includes(e.id)})).map((function(e){return e.id})),d=fl(fl([],u),c),[4,(g=d,cl(void 0,void 0,Promise,(function(){var e,t;return dl(this,(function(n){switch(n.label){case 0:return e={url:S.EnvironmentUrls.apiGatewayUrl+"/user-profile-api/v1/user/profiles/get-profiles",retryable:!0,withCredentials:!0},t={userIds:g,fields:["names.combinedName","isVerified"]},[4,f.httpService.post(e,t)];case 1:return[2,n.sent().data]}}))})))];case 5:return p=h.sent().profileDetails,m=new Map(p.map((function(e){return[e.userId,e]}))),v=[],d.forEach((function(e){var t,n,r,o,a,l,s=i.has(e),u={isOnline:s,isInGame:s&&"InGame"===(null===(t=i.get(e))||void 0===t?void 0:t.UserPresenceType),lastLocation:s?null===(n=i.get(e))||void 0===n?void 0:n.lastLocation:void 0,gameId:s?null===(r=i.get(e))||void 0===r?void 0:r.gameInstanceId:void 0,universeId:s?null===(o=i.get(e))||void 0===o?void 0:o.universeId:void 0,placeId:s?null===(a=i.get(e))||void 0===a?void 0:a.placeId:void 0},c=m.get(e);v.push({id:e,combinedName:null==c?void 0:c.names.combinedName,presence:u,hasVerifiedBadge:null!==(l=null==c?void 0:c.isVerified)&&void 0!==l&&l})})),[2,v]}var g}))}))},gl=function(){return cl(void 0,void 0,Promise,(function(){var e;return dl(this,(function(t){switch(t.label){case 0:return e={url:S.EnvironmentUrls.friendsApi+"/v1/my/new-friend-requests/count",retryable:!0,withCredentials:!0},[4,f.httpService.get(e)];case 1:return[2,t.sent().data.count]}}))}))},yl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},bl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Il=S.EnvironmentUrls.chatApi,Sl=function(){return yl(void 0,void 0,Promise,(function(){var e;return bl(this,(function(t){switch(t.label){case 0:return[4,f.httpService.get({url:Il+"/v1/metadata",withCredentials:!0})];case 1:return[2,{chatEnabled:null==(e=t.sent().data)?void 0:e.isChatUserMessagesEnabled}]}}))}))},Cl={common:["CommonUI.Features"],feature:"Feature.PeopleList"},wl=function(e){var t=e.friendsCount,n=e.profileUserId,r=e.isOwnUser,o=e.translate,i="("+(null!=t?t:0)+")",a=r?S.EnvironmentUrls.websiteUrl+"/users/friends#!/friends":S.EnvironmentUrls.websiteUrl+"/users/"+n+"/friends#!/friends",l="Label.Connections";return m().createElement("div",{className:"container-header people-list-header"},null==t?m().createElement("h2",null,o(l)):m().createElement("h2",null,o(l),m().createElement("span",{className:"friends-count"},i)),m().createElement("a",{href:a,className:"btn-secondary-xs btn-more see-all-link-icon"},o("Heading.SeeAll")))},xl=RobloxPresence,Pl=n.n(xl),El=function(e){var t=e.id,n=e.userProfileUrl,r=e.handleImageClick,o=e.translate,i=m().createElement(Vt.Thumbnail2d,{type:Vt.ThumbnailTypes.avatarHeadshot,size:Vt.DefaultThumbnailSize,targetId:t,containerClass:"avatar-card-image"});return m().createElement(I.AvatarCardItem.Headshot,{statusIcon:m().createElement(Pl().PresenceStatusIcon,{translate:o,userId:t}),thumbnail:i,imageLink:n,handleImageClick:r})};El.defaultProps={handleImageClick:void 0};var Tl=El,kl=function(e){var t=e.id,n=e.displayName,r=e.userProfileUrl,o=e.userPresence,i=e.hasVerifiedBadge,a=e.sendClickEvent,l=e.translate;return m().createElement("div",{className:"friend-tile-content"},m().createElement(Tl,{id:t,translate:l,userProfileUrl:r,handleImageClick:a}),m().createElement("a",{href:r,onClick:a,className:"friends-carousel-tile-labels","data-testid":"friends-carousel-tile-labels"},m().createElement("div",{className:"friends-carousel-tile-label"},m().createElement("div",{className:"friends-carousel-tile-name"},m().createElement("span",{className:"friends-carousel-display-name"},n),i&&m().createElement("div",{className:"friend-tile-verified-badge"},m().createElement("div",{className:"friend-tile-spacer"}),m().createElement(Pa.VerifiedBadgeIconContainer,{size:Pa.BadgeSizes.SUBHEADER,additionalContainerClass:"verified-badge"})))),m().createElement("div",{className:"friends-carousel-tile-sublabel"},null!=o&&m().createElement("div",{className:"friends-carousel-tile-experience"},o))))},Al=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},Nl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Ol=function(e){var t=e.friend,n=e.displayName,r=e.userProfileUrl,o=e.userPresence,i=e.isInGame,a=e.gameUrl,l=e.universeId,s=e.canChat,u=e.translate;return m().createElement("div",{className:"friend-tile-dropdown"},i&&null!=o&&m().createElement("div",{className:"in-game-friend-card"},m().createElement("button",{type:"button",className:"friend-tile-non-styled-button",onClick:function(){window.open(a)}},m().createElement(Vt.Thumbnail2d,{type:Vt.ThumbnailTypes.gameIcon,size:Vt.ThumbnailGameIconSize.size150,targetId:l,imgClassName:"game-card-thumb",containerClass:"friend-tile-game-card"})),m().createElement("div",{className:"friend-presence-info"},m().createElement("button",{type:"button",className:"friend-tile-non-styled-button",onClick:function(){window.open(a)}},o),m().createElement(I.Button,{variant:I.Button.variants.growth,size:I.Button.sizes.small,width:I.Button.widths.full,onClick:function(){return Al(void 0,void 0,void 0,(function(){var e;return Nl(this,(function(n){switch(n.label){case 0:return e=t.presence.gameId||"",(0,S.DeviceMeta)().isInApp?((0,S.DeviceMeta)().isDesktop?S.GameLauncher.followPlayerIntoGame(t.id,e,"JoinUser"):window.location.href="/games/start?userID="+t.id+"&joinAttemptId="+e+"&joinAttemptOrigin=JoinUser",[3,5]):[3,1];case 1:return(0,S.DeviceMeta)().isAndroidDevice||(0,S.DeviceMeta)().isChromeOs?(window.location.href="intent://userId="+t.id+"&joinAttemptId="+e+"&joinAttemptOrigin=JoinUser#Intent;scheme=robloxmobile;package=com.roblox.client;S.browser_fallback_url=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.roblox.client;end",[3,5]):[3,2];case 2:return(0,S.DeviceMeta)().isIosDevice?(window.location.href="robloxmobile://userId="+t.id+"&joinAttemptId="+e+"&joinAttemptOrigin=JoinUser",[3,5]):[3,3];case 3:return[4,S.ProtocolHandlerClientInterface.followPlayerIntoGame({userId:t.id,joinAttemptId:e,joinAttemptOrigin:"JoinUser"})];case 4:n.sent(),n.label=5;case 5:return[2]}}))}))}},u("Action.Join")))),m().createElement("ul",null,s&&m().createElement("li",null,m().createElement("button",{type:"button",className:"friend-tile-dropdown-button",onClick:function(){A.chatService.startDesktopAndMobileWebChat({userId:t.id})}},m().createElement("span",{className:"icon-chat-gray"})," ",u("Label.Chat",{username:n}))),m().createElement("li",null,m().createElement("button",{type:"button",className:"friend-tile-dropdown-button",onClick:function(){window.open(r)}},m().createElement("span",{className:"icon-viewdetails"})," ",u("Label.ViewProfile")))))},_l=function(e){var t,n,r=e.trigger,o=e.content,i=e.dropdownWidth,a=(0,p.useState)(!1),l=a[0],s=a[1],u=(0,p.useRef)(null),c=(0,p.useRef)(null),d=function(){s(!0)},f=function(e){var t,n;null==e||(null===(t=u.current)||void 0===t?void 0:t.contains(e.relatedTarget))||(null===(n=c.current)||void 0===n?void 0:n.contains(e.relatedTarget))||s(!1)};(0,p.useEffect)((function(){return u.current?(u.current.addEventListener("mouseover",d),u.current.addEventListener("mouseout",f),function(){var e,t;null===(e=u.current)||void 0===e||e.removeEventListener("mouseover",d),null===(t=u.current)||void 0===t||t.removeEventListener("mouseout",f)}):function(){}}),[]);return m().createElement("div",null,m().createElement("div",{ref:u},r),l&&m().createElement("div",{ref:c,style:{position:"absolute",top:((null===(t=u.current)||void 0===t?void 0:t.offsetHeight)||0)+((null===(n=u.current)||void 0===n?void 0:n.offsetTop)||0),left:function(){var e,t,n=((null===(e=u.current)||void 0===e?void 0:e.offsetLeft)||0)+((null===(t=u.current)||void 0===t?void 0:t.offsetWidth)||0)/2-i/2;return n<0?24:n+i>window.innerWidth?window.innerWidth-(i+24):n}(),zIndex:1002,width:i},onMouseOver:d,onMouseOut:f,onFocus:d,onBlur:f},o))};n(6870);function Ml(e){return Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(e)}function Rl(e,t){var n=e.elements,r=e.threshold;try{var o=new window.IntersectionObserver(t,{threshold:r});return n.forEach((function(e){o.observe(e)})),function(){return o.disconnect()}}catch(e){}return function(){}}var Dl,Ll,Fl,Ul,Gl,jl,Bl,zl,Hl,Wl,Vl,Jl=25,ql=.5;!function(e){e.ItemImpressions="itemImpressions",e.ItemAction="itemAction"}(Dl||(Dl={})),function(e){e.Games="games",e.Home="home",e.SearchLanding="searchLanding",e.Spotlight="spotlight",e.UserProfile="userProfile"}(Ll||(Ll={})),function(e){e.HomePageSessionInfo="homePageSessionInfo",e.DiscoverPageSessionInfo="discoverPageSessionInfo",e.GameSearchSessionInfo="gameSearchSessionInfo",e.SpotlightPageSessionInfo="spotlightPageSessionInfo"}(Fl||(Fl={})),function(e){e.ContentType="contentType",e.Context="context",e.CollectionId="collectionId",e.CollectionPosition="collectionPosition"}(Ul||(Ul={})),function(e){e.User="User"}(Gl||(Gl={})),function(e){e.Online="online",e.InGame="inGame",e.InStudio="inStudio",e.Offline="offline"}(jl||(jl={})),function(e){e.Friend="friend",e.NotFriend="notFriend"}(Bl||(Bl={})),function(e){e.ItemIds="itemIds",e.ItemPositions="itemPositions",e.RowNumbers="rowNumbers",e.FeedRowNumbers="feedRowNumbers",e.PositionsInRow="positionsInRow",e.PositionsInTopic="positionsInTopic",e.TotalNumberOfItems="totalNumberOfItems"}(zl||(zl={})),function(e){e.Presences="presences",e.PresenceUniverseIds="presenceUniverseIds",e.FriendStatuses="friendStatuses",e.SourceCarousel="sourceCarousel"}(Hl||(Hl={})),function(e){e.ItemId="itemId",e.ItemPosition="itemPosition",e.RowNumber="rowNumber",e.FeedRowNumber="feedRowNumber",e.PositionInRow="positionInRow",e.PositionInTopic="positionInTopic",e.TotalNumberOfItems="totalNumberOfItems",e.ActionType="actionType"}(Wl||(Wl={})),function(e){e.Presence="presence",e.PresenceUniverseId="presenceUniverseId",e.FriendStatus="friendStatus",e.SourceCarousel="sourceCarousel"}(Vl||(Vl={}));var Xl,Kl=function(e){return Object.keys(e).reduce((function(t,n){var r,o,i=(r=e[n],o=!1,Array.isArray(r)&&!o?r.join(","):"object"===Ml(r)&&r?JSON.stringify(r):"number"==typeof r||"string"==typeof r?r:"boolean"==typeof r?r?1:0:void 0);return void 0!==i&&(t[n]=i),t}),{})},$l=function(e,t,n){return t?jl.InGame:e&&"Studio"===n?jl.InStudio:e?jl.Online:jl.Offline},Zl=function(){return Zl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Zl.apply(this,arguments)},Yl=function(e,t,n,r,o,i,a,l){var s=(0,p.useCallback)((function(){var s,u,c,d,f,p;return(s={})[Ul.Context]=r,s[Ul.ContentType]=Gl.User,s[Ul.CollectionId]=i,s[Ul.CollectionPosition]=void 0!==a?a+1:-1,s[Wl.TotalNumberOfItems]=l,s[Wl.ActionType]="OpenProfile",s[Wl.ItemId]=e.id.toString(),s[Wl.ItemPosition]=t+1,s[Wl.PositionInTopic]=t+1,s[Wl.RowNumber]=1,s[Vl.Presence]=$l(null===(u=e.presence)||void 0===u?void 0:u.isOnline,null===(c=e.presence)||void 0===c?void 0:c.isInGame,null===(d=e.presence)||void 0===d?void 0:d.lastLocation),s[Vl.PresenceUniverseId]=null!==(p=null===(f=e.presence)||void 0===f?void 0:f.universeId)&&void 0!==p?p:-1,s[Vl.FriendStatus]="friend",s[Vl.SourceCarousel]=n,s[Fl.HomePageSessionInfo]=o,s}),[e,t,o,i,a,n,r,l]);return(0,p.useCallback)((function(){var e=s();A.eventStreamService.sendEvent({name:Dl.ItemAction,type:Dl.ItemAction,context:r},Kl(Zl({},e)))}),[s,r])},Ql="Label.UnavailableFriendName",es=(0,g.withTranslations)((function(e){var t,n,r,o=e.friend,i=e.friendIndex,a=e.isOwnUser,l=e.translate,s=e.canChat,u=e.carouselName,c=e.eventContext,d=e.homePageSessionInfo,f=e.sortId,p=e.sortPosition,v=e.totalNumberOfFriends,h=S.EnvironmentUrls.websiteUrl+"/users/"+o.id+"/profile",g=null!==(t=o.combinedName)&&void 0!==t?t:l(Ql),y=Pl().usePresence(o.id,void 0),b=null!=y&&null!=y.gameId,I=b?y.lastLocation:null,C=null!=I&&I.length>15?I.slice(0,15)+"...":I,w=b?S.EnvironmentUrls.websiteUrl+"/games/"+(null!==(n=y.placeId)&&void 0!==n?n:""):"",x=Yl(o,i,u,c,d,f,p,v);return m().createElement("div",{className:"friends-carousel-tile"},m().createElement(_l,{trigger:m().createElement("button",{type:"button",className:"options-dropdown",id:"friend-tile-button",onClick:function(){}},m().createElement(kl,{id:o.id,displayName:g,userProfileUrl:h,userPresence:C,translate:l,hasVerifiedBadge:o.hasVerifiedBadge,sendClickEvent:x})),content:a?m().createElement(Ol,{friend:o,isInGame:b,universeId:null!==(r=y.universeId)&&void 0!==r?r:0,displayName:g,userProfileUrl:h,userPresence:I,translate:l,gameUrl:w,canChat:s}):m().createElement("div",null),dropdownWidth:null==C?240:315}))}),Cl),ts=function(){return ts=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ts.apply(this,arguments)},ns=function(e,t,n,r,o,i,a){var l,s=(0,p.useCallback)((function(e){var l;if(t){var s=e.filter((function(e){return e<t.length}));return(l={})[Ul.Context]=r,l[Ul.ContentType]=Gl.User,l[Ul.CollectionId]=i,l[Ul.CollectionPosition]=void 0!==a?a+1:-1,l[zl.TotalNumberOfItems]=t.length,l[zl.ItemIds]=s.map((function(e){var n,r,o;return null!==(o=null===(r=null===(n=t[e])||void 0===n?void 0:n.id)||void 0===r?void 0:r.toString())&&void 0!==o?o:"-1"})),l[zl.ItemPositions]=s.map((function(e){return e+1})),l[zl.PositionsInTopic]=s.map((function(e){return e+1})),l[zl.RowNumbers]=s.map((function(){return 1})),l[Hl.Presences]=s.map((function(e){var n,r,o,i,a,l;return $l(null===(r=null===(n=t[e])||void 0===n?void 0:n.presence)||void 0===r?void 0:r.isOnline,null===(i=null===(o=t[e])||void 0===o?void 0:o.presence)||void 0===i?void 0:i.isInGame,null===(l=null===(a=t[e])||void 0===a?void 0:a.presence)||void 0===l?void 0:l.lastLocation)})),l[Hl.PresenceUniverseIds]=s.map((function(e){var n,r,o;return null!==(o=null===(r=null===(n=t[e])||void 0===n?void 0:n.presence)||void 0===r?void 0:r.universeId)&&void 0!==o?o:-1})),l[Hl.FriendStatuses]=s.map((function(){return Bl.Friend})),l[Hl.SourceCarousel]=n,l[Fl.HomePageSessionInfo]=o,l}}),[t,o,i,a,n,r]),u=(0,p.useCallback)((function(e){var t=s(e);void 0!==t?A.eventStreamService.sendEvent({name:Dl.ItemImpressions,type:Dl.ItemImpressions,context:r},Kl(ts({},t))):(0,Oi.fireEvent)("WebHomePageFriendsCarouselItemImpressionsUndefinedError")}),[s,r]);!function(e,t,n){var r=(0,p.useRef)(new Set),o=(0,p.useRef)(new Set),i=(0,p.useRef)(null),a=(0,p.useCallback)((function(){var e=function(e,t){if(0===e.length||0===t)return[e];for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}(Array.from(o.current).filter((function(e){return!r.current.has(e)})),Jl).filter((function(e){return e.length>0}));e.forEach((function(e){n(e),e.forEach((function(e){return r.current.add(e)}))})),o.current.clear()}),[n]),l=(0,p.useMemo)((function(){return(0,Va.debounce)((function(){return a()}),200)}),[a]);(0,p.useEffect)((function(){var t,n,r=Array.from(null!==(t=null==e||null===(n=e.current)||void 0===n?void 0:n.children)&&void 0!==t?t:[]).filter((function(e){return e instanceof HTMLElement}));return i.current&&(i.current(),i.current=null),i.current=Rl({elements:r,threshold:ql},(function(e,t){l.cancel();var n=function(e,t,n){var r=[];return t.forEach((function(t){if(null!=t&&t.isIntersecting){var o=e.findIndex((function(e){return e===t.target}));o>=0&&(r.push(o),n.unobserve(t.target))}})),r.sort((function(e,t){return e-t}))}(r,e,t);n.forEach((function(e){return o.current.add(e)})),l()})),function(){l.cancel(),i.current&&(i.current(),i.current=null)}}),[e,t,l,o])}(e,null!==(l=null==t?void 0:t.length)&&void 0!==l?l:0,u)};!function(e){e.WebHomeFriendsCarousel="WebHomeFriendsCarousel",e.WebProfileFriendsCarousel="WebProfileFriendsCarousel"}(Xl||(Xl={}));var rs=Xl,os=function(e){var t=e.translate,n=e.badgeCount;return m().createElement("div",{className:"friends-carousel-tile"},m().createElement("button",{type:"button",id:"friend-tile-button"},m().createElement("a",{href:"/users/friends#!/friend-requests"},m().createElement("div",{className:"add-friends-icon-container"},n>0&&m().createElement(yr.Badge,{className:"friend-request-badge",overlap:"rectangular",variant:"standard",max:99,color:"error",badgeContent:n.toString()}),m().createElement(yr.PlusHeavyIcon,{className:"add-friends-icon",color:"secondary"})),m().createElement("div",{className:"friends-carousel-tile-labels","data-testid":"friends-carousel-tile-labels"},m().createElement("div",{className:"friends-carousel-tile-label"},m().createElement("div",{className:"friends-carousel-tile-name"},m().createElement("span",{className:"friends-carousel-display-name"},t("Label.Connect"))))))))},is=function(e){var t,n=e.friendsList,r=e.isOwnUser,o=e.translate,i=e.canChat,a=e.carouselName,l=e.eventContext,s=e.homePageSessionInfo,u=e.sortId,c=e.sortPosition,d=e.badgeCount,f=e.isAddFriendsTileEnabled,v=(0,p.useRef)(null),h=(0,p.useState)(n),g=h[0],y=h[1],b=(0,p.useState)(!1),I=b[0],S=b[1],C=(0,p.useRef)(null);return(0,p.useEffect)((function(){var e,t,r=null===(e=v.current)||void 0===e?void 0:e.offsetWidth,o=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(null!=r&&null!=n){var i=Math.floor(r/110);S(110*(f?o+1:o)>r),y(n.slice(0,i-(f?1:0)))}}),[null===(t=v.current)||void 0===t?void 0:t.offsetWidth,n,f]),ns(C,n,a,l,s,u,c),m().createElement("div",null,m().createElement("div",{ref:function(e){return v.current=e,v.current},className:"friends-carousel-container"},null==g?m().createElement("span",{className:"spinner spinner-default"}):m().createElement("div",{ref:C,className:I?"friends-carousel-list-container":"friends-carousel-list-container-not-full"},a===rs.WebHomeFriendsCarousel&&f?m().createElement(os,{key:"add-friends-tile",translate:o,badgeCount:d,"data-testid":"add-friends-tile"}):null,g.map((function(e,t){var d;return m().createElement("div",{key:e.id},m().createElement(es,{friend:e,friendIndex:t,translate:o,isOwnUser:r,canChat:i,carouselName:a,eventContext:l,homePageSessionInfo:s,sortId:u,sortPosition:c,totalNumberOfFriends:null!==(d=null==n?void 0:n.length)&&void 0!==d?d:0}))})))))},as=(S.EnvironmentUrls.friendsApi,S.EnvironmentUrls.premiumFeaturesApi,S.EnvironmentUrls.usersApi,S.EnvironmentUrls.gamesApi,S.EnvironmentUrls.contactsApi,S.EnvironmentUrls.accountSettingsApi,S.EnvironmentUrls.authApi,S.EnvironmentUrls.tradesApi,S.EnvironmentUrls.apiGatewayUrl),ls=(S.EnvironmentUrls.chatApi,function(){return{url:"".concat(as,"/user-blocking-api/v1/users/batch-check-reciprocal-block"),withCredentials:!0}}),ss=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},us=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},cs=function(e){return ss(void 0,void 0,Promise,(function(){var t;return us(this,(function(n){switch(n.label){case 0:return t=parseInt(S.CurrentUser.userId,10),Number.isNaN(t)||!t?[2,{users:[{isBlocked:!1,isBlockingViewer:!1,userId:0}]}]:[4,f.httpService.post(ls(),{userIds:e,requesterUserId:t})];case 1:return[2,n.sent().data]}}))}))},ds=S.EnvironmentUrls.apiGatewayUrl,fs=(S.EnvironmentUrls.friendsApi,S.EnvironmentUrls.thumbnailsApi,S.EnvironmentUrls.presenceApi,S.EnvironmentUrls.gamesApi,S.EnvironmentUrls.usersApi,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{retryable:!0,withCredentials:!0,url:"".concat(ds,"/access-management/v1/upsell-feature-access?featureName=").concat(e).concat(t?"&extraParameters=".concat(t):"").concat(n?"&successfulActions=".concat(n):"")}});function ps(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function ms(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ps(i,r,o,a,l,"next",e)}function l(e){ps(i,r,o,a,l,"throw",e)}a(void 0)}))}}var vs=function(){var e=ms(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n?btoa(JSON.stringify(n)):null,i=fs(t,o,r),e.next=4,f.httpService.get(i);case 4:return a=e.sent,l=a.data,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function hs(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function gs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){hs(i,r,o,a,l,"next",e)}function l(e){hs(i,r,o,a,l,"throw",e)}a(void 0)}))}}var ys=function(){var e=gs(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vs("MustHideConnections",[{name:"vieweeUserId",type:"UserId",value:"".concat(t)}]);case 3:return n=e.sent,e.abrupt("return","Granted"===(null==n?void 0:n.access));case 7:e.prev=7,e.t0=e.catch(0),console.debug(e.t0);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),bs=function(){var e=gs(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cs([parseInt(t,10)]);case 3:if(!(null!=(n=e.sent)&&n.users&&n.users.length>0)){e.next=6;break}return e.abrupt("return",n.users[0].isBlockingViewer);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.debug(e.t0);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Is=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},Ss=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Cs="FriendshipNotifications",ws="fulfilled",xs=A.dataStores.userDataStore,Ps=function(e){return Promise.all(e.map((function(e){return e.then((function(e){return{status:ws,value:e}}))})))},Es=function(e,t){return Is(void 0,void 0,void 0,(function(){return Ss(this,(function(n){switch(n.label){case 0:return t?[2,!1]:[4,bs(e)];case 1:return n.sent()?[2,!0]:[4,ys(e)];case 2:return[2,n.sent()]}}))}))},Ts=function(e){var t=e.translate,n=e.profileUserId,r=e.isOwnUser,o=e.carouselName,i=e.eventContext,a=e.homePageSessionInfo,l=e.sortId,s=e.sortPosition,u=(0,p.useState)(null),c=u[0],d=u[1],f=(0,p.useState)(null),v=f[0],h=f[1],y=(0,p.useState)(!1),b=y[0],I=y[1],C=(0,p.useState)(null),w=C[0],x=C[1],P=(0,p.useState)(!1),E=P[0],T=P[1],k=(0,p.useState)({isBadgeEnabled:!1,isAddFriendsTileEnabledWeb:!1}),A=k[0],N=k[1],O=(0,yr.createCache)(),_=(0,g.useTheme)();return(0,p.useEffect)((function(){xs.clearUserDataStoreCache&&xs.clearUserDataStoreCache()}),[]),(0,p.useEffect)((function(){if(E){var e=function(){return Is(void 0,void 0,void 0,(function(){var e,t;return Ss(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,gl()];case 1:return e=n.sent(),x(e),[3,3];case 2:return t=n.sent(),console.error("Error fetching friend request count:",t),[3,3];case 3:return[2]}}))}))},t=ul();return t.Subscribe(Cs,e),function(){t.Unsubscribe(Cs,e)}}}),[E]),(0,p.useEffect)((function(){Is(void 0,void 0,void 0,(function(){var e,t,i,a,l,s,u,c,f,p,m,v,g,y;return Ss(this,(function(b){switch(b.label){case 0:return e=[vl(n),hl(n,r),Sl(),gl(),Es(n,r),Is(void 0,void 0,Promise,(function(){var e,t;return Ss(this,(function(n){switch(n.label){case 0:if(!(null===S.ExperimentationService||void 0===S.ExperimentationService?void 0:S.ExperimentationService.getAllValuesForLayer))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,S.ExperimentationService.getAllValuesForLayer("Social.Friends")];case 2:return[2,{isBadgeEnabled:!0===(null==(e=n.sent())?void 0:e.enableNewFriendRequestsBadge),isAddFriendsTileEnabledWeb:!0===(null==e?void 0:e.enableAddFriendsTileOnWeb)}];case 3:return t=n.sent(),console.error("Error fetching experimentation config:",t),[2,{isBadgeEnabled:!1,isAddFriendsTileEnabledWeb:!1}];case 4:return[2,{isBadgeEnabled:!1,isAddFriendsTileEnabledWeb:!1}]}}))}))],[4,Ps(e)];case 1:return t=b.sent(),i=t[0],a=t[1],l=t[2],s=t[3],u=t[4],c=t[5],f=i.status===ws?i.value.count:0,p=a.status===ws?a.value:[],m=l.status===ws&&l.value.chatEnabled,v=s.status===ws?s.value:0,g=c.status===ws?c.value:{isBadgeEnabled:!1,isAddFriendsTileEnabledWeb:!1},y=u.status!==ws||u.value,d(f),h(p),I(m),x(v),N(g),T((C=y,w=o,P=f,E=v,k=g.isAddFriendsTileEnabledWeb,!C&&(w!==rs.WebHomeFriendsCarousel?0!==P:0!==P||k&&0!==E))),[2]}var C,w,P,E,k}))})).catch((function(e){throw e}))}),[n,r]),m().createElement(yr.CacheProvider,{cache:O},m().createElement(yr.UIThemeProvider,{theme:_,cssBaselineMode:"disabled"},E?m().createElement("div",{className:"react-friends-carousel-container"},m().createElement(wl,{friendsCount:c,translate:t,profileUserId:n,isOwnUser:r}),m().createElement(is,{badgeCount:A.isBadgeEnabled&&null!=w?w:0,friendsList:v,translate:t,isOwnUser:r,canChat:b,carouselName:o,eventContext:i,homePageSessionInfo:a,sortId:l,sortPosition:s,isAddFriendsTileEnabled:A.isAddFriendsTileEnabledWeb})):m().createElement("div",{className:"friends-carousel-0-friends"})))};Ts.defaultProps={translate:void 0};var ks=(0,g.withTranslations)(Ts,Cl),As=function(e){var t,n=e.homePageSessionInfo,r=e.sortId,o=e.sortPosition,i=document.querySelector('meta[name="user-data"]'),a=i?i.getAttribute("data-userid"):Number(null!==(t=S.CurrentUser.userId)&&void 0!==t?t:"0");return m().createElement("div",{className:"friend-carousel-container"},m().createElement(ks,{profileUserId:a,isOwnUser:!0,carouselName:rs.WebHomeFriendsCarousel,eventContext:Ka.Home,homePageSessionInfo:n,sortId:r,sortPosition:o}))},Ns=function(e){var t=e.sortId,n=e.sortPosition,r=mr();return m().createElement(As,{homePageSessionInfo:r,sortId:t,sortPosition:n})},Os=function(e){var t=e.option,n=e.isSelected,r=e.setSelectedOptionId,o=e.translate;return m().createElement("button",{type:"button",onClick:function(){return r(t.optionId)},className:vt()("filter-option",{"selected-option":n}),"aria-label":o(n?De.ActionDropdownSelected:De.ActionDropdownNotSelected,{optionName:t.optionDisplayName})},m().createElement("span",{className:"filter-option-name"},t.optionDisplayName),n?m().createElement("span",{className:"icon-radio-check-circle-filled"}):m().createElement("span",{className:"icon-radio-check-circle"}))},_s=dt,Ms=function(e){var t=e.filter,n=e.dropdownContainerRef,r=e.selectedOptionId,o=e.setSelectedOptionId,i=e.setIsDropdownOpen,a=e.updateFilterValue,l=e.sendFilterClickEvent,s=e.translate,u=(0,p.useCallback)((function(){a(r),i(!1),l(t.filterId,z.Apply,r,t.selectedOptionId)}),[r,a,i,t.filterId,t.selectedOptionId,l]),c=(0,p.useCallback)((function(){var e=r;i(!1),o(t.selectedOptionId),l(t.filterId,z.CloseDropdown,t.selectedOptionId,e)}),[t.selectedOptionId,i,l,t.filterId,o,r]),d=(0,p.useCallback)((function(e){n.current&&e.target instanceof Node&&!n.current.contains(e.target)&&c()}),[c,n]),f=(0,p.useCallback)((function(e){e.key===_s.keyBoardEventCode.escape&&c()}),[c]);return(0,p.useEffect)((function(){return document.addEventListener("mousedown",d),document.addEventListener("keydown",f),function(){document.removeEventListener("mousedown",d),document.removeEventListener("keydown",f)}}),[d,f]),m().createElement("div",{className:"filters-modal-container"},m().createElement("div",{className:"header-container"},m().createElement("h3",null,t.filterDisplayName),m().createElement("div",null,m().createElement("button",{type:"button",className:"header-close-button",onClick:function(){return c()},"aria-label":s(De.ActionClose)},m().createElement("span",{className:"icon-close"})))),m().createElement("div",{className:"filter-options-container"},t.filterOptions.map((function(e,t){return m().createElement(m().Fragment,{key:e.optionId},m().createElement(Os,{option:e,isSelected:r===e.optionId,setSelectedOptionId:o,translate:s}),0===t&&m().createElement("div",{className:"filter-option-divider"}))}))),m().createElement("div",{className:"action-buttons-container"},m().createElement(I.Button,{onClick:u,variant:I.Button.variants.primary,size:I.Button.sizes.medium,width:I.Button.widths.full,className:"apply-button",isDisabled:r===t.selectedOptionId},s(Me.ActionApply)||"Apply")))},Rs=function(e){var t=e.filter,n=e.updateFilterValue,r=e.sendFilterClickEvent,o=e.translate,i=m().useRef(null),a=(0,p.useState)(!1),l=a[0],s=a[1],u=(0,p.useState)(t.selectedOptionId),c=u[0],d=u[1],f=(0,p.useMemo)((function(){var e=t.filterOptions.find((function(e){return e.optionId===t.selectedOptionId}));return null==e?void 0:e.optionDisplayName}),[t.selectedOptionId,t.filterOptions]);return m().createElement("div",{ref:i},m().createElement(I.Button,{onClick:function(){s((function(e){var n=e?z.CloseDropdown:z.OpenDropdown,o=e?c:void 0;return r(t.filterId,n,t.selectedOptionId,o),!e}))},variant:l?I.Button.variants.primary:I.Button.variants.secondary,size:I.Button.sizes.medium,className:"filter-select"},m().createElement("span",{className:"filter-display-text"},f),m().createElement("span",{className:l?"icon-expand-arrow-selected":"icon-expand-arrow"})),l&&m().createElement(Ms,{filter:t,dropdownContainerRef:i,selectedOptionId:c,setSelectedOptionId:d,setIsDropdownOpen:s,updateFilterValue:n,sendFilterClickEvent:r,translate:o}))},Ds=function(){return Ds=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ds.apply(this,arguments)},Ls=function(e,t,n){var r=mr(),o=(0,p.useRef)(null),i=(0,p.useCallback)((function(){var n;return(n={})[L.AbsPositions]=e.filters.map((function(e,t){return t})),n[L.FilterIds]=e.filters.map((function(e){return e.filterId})),n[L.SelectedOptionIds]=e.filters.map((function(e){return e.selectedOptionId})),n[L.GameSetTypeId]=e.topicId,n[L.GameSetTargetId]=e.gameSetTargetId,n[L.SortPos]=t,n[U.DiscoverPageSessionInfo]=r,n[L.Page]=O.GamesPage,n}),[e.filters,e.topicId,e.gameSetTargetId,t,r]);(0,p.useEffect)((function(){return(null==n?void 0:n.current)&&(o.current=A.elementVisibilityService.observeVisibility({element:n.current,threshold:rt.filterImpressionsIntersectionThreshold},(function(e){if(e){var t=i(),n=te.filterImpressions(t);n&&A.eventStreamService.sendEvent.apply(A.eventStreamService,n),(null==o?void 0:o.current)&&o.current()}}))),function(){(null==o?void 0:o.current)&&o.current()}}),[i,n]);var a=(0,p.useCallback)((function(n,o,i,a){var l,s;return Ds(((l={})[L.ButtonName]=o,l[L.GameSetTypeId]=e.topicId,l[L.GameSetTargetId]=e.gameSetTargetId,l[L.SortPos]=t,l[U.DiscoverPageSessionInfo]=r,l[L.Page]=O.GamesPage,l[L.FilterId]=n,l[L.SelectedOptionId]=i,l),a&&((s={})[L.PreviousOptionId]=a,s))}),[e.topicId,e.gameSetTargetId,t,r]);return(0,p.useCallback)((function(e,t,n,r){var o=a(e,t,n,r),i=te.gamesFilterClick(o);i&&A.eventStreamService.sendEvent.apply(A.eventStreamService,i)}),[a])},Fs=function(e){var t=e.sort,n=e.positionId,r=e.translate,o=e.fetchGamesPageData,i=(0,p.useRef)(null),a=Ls(t,n,i);return m().createElement("div",{ref:i,className:"filters-container"},m().createElement("div",{className:"filters-header-container"},m().createElement("span",{className:"filters-header"},t.topic)),m().createElement("div",{className:"filter-items-container"},t.filters.map((function(e){return m().createElement(Rs,{key:e.filterId,filter:e,updateFilterValue:function(n){return function(e,n){var r=Vi([t]);o&&r&&(r.set(e,n),o(r))}(e.filterType,n)},sendFilterClickEvent:a,translate:r})}))))};Fs.defaultProps={fetchGamesPageData:void 0};var Us,Gs=Fs,js=function(e,t){return void 0===e||"number"!=typeof e&&"boolean"!=typeof e?void 0!==e&&"string"==typeof e?e:t:e.toString()},Bs=function(e,t){if("number"==typeof e)return e;if("string"==typeof e){var n=parseInt(e,10);if(!Number.isNaN(n))return n}return t},zs=function(e,t,n){if("boolean"==typeof e)return e;if("string"==typeof e){var r=e.toLowerCase();return"true"===r||"t"===r||"false"!==r&&"f"!==r&&(eu(Us.ParseBooleanFieldInvalidString,"Invalid string value for boolean field: "+e,n),t)}return"number"==typeof e?1===e||0!==e&&(eu(Us.ParseBooleanFieldInvalidNumber,"Invalid number value for boolean field: "+e,n),t):(eu(Us.ParseBooleanFieldInvalidType,"Invalid type for boolean field: "+typeof e+", input: "+(e?JSON.stringify(e):"undefined"),n),t)},Hs=function(e){return null!=e&&("string"==typeof e||"number"==typeof e||"boolean"==typeof e)},Ws=function(e,t){var n={};return Object.keys(e).forEach((function(r){var o=e[r];Hs(o)?n[r]=o:eu(Us.AnalyticsParsingDiscardedInvalidParam,"Discarding invalid event parameter key: "+r+", value: "+JSON.stringify(o)+", type: "+typeof o,t)})),n},Vs=function(e){var t=e.pageName;switch(t){case O.HomePage:return $a.HomePageSessionInfo;case O.GamesPage:return $a.DiscoverPageSessionInfo;case O.SpotlightPage:return $a.SpotlightPageSessionInfo;default:return eu(Us.SessionInfoKeyNotFound,"Session info key not found for page: "+(t?JSON.stringify(t):"undefined"),e),null}},Js=function(e,t){var n,r=t.pageContext.pageName,o=Vs(t.pageContext);return o?((n={})[o]=e,n):(eu(Us.InvalidPageForSessionAnalytics,"Invalid page context for session analytics: "+(r?JSON.stringify(r):"undefined")+" with session info: "+e,t.pageContext),{})},qs=function(e){var t=e.pageName,n="webDiscoverySduiError";switch(t){case O.HomePage:return Ka.Home;case O.GamesPage:return Ka.Games;case O.SpotlightPage:return Ka.Spotlight;default:return A.eventStreamService.sendEvent({name:n,type:n,context:e.pageName},sl({errorName:Us.InvalidEventContextForPage,errorMessage:"Page context does not have a valid event context: "+(t?JSON.stringify(t):"undefined")})),null}},Xs=function(e,t,n){return t.analyticsData&&void 0!==t.analyticsData[e]&&null!==t.analyticsData[e]?t.analyticsData[e]:t.ancestorAnalyticsData&&void 0!==t.ancestorAnalyticsData[e]&&null!==t.ancestorAnalyticsData[e]?t.ancestorAnalyticsData[e]:n},Ks="webDiscoverySduiError";!function(e){e.ActiveFriendsFooterPlaceDetailsFetchError="ActiveFriendsFooterPlaceDetailsFetchError",e.AnalyticsBuilderInvalidCollectionAnalyticsData="AnalyticsBuilderInvalidCollectionAnalyticsData",e.AnalyticsBuilderInvalidItemAnalyticsData="AnalyticsBuilderInvalidItemAnalyticsData",e.AnalyticsParsingDiscardedInvalidParam="AnalyticsParsingDiscardedInvalidParam",e.AssetImageMissingAssetUrl="AssetImageMissingAssetUrl",e.BuildBaseActionParamsMissingItem="BuildBaseActionParamsMissingItem",e.BuildBaseImpressionParamsInvalidItemsPerRow="BuildBaseImpressionParamsInvalidItemsPerRow",e.BuildBaseImpressionParamsMissingItem="BuildBaseImpressionParamsMissingItem",e.BuildItemImpressionParamsMissingItem="BuildItemImpressionParamsMissingItem",e.CollectionCarouselMissingItem="CollectionCarouselMissingItem",e.CollectionCarouselItemMissingComponentType="CollectionCarouselItemMissingComponentType",e.CollectionCarouselHeaderNotReactElement="CollectionCarouselHeaderNotReactElement",e.CollectionGridMissingItem="CollectionGridMissingItem",e.CollectionGridItemMissingComponentType="CollectionGridItemMissingComponentType",e.CollectionComponentItemsImpressedButMissing="CollectionComponentItemsImpressedButMissing",e.CollectionComponentChildNotReactElement="CollectionComponentChildNotReactElement",e.ComponentNotFound="ComponentNotFound",e.FriendsPresenceFetchFailure="FriendsPresenceFetchFailure",e.InvalidEventContextForPage="InvalidEventContextForPage",e.InvalidImageQualityLevelConditionValue="InvalidImageQualityLevelConditionValue",e.InvalidMaxWidthConditionValue="InvalidMaxWidthConditionValue",e.InvalidMinWidthConditionValue="InvalidMinWidthConditionValue",e.InvalidPageForSessionAnalytics="InvalidPageForSessionAnalytics",e.InvalidParsedMaxWidthConditionValue="InvalidParsedMaxWidthConditionValue",e.InvalidParsedMinWidthConditionValue="InvalidParsedMinWidthConditionValue",e.InvalidPresenceConditionValue="InvalidPresenceConditionValue",e.InvalidPresenceUpdateEvent="InvalidPresenceUpdateEvent",e.NestedPropParseFailure="NestedPropParseFailure",e.ParseBooleanFieldInvalidNumber="ParseBooleanFieldInvalidNumber",e.ParseBooleanFieldInvalidString="ParseBooleanFieldInvalidString",e.ParseBooleanFieldInvalidType="ParseBooleanFieldInvalidType",e.PropParseFailure="PropParseFailure",e.PropParserNotFound="PropParserNotFound",e.ReportItemActionMissingCollectionData="ReportItemActionMissingCollectionData",e.ReportItemImpressionsMissingData="ReportItemImpressionsMissingData",e.ReportItemImpressionsNoIndexesToSend="ReportItemImpressionsNoIndexesToSend",e.SduiActionOpenGameDetailsInvalidId="SduiActionOpenGameDetailsInvalidId",e.SduiActionOpenSeeAllInvalidCollectionId="SduiActionOpenSeeAllInvalidCollectionId",e.SduiActionOpenSeeAllInvalidCollectionName="SduiActionOpenSeeAllInvalidCollectionName",e.SduiActionOpenSignupInvalidGetSignupUrl="SduiActionOpenSignupInvalidGetSignupUrl",e.SduiComponentBuildPropsAndChildrenInvalidConfig="SduiComponentBuildPropsAndChildrenInvalidConfig",e.SduiFeedItemBoundaryError="SduiFeedItemBoundaryError",e.SduiLandingPageConfigurationNotFound="SduiLandingPageConfigurationNotFound",e.SduiLandingPageDataFetchError="SduiLandingPageDataFetchError",e.SduiLandingPageDataParseError="SduiLandingPageDataParseError",e.SduiLandingPageDeviceFeaturesFetchError="SduiLandingPageDeviceFeaturesFetchError",e.SduiLandingPagePageSlugFetchError="SduiLandingPagePageSlugFetchError",e.SduiParseAssetUrlInvalidFormat="SduiParseAssetUrlInvalidFormat",e.SduiParseAssetUrlInvalidInput="SduiParseAssetUrlInvalidInput",e.SduiParseAssetUrlIntoComponentInvalidAssetType="SduiParseAssetUrlIntoComponentInvalidAssetType",e.SduiParseAssetUrlIntoComponentInvalidRbxThumb="SduiParseAssetUrlIntoComponentInvalidRbxThumb",e.SduiParseAssetUrlIntoComponentNoSupportedThumbSizeForType="SduiParseAssetUrlIntoComponentNoSupportedThumbSizeForType",e.SduiParseAutomaticSizeInvalidInput="SduiParseAutomaticSizeInvalidInput",e.SduiParseCallbackInvalidConfig="SduiParseCallbackInvalidConfig",e.SduiParseColorValueInvalidInput="SduiParseColorValueInvalidInput",e.SduiParseFoundationButtonSizeInvalidInput="SduiParseFoundationButtonSizeInvalidInput",e.SduiParseFoundationButtonVariantInvalidInput="SduiParseFoundationButtonVariantInvalidInput",e.SduiParseFoundationTokenInvalidInput="SduiParseFoundationTokenInvalidInput",e.SduiParseFoundationTokenInvalidInputPath="SduiParseFoundationTokenInvalidInputPath",e.SduiParseFoundationTokenInvalidOutputType="SduiParseFoundationTokenInvalidOutputType",e.SduiParseFoundationTokenMissingTokens="SduiParseFoundationTokenMissingTokens",e.SduiParseGradientInvalidConfig="SduiParseGradientInvalidConfig",e.SduiParseIconInvalidInput="SduiParseIconInvalidInput",e.SduiParseUDim2InvalidInput="SduiParseUDim2InvalidInput",e.SduiParseVector2InvalidInput="SduiParseVector2InvalidInput",e.SduiParseUiComponentInvalidConfig="SduiParseUiComponentInvalidConfig",e.ServerDrivenFeedItemMissingFeedOrFeedItems="ServerDrivenFeedItemMissingFeedOrFeedItems",e.ServerDrivenFeedItemMissingItem="ServerDrivenFeedItemMissingItem",e.SessionInfoKeyNotFound="SessionInfoKeyNotFound",e.SingleItemCollectionItemImpressedButMissing="SingleItemCollectionItemImpressedButMissing",e.SingleItemCollectionMissingItem="SingleItemCollectionMissingItem",e.SingleItemCollectionItemMissingItemComponentType="SingleItemCollectionItemMissingItemComponentType",e.TemplateResolutionCircularReference="TemplateResolutionCircularReference",e.TemplateResolutionComponentTypeMismatch="TemplateResolutionComponentTypeMismatch",e.TemplateResolutionTemplateNotFound="TemplateResolutionTemplateNotFound",e.UnsupportedConditionalPropsCondition="UnsupportedConditionalPropsCondition",e.UnknownImageQualityLevelConditionValue="UnknownImageQualityLevelConditionValue",e.UnknownPresenceConditionKey="UnknownPresenceConditionKey",e.UnknownResponsivePropConditionKey="UnknownResponsivePropConditionKey",e.UnsupportedSduiPage="UnsupportedSduiPage"}(Us||(Us={}));var $s,Zs,Ys=function(e){if(e){var t=qs(e);if(t)return t}return"unknown"},Qs=function(e,t,n){(0,Oi.fireEvent)(e);var r={errorName:e,errorMessage:t};A.eventStreamService.sendEvent({name:Ks,type:Ks,context:Ys(n)},sl(r))},eu=Qs,tu=function(){return tu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tu.apply(this,arguments)},nu=function(e){var t=e.sduiContext,n=e.title,r=e.subtitle,o=e.titleImage,i=e.bottomRowComponent,a=e.gradient,l=e.gradientHeightPercent,s=e.gradientWidthPercent,u=e.foregroundImage,c=e.backgroundImage,d=e.onActivated,f=e.badgeText,v=e.asset,h=e.ctaButtonComponent,g=e.minForegroundHeightPercent,y=e.maxForegroundHeightPercent,b=e.titleImageAspectRatio,I=e.titleImageHeightPercentage,S=e.minCardHeight,C=e.foregroundAspectRatio,w=e.children,x=(0,p.useMemo)((function(){var e=t.dependencies.tokens;return v?m().createElement(Eo,{title:v.title,titleFontStyle:e.Typography.TitleMedium,subtitle:v.subtitle,subtitleFontStyle:e.Typography.BodyMedium,imageComponent:v.image,rightButtonContent:h,subtitleMaxLines:1,textColor:"white",height:40}):m().createElement(m().Fragment,null)}),[v,h,t]),P=(0,p.useMemo)((function(){return f?m().createElement(Zo,{pillText:f}):m().createElement(m().Fragment,null)}),[f]),E=(0,p.useMemo)((function(){return void 0!==l?l:0===a.degree||180===a.degree?1:.5}),[l,a]),T=(0,p.useMemo)((function(){return void 0!==s?s:0===a.degree||180===a.degree?.5:1}),[s,a]);return(0,p.useMemo)((function(){return m().createElement($o,{title:n,subtitle:r,titleImageComponent:o,foregroundImageComponent:u,backgroundImageComponent:c,gradient:tu(tu({},a),{heightPercent:E,widthPercent:T}),gradientHeightPercent:E,gradientWidthPercent:T,overlayPillComponent:P,backgroundClickAction:null==d?void 0:d.onActivated,backgroundClickLinkPath:null==d?void 0:d.linkPath,bottomRowComponent:null!=i?i:x,minForegroundHeightPercent:g,maxForegroundHeightPercent:y,titleImageAspectRatio:b,titleImageHeightPercentage:I,minCardHeight:S,foregroundAspectRatio:C},w)}),[c,d,i,x,u,a,E,T,r,n,o,w,P,g,y,b,I,S,C])},ru=function(){return ru=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ru.apply(this,arguments)},ou={id:"Unknown",itemPosition:-1,itemComponentType:"Unknown"},iu={collectionId:-1,contentType:"Unknown",itemsPerRow:-1,collectionPosition:-1,totalNumberOfItems:-1,collectionComponentType:"Unknown"},au=function(e,t,n,r){var o,i=ru(ru(ru({},t),e),n),a=ru(ru({},i),{id:js(i.id,ou.id),itemPosition:Bs(i.itemPosition,ou.itemPosition),itemComponentType:js(i.itemComponentType,ou.itemComponentType)});return void 0===(o=a).id||o.itemPosition<0?(eu(Us.AnalyticsBuilderInvalidItemAnalyticsData,"Item analytics data is invalid: "+JSON.stringify(a),r.pageContext),ru(ru({},ou),a)):a},lu=function(){return lu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lu.apply(this,arguments)},su=function(e,t,n,r){var o,i,a,l,s=au(null!==(o=t.analyticsData)&&void 0!==o?o:{},null!==(i=t.ancestorAnalyticsData)&&void 0!==i?i:{},void 0,n),u=null!==(a=null!=r?r:t.getCollectionData&&t.getCollectionData())&&void 0!==a?a:null;u||eu(Us.ReportItemActionMissingCollectionData,"Collection data is missing when sending action "+JSON.stringify(e),n.pageContext);var c=null!=u?u:iu,d=function(e,t,n,r,o,i,a,l,s){var u;return e?((u={})[Za.CollectionId]=o,u[Za.CollectionPosition]=r,u[Za.ContentType]=n,u[Za.CollectionComponentType]=i,u[rl.TotalNumberOfItems]=a,u[rl.ItemId]=e.id,u[rl.ItemPosition]=t,u[rl.PositionInTopic]=t,u[rl.ItemComponentType]=e.itemComponentType,u[rl.ActionType]=l,u):(eu(Us.BuildBaseActionParamsMissingItem,"Item is nil when sending action for collection "+o,s.pageContext),{})}(s,s.itemPosition,c.contentType,c.collectionPosition,c.collectionId,c.collectionComponentType,c.totalNumberOfItems,e.actionType,n),f=lu(lu(lu(lu({},c),s),Ws(e.actionParams,n.pageContext)),d);A.eventStreamService.sendEvent({name:Xa.ItemAction,type:Xa.ItemAction,context:null!==(l=qs(n.pageContext))&&void 0!==l?l:"unknown"},sl(lu({},f)))},uu=function(){return uu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},uu.apply(this,arguments)},cu=function(e,t,n,r,o){var i=(0,p.useRef)(null),a=(0,p.useCallback)((function(e,t){su(e,t,o,i.current)}),[i,o]),l=(0,p.useCallback)((function(){return i.current}),[i]),s=(0,p.useMemo)((function(){return uu(uu({},e),{logAction:a,getCollectionAnalyticsData:l})}),[e,a,l]);return i.current=(0,p.useMemo)((function(){var e,i,a,l=js(null===(e=s.analyticsData)||void 0===e?void 0:e.collectionComponentType,t);return function(e,t,n,r,o,i){var a,l=ru(ru({},e),t),s=ru(ru({},l),{collectionId:Bs(l.collectionId,iu.collectionId),collectionPosition:Bs(l.collectionPosition,-1),contentType:js(l.contentType,iu.contentType),itemsPerRow:r,totalNumberOfItems:o,collectionComponentType:n||iu.collectionComponentType});return void 0===(a=s).collectionId||a.collectionId<0||void 0===a.contentType||void 0===a.collectionPosition||a.collectionPosition<0||void 0===a.totalNumberOfItems||a.totalNumberOfItems<0?(eu(Us.AnalyticsBuilderInvalidCollectionAnalyticsData,"Collection analytics data for component type "+(n||iu.collectionComponentType)+" is invalid: "+JSON.stringify(s),i.pageContext),ru(ru({},iu),s)):s}(null!==(i=s.ancestorAnalyticsData)&&void 0!==i?i:{},null!==(a=s.analyticsData)&&void 0!==a?a:{},l,n,r,o)}),[s.ancestorAnalyticsData,s.analyticsData,t,n,r,o]),{collectionAnalyticsContext:s,collectionAnalyticsDataRef:i}},du=function(){return du=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},du.apply(this,arguments)},fu=function(e,t,n){return(0,p.useMemo)((function(){return t?t.map((function(t){return t.templateKey?e.templateRegistry.resolveTemplateForConfig(t):n?e.templateRegistry.resolveTemplateForConfig(du(du({},t),{templateKey:n})):t})):[]}),[t,e,n])},pu=function(){return pu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pu.apply(this,arguments)},mu=function(e,t,n,r,o){var i,a,l,s,u,c=function(e){var t,n=null==e?void 0:e[0];if((null==n?void 0:n.componentType)===wc.Tile||(null==n?void 0:n.componentType)===wc.GameTile){var r=null===(t=n.props)||void 0===t?void 0:t.imageAspectRatio;if(Hs(r)&&Bs(r,0)>1)return!0}return!1}(n),d=null!==(l=Vs(o.pageContext))&&void 0!==l?l:"",f=js(null==r?void 0:r[d],""),p=e.length>0?js(null===(s=t[e[0]])||void 0===s?void 0:s.itemComponentType,ou.itemComponentType):ou.itemComponentType,m=pu(pu(pu(pu(pu(((i={})[L.RootPlaceIds]=e.map((function(e){var n;return Bs(null===(n=t[e])||void 0===n?void 0:n.placeId,-1)})),i[L.UniverseIds]=e.map((function(e){var n;return Bs(null===(n=t[e])||void 0===n?void 0:n.universeId,-1)})),i),function(e,t,n){var r;return e?((r={})[L.ThumbnailAssetIds]=t.map((function(e){var t;return js(null===(t=n[e])||void 0===t?void 0:t.thumbnailAssetId,"0")})),r[L.ThumbnailListIds]=t.map((function(e){var t;return js(null===(t=n[e])||void 0===t?void 0:t.thumbnailListId,"0")})),r):{}}(c,e,t)),function(e,t,n){var r;return e?((r={})[L.TileBadgeContexts]=t.map((function(e){var t;return js(null===(t=n[e])||void 0===t?void 0:t.tileBadgeIds,"0")})),r):{}}(c,e,t)),function(e,t,n){var r,o=e.map((function(e){var r;return!0===zs(null===(r=t[e])||void 0===r?void 0:r.adFlag,!1,n.pageContext)?1:0}));return o.some((function(e){return 1===e}))?((r={})[L.AdsPositions]=o,r[L.AdFlags]=o,r[L.AdIds]=e.map((function(e){var n;return js(null===(n=t[e])||void 0===n?void 0:n.adId,"0")})),r):{}}(e,t,o)),((a={})[L.NavigationUids]=e.map((function(e){var n;return js(null===(n=t[e])||void 0===n?void 0:n.navigationUniverseId,"0")})),a[L.AbsPositions]=e,a[L.SortPos]=(null==r?void 0:r.collectionPosition)>=0?r.collectionPosition-1:-1,a[L.ComponentType]=p,a[L.GameSetTypeId]=null!==(u=null==r?void 0:r.collectionId)&&void 0!==u?u:-1,a[L.Page]=o.pageContext.pageName,a)),Js(f,o)),v=te.gameImpressions(m);A.eventStreamService.sendEvent.apply(A.eventStreamService,v)},vu=function(){return vu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vu.apply(this,arguments)},hu=[Za.CollectionId,Za.CollectionPosition,Za.ContentType,Za.CollectionComponentType,"id","itemPosition","itemsPerRow","rowNumber",tl.TotalNumberOfItems],gu=function(e,t,n,r){var o,i;if(n&&t)if(0!==e.length){var a=function(e,t,n,r,o,i,a,l,s){var u,c=[],d=[],f=[],p=[];return e.forEach((function(e){var n=t[e];if(null!=n)if(c.push(n.id),d.push(n.itemPosition),p.push(n.itemPosition),void 0!==r&&r>0){var o=Math.floor(e/r);f.push(o+1)}else eu(Us.BuildBaseImpressionParamsInvalidItemsPerRow,"itemsPerRow is undefined or not greater than 0 when sending impressions for collection "+i+": "+JSON.stringify(r),s.pageContext),f.push(1);else eu(Us.BuildBaseImpressionParamsMissingItem,"Item at index "+e+" is nil when sending impressions for collection "+i,s.pageContext)})),(u={})[Za.CollectionId]=i,u[Za.CollectionPosition]=o,u[Za.ContentType]=n,u[Za.CollectionComponentType]=a,u[tl.TotalNumberOfItems]=l,u[tl.ItemIds]=c.join(","),u[tl.ItemPositions]=d.join(","),u[tl.RowNumbers]=f.join(","),u[tl.PositionsInTopic]=p.join(","),u}(e,t,n.contentType,n.itemsPerRow,n.collectionPosition,n.collectionId,n.collectionComponentType,n.totalNumberOfItems,r),l=function(e,t,n,r){var o={};e.forEach((function(i,a){var l=t[i];null!=l?Object.entries(l).forEach((function(t){var n=t[0],r=t[1];hu.includes(n)||null==r||(o[n]||(o[n]=e.map((function(){return""}))),o[n][a]=r.toString())})):eu(Us.BuildItemImpressionParamsMissingItem,"Item at index "+i+" is nil when sending impressions for collection "+n,r.pageContext)}));var i={};return Object.entries(o).forEach((function(e){var t=e[0],n=e[1];i[t+"_arr"]=n.join(",")})),i}(e,t,n.collectionId,r),s=vu(vu(vu({},n),l),a);A.eventStreamService.sendEvent({name:Xa.ItemImpressions,type:Xa.ItemImpressions,context:null!==(i=qs(r.pageContext))&&void 0!==i?i:"unknown"},sl(vu({},s)))}else eu(Us.ReportItemImpressionsNoIndexesToSend,"No indexes to send for collection "+n.collectionId,r.pageContext);else eu(Us.ReportItemImpressionsMissingData,"Missing collection "+JSON.stringify(n)+" or item "+JSON.stringify(t)+" data when sending impressions for collection "+(null!==(o=null==n?void 0:n.collectionId)&&void 0!==o?o:"undefined"),r.pageContext)},yu=function(e,t,n,r,o){var i=(0,p.useCallback)((function(i){var a;t?("Game"===(null===(a=r.current)||void 0===a?void 0:a.contentType)&&mu(i,n.current,t,r.current,o),gu(i,n.current,r.current,o)):eu(Us.CollectionComponentItemsImpressedButMissing,e.componentType+" with config "+JSON.stringify(e)+" is missing item configs on impression. Configs are "+JSON.stringify(t),o.pageContext)}),[t,r,n,o,e]);return{onItemsImpressed:i}},bu=function(){return bu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bu.apply(this,arguments)},Iu=function(e,t){return(0,p.useMemo)((function(){return t?m().cloneElement(t,bu(bu({},t.props),{parentAnalyticsContext:e})):null}),[t,e])},Su=function(){return Su=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Su.apply(this,arguments)},Cu=function(e,t,n,r){return(0,p.useMemo)((function(){return m().Children.map(r,(function(r,o){if(!m().isValidElement(r))return eu(Us.CollectionComponentChildNotReactElement,t.componentType+" with config "+JSON.stringify(t)+" has child "+JSON.stringify(r)+" that is not a valid React element",n.pageContext),r;var i=t.componentType+"-child-"+o;return m().cloneElement(r,Su(Su({},r.props),{key:i,parentAnalyticsContext:e}))}))}),[r,e,t,n])},wu=function(e){var t=e.sduiContext,n=e.analyticsContext,r=e.componentConfig,o=e.items,i=e.collectionItemSize,a=e.itemTemplateKey,l=e.layoutOverrides,s=e.scrollThresholdFromEnd,u=e.onScrollToEnd,c=e.headerComponent,d=e.children,f=t.dependencies.tokens,v=fu(t,o,a),h=(0,p.useRef)([]),g=(0,p.useState)(-1),y=g[0],b=g[1],I=cu(n,r.componentType,y,v.length,t),S=I.collectionAnalyticsContext,C=I.collectionAnalyticsDataRef,w=yu(r,v,h,C,t).onItemsImpressed,x=(0,p.useRef)(null);ll(x,v.length,w);var P=(0,p.useCallback)((function(e,n,r){var o,i,a,l,s,u=void 0!==(null===(o=C.current)||void 0===o?void 0:o.collectionPosition)&&C.current.collectionPosition>=0?C.current.collectionPosition-1:-1,c=null!==(i=Vs(t.pageContext))&&void 0!==i?i:"";Ai({distance:e,scrollAreaSize:r,startingPosition:n,direction:j.Horizontal,gameSetTypeId:null!==(l=null===(a=C.current)||void 0===a?void 0:a.collectionId)&&void 0!==l?l:-1,gameSetTargetId:void 0,sortPosition:u,currentPage:t.pageContext.pageName,pageSession:js(null===(s=C.current)||void 0===s?void 0:s[c],"")})}),[C,t]),E=(0,p.useCallback)((function(e,n,o){var i,a;if(!e)return eu(Us.CollectionCarouselMissingItem,"CollectionCarousel with config "+JSON.stringify(r)+" trying to render item "+JSON.stringify(e)+" that is missing",t.pageContext),m().createElement(m().Fragment,null);var l=js(null===(i=e.analyticsData)||void 0===i?void 0:i.componentType,"")||e.componentType;if(!l)return eu(Us.CollectionCarouselItemMissingComponentType,"CollectionCarousel with config "+JSON.stringify(r)+" is missing item component type on item config "+JSON.stringify(e),t.pageContext),m().createElement(m().Fragment,null);var s={itemPosition:n+1,itemComponentType:l,componentType:l};return h.current[n]=au(null!==(a=e.analyticsData)&&void 0!==a?a:{},{},s,t),m().createElement(rd,{componentConfig:e,parentAnalyticsContext:S,sduiContext:t,localAnalyticsData:s,extraLocalProps:{isOnScreen:o}})}),[t,r,S]),T=Iu(S,c),k=Cu(S,r,t,d);return m().createElement("div",null,m().createElement(Ro,{itemsContainerRef:x,items:v,renderItem:E,collectionItemSize:null!=i?i:vo.Small,updateItemsPerRow:b,headerComponent:T,layoutOverrides:l,gapBetweenHeaderAndItems:f.Gap.Large,isHorizontalScrollEnabled:!0,scrollArrowBackgroundColor:f.Color.Surface.Surface_100,scrollArrowBoxShadowColor:f.Color.Common.Shadow,thresholdFromEnd:s,onReachedThresholdFromEnd:u,reportHorizontalScrollTelemetry:P}),k)},xu=function(e){var t=e.sduiContext,n=e.analyticsContext,r=e.componentConfig,o=e.items,i=e.collectionItemSize,a=e.itemTemplateKey,l=e.layoutOverrides,s=e.headerComponent,u=e.children,c=t.dependencies.tokens,d=fu(t,o,a),f=(0,p.useRef)([]),v=(0,p.useState)(-1),h=v[0],g=v[1],y=cu(n,r.componentType,h,d.length,t),b=y.collectionAnalyticsContext,I=y.collectionAnalyticsDataRef,S=yu(r,d,f,I,t).onItemsImpressed,C=(0,p.useRef)(null);ll(C,d.length,S);var w=(0,p.useCallback)((function(e,n){var o,i;if(!e)return eu(Us.CollectionGridMissingItem,"CollectionGrid with config "+JSON.stringify(r)+" trying to render item "+JSON.stringify(e)+" that is missing",t.pageContext),m().createElement(m().Fragment,null);var a=js(null===(o=e.analyticsData)||void 0===o?void 0:o.componentType,"")||e.componentType;if(!a)return eu(Us.CollectionGridItemMissingComponentType,"CollectionGrid with config "+JSON.stringify(r)+" is missing item component type on item config "+JSON.stringify(e),t.pageContext),m().createElement(m().Fragment,null);var l={itemPosition:n+1,itemComponentType:a,componentType:a};return f.current[n]=au(null!==(i=e.analyticsData)&&void 0!==i?i:{},{},l,t),m().createElement(rd,{componentConfig:e,parentAnalyticsContext:b,sduiContext:t,localAnalyticsData:l})}),[t,r,b]),x=Iu(b,s),P=Cu(b,r,t,u);return m().createElement("div",null,m().createElement(Lo,{itemsContainerRef:C,items:d,renderItem:w,collectionItemSize:null!=i?i:vo.Small,updateItemsPerRow:g,headerComponent:x,layoutOverrides:l,gapBetweenHeaderAndItems:c.Gap.Large}),P)},Pu=function(e){var t=e.sduiContext,n=e.isFocused,r=e.isHovered,o=e.image,i=e.imageComponent,a=e.imageAspectRatio,l=e.thumbnailOverlayComponent,s=e.onActivated,u=e.titleText,c=e.titleColor,d=e.titleFont,f=e.titleLines,p=e.titleComponent,v=e.isContained,h=e.containmentPadding,g=e.cornerRadius,y=e.footerComponent,b=e.ctaButtonComponent,I=e.isOnScreen,S=t.dependencies.tokens;return m().createElement(pi,{isFocused:null!=n&&n||null!=r&&r,imageComponent:null!=i?i:o,imageAspectRatio:null!=a?a:1,thumbnailOverlayComponent:l,onActivated:null==s?void 0:s.onActivated,linkPath:null==s?void 0:s.linkPath,isContained:null!=v&&v,containmentBackgroundColor:S.Color.Surface.Surface_100,containmentPadding:null!=h?h:S.Padding.Small,cornerRadius:null!=g?g:S.Radius.Medium,titleText:u,titleColor:null!=c?c:S.Color.Content.Emphasis,titleFont:null!=d?d:S.Typography.TitleMedium,titleLines:null!=f?f:1,titleComponent:p,footerComponent:y,ctaButtonComponent:b,isOnScreen:null!=I&&I,placeholderImageBackgroundColor:S.Color.Surface.Surface_300})};!function(e){e.AfAd="af_ad",e.AfAdId="af_ad_id",e.AfAdset="af_adset",e.AfAdsetId="af_adset_id",e.AfChannel="af_channel",e.AfCid="af_c_id",e.AfSub1="af_sub1",e.AfSub2="af_sub2",e.AfSub4="af_sub4",e.C="c",e.Pid="pid",e.Gclid="gclid",e.Fbclid="fbclid"}(Zs||(Zs={}));var Eu,Tu,ku=(($s={})[Zs.AfAd]=["utm_adname","af_ad"],$s[Zs.AfAdId]=["utm_adid","af_ad_id"],$s[Zs.AfAdset]=["utm_adset","af_adset"],$s[Zs.AfAdsetId]=["utm_adsetid","af_adset_id"],$s[Zs.AfChannel]=["utm_channel","af_channel"],$s[Zs.AfCid]=["utm_id","af_c_id"],$s[Zs.AfSub1]=["gclid","af_sub1"],$s[Zs.Gclid]=["gclid","gclid"],$s[Zs.AfSub2]=["fbclid","af_sub2"],$s[Zs.Fbclid]=["fbclid","fbclid"],$s[Zs.C]=["utm_campaign","c"],$s[Zs.Pid]=["utm_source","pid"],$s[Zs.AfSub4]=["utm_control_test","af_sub4"],$s),Au=function(e){void 0===e&&(e=window.location);var t=ye(e.search);return t?Object.entries(ku).reduce((function(e,n){var r=n[0],o=n[1].find((function(e){return void 0!==t[e]&&null!==t[e]}));return!o||"string"!=typeof t[o]&&"number"!=typeof t[o]||(e[r]=t[o]),e}),{}):{}},Nu=function(){return Nu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Nu.apply(this,arguments)},Ou=function(e,t){var n,r,o,i,a,l,s,u=zs(Xs("adFlag",e,!1),!1,t.pageContext),c=js(Xs("adId",e,""),""),d=Bs(Xs("itemPosition",e,-1),-1),f=e.getCollectionData?e.getCollectionData():void 0,p=null!==(i=null==f?void 0:f.collectionPosition)&&void 0!==i?i:Bs(Xs("collectionPosition",e,-1),-1),m=null!==(a=null==f?void 0:f.totalNumberOfItems)&&void 0!==a?a:Bs(Xs("totalNumberOfItems",e,-1),-1),v=null!==(l=null==f?void 0:f.collectionId)&&void 0!==l?l:Bs(Xs("collectionId",e,-1),-1),h=js(Xs(null!==(s=Vs(t.pageContext))&&void 0!==s?s:"",e,""),"");return Nu(Nu(Nu(((n={})[L.IsAd]=u,n),""!==c&&((r={})[L.NativeAdData]=c,r)),((o={})[L.Position]=d,o[L.SortPos]=p,o[L.NumberOfLoadedTiles]=m,o[L.GameSetTypeId]=v,o[L.Page]=t.pageContext.pageName,o)),Js(h,t))},_u=function(e,t,n){var r,o=null===(r=e.actionParams)||void 0===r?void 0:r.placeId,i=Bs(o,-1);if(i&&-1!==i){var a=function(e,t,n){var r,o,i,a,l=Ws(null!==(o=e.actionParams)&&void 0!==o?o:{},n.pageContext),s=Bs(null!==(i=l.placeId)&&void 0!==i?i:Xs("placeId",t,-1),-1),u=Bs(null!==(a=l.universeId)&&void 0!==a?a:Xs("universeId",t,-1),-1),c=Ou(t,n),d=Au();return Nu(Nu(Nu({},c),d),((r={})[L.PlaceId]=s,r[L.UniverseId]=u,r))}(e,t,n);return{callback:void 0,linkPath:W(i,"",a)}}return eu(Us.SduiActionOpenGameDetailsInvalidId,"Invalid id "+JSON.stringify(o)+" to open game details",n.pageContext),{callback:void 0,linkPath:void 0}},Mu=function(){return Mu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Mu.apply(this,arguments)},Ru=function(e,t,n){var r,o,i=null===(r=e.actionParams)||void 0===r?void 0:r.collectionName,a=js(i,"");if(!a)return eu(Us.SduiActionOpenSeeAllInvalidCollectionName,"Invalid collection name "+JSON.stringify(i)+" to open see all",n.pageContext),{callback:void 0,linkPath:void 0};var l=null===(o=e.actionParams)||void 0===o?void 0:o.collectionId,s=Bs(l,-1);if(!s||-1===s)return eu(Us.SduiActionOpenSeeAllInvalidCollectionId,"Invalid collection id "+JSON.stringify(l)+" to open see all",n.pageContext),{callback:void 0,linkPath:void 0};var u=function(e,t,n){var r,o,i=Bs(Xs("collectionPosition",e,-1),-1),a=js(Xs(null!==(o=Vs(n.pageContext))&&void 0!==o?o:"",e,""),"");return Mu(((r={})[L.Position]=i,r[L.SortId]=t,r[L.GameSetTypeId]=t,r[L.Page]=n.pageContext.pageName,r),Js(a,n))}(t,s,n);return{callback:void 0,linkPath:J(a,u[L.Page],u)}},Du=function(e,t,n){var r=(S.NavigationService||{}).getSignupUrl;if(!r){var o=f.urlService.getAbsoluteUrl("/account/signupredir");return eu(Us.SduiActionOpenSignupInvalidGetSignupUrl,"getSignupUrl is not defined",n.pageContext),{linkPath:o}}return{linkPath:r()}};!function(e){e.OpenGameDetails="OpenGameDetails",e.OpenSeeAll="OpenSeeAll",e.PlayButtonClick="PlayButtonClick",e.OpenSignup="OpenSignup",e.OpenJoinFriends="OpenJoinFriends"}(Tu||(Tu={}));var Lu,Fu,Uu,Gu=function(){return{callback:void 0,linkPath:void 0}},ju=((Eu={})[Tu.OpenGameDetails]=_u,Eu[Tu.OpenSeeAll]=Ru,Eu[Tu.OpenSignup]=Du,Eu[Tu.PlayButtonClick]=Gu,Eu[Tu.OpenJoinFriends]=Gu,Eu),Bu=function(e){var t=e.assetId,n=e.sduiContext,r=(0,p.useState)(""),o=r[0],i=r[1],a=(0,p.useState)(!0),l=a[0],s=a[1];return(0,p.useEffect)((function(){s(!0),Ot(t).then((function(e){var t,n;i(null!==(n=null===(t=null==e?void 0:e.locations[0])||void 0===t?void 0:t.location)&&void 0!==n?n:"")})).catch((function(){i("")})).finally((function(){s(!1)}))}),[t]),l?m().createElement(I.Loading,null):o?m().createElement("img",{src:o,alt:"asset"}):(eu(Us.AssetImageMissingAssetUrl,"AssetImage missing asset url for assetId "+t,n.pageContext),m().createElement("img",{src:"",alt:"asset"}))},zu=function(e){var t=e.thumbnailType,n=e.targetId,r=e.format,o=e.size;return m().createElement(Vt.Thumbnail2d,{containerClass:"sdui-thumbnail-image-container",type:t,targetId:n,format:r,size:o})};!function(e){e.imageQualityLevel="imageQualityLevel",e.maxScreenWidth="maxScreenWidth",e.minScreenWidth="minScreenWidth"}(Lu||(Lu={})),function(e){e.friendInGame="friendInGame"}(Fu||(Fu={})),function(e){e.RbxAsset="rbxassetid",e.RbxThumb="rbxthumb"}(Uu||(Uu={}));var Hu,Wu=function(){return Wu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wu.apply(this,arguments)},Vu={startColor:"#000000",endColor:"#000000",startTransparency:0,endTransparency:1,degree:270},Ju=function(e,t,n){var r,o;if(void 0!==e&&(i=null===(o=null===(r=null==e?void 0:e.feed)||void 0===r?void 0:r.props)||void 0===o?void 0:o.feedItems,Array.isArray(i)&&i.every((function(e){return"object"==typeof e&&null!==e})))){var i,a=e.feed.props.feedItems,l=a.find((function(e){return e.feedItemKey===t}));if(l)return l;eu(Us.ServerDrivenFeedItemMissingItem,"SDUI feed items "+JSON.stringify(a)+" missing matching feed item with key "+t,n.pageContext)}else eu(Us.ServerDrivenFeedItemMissingFeedOrFeedItems,"SDUI missing feed items, root is "+JSON.stringify(e),n.pageContext)},qu=function(e){if(e&&"object"==typeof e){var t=e;if(t.componentType&&Hc(t.componentType))return!0}return!1},Xu=function(e,t,n){if(!function(e){if(e&&"object"==typeof e){var t=e;if(t.actionType&&t.actionParams&&ju[t.actionType])return!0}return!1}(e))return eu(Us.SduiParseCallbackInvalidConfig,"Invalid action config "+JSON.stringify(e)+" to parse callback",n.pageContext),{onActivated:function(){},linkPath:void 0};var r=(0,ju[e.actionType])(e,t,n);return{onActivated:function(){return function(e,t,n,r){var o=n.logAction;o?o(t,n):su(t,n,r,null),e.callback&&e.callback()}(r,e,t,n)},linkPath:r.linkPath}},Ku=function(e,t,n){if("string"!=typeof e)return eu(Us.SduiParseAssetUrlInvalidInput,"Invalid asset url input "+JSON.stringify(e)+". Input must be a string.",n.pageContext),{assetType:void 0,assetTarget:"0"};var r=e.split("//");if(2===r.length&&(e.includes(Uu.RbxAsset)||e.includes(Uu.RbxThumb))){if(r[0].includes(Uu.RbxAsset))return{assetType:Uu.RbxAsset,assetTarget:r[1]};if(r[0].includes(Uu.RbxThumb))return{assetType:Uu.RbxThumb,assetTarget:r[1]}}return eu(Us.SduiParseAssetUrlInvalidFormat,"Invalid asset url format "+e,n.pageContext),{assetType:void 0,assetTarget:"0"}},$u=((Hu={})[Vt.ThumbnailTypes.gameIcon]=Object.values(Vt.ThumbnailGameIconSize),Hu[Vt.ThumbnailTypes.gameThumbnail]=Object.values(Vt.ThumbnailGameThumbnailSize),Hu[Vt.ThumbnailTypes.assetThumbnail]=Object.values(Vt.ThumbnailAssetsSize),Hu[Vt.ThumbnailTypes.avatarHeadshot]=Object.values(Vt.ThumbnailAvatarHeadshotSize),Hu),Zu=function(e,t,n){if("string"!=typeof e)return null;var r=Ku(e,0,n),o=r.assetType,i=r.assetTarget;if(o===Uu.RbxAsset){var a=i;return m().createElement(Bu,{assetId:a,sduiContext:n})}if(o===Uu.RbxThumb){var l=function(e){var t=e.split("&"),n={};return t.forEach((function(e){var t=e.split("="),r=t[0],o=t[1];n[r]=o})),{thumbnailType:n.type,id:n.id,w:n.w,h:n.h}}(i),s=l.thumbnailType,u=(a=l.id,l.w),c=l.h;if(void 0!==a&&void 0!==s&&void 0!==u&&void 0!==c){var d=function(e,t,n){var r,o=t+"x"+n;return null===(r=$u[e])||void 0===r?void 0:r.find((function(e){return e===o}))}(s,u,c);return void 0!==d?m().createElement(zu,{thumbnailType:s,targetId:a,format:Vt.ThumbnailFormat.webp,size:d}):(eu(Us.SduiParseAssetUrlIntoComponentNoSupportedThumbSizeForType,"No supported thumbnail size "+u+"x"+c+" for type "+s,n.pageContext),null)}return eu(Us.SduiParseAssetUrlIntoComponentInvalidRbxThumb,"Invalid rbxthumb url "+JSON.stringify(e)+". At least one of thumbnailType "+(null!=s?s:"undefined")+" id "+(null!=a?a:"undefined")+", w "+(null!=u?u:"undefined")+", or h "+(null!=c?c:"undefined")+" is invalid",n.pageContext),null}return eu(Us.SduiParseAssetUrlIntoComponentInvalidAssetType,"Invalid asset type "+JSON.stringify(o)+". Only RbxThumb and RbxAsset are supported.",n.pageContext),null},Yu=function(e,t,n,r){if(t)if("string"==typeof e){for(var o=e.split("."),i=t,a=0;a<o.length;++a){var l=o[a];if(null==i||"object"!=typeof i||Array.isArray(i))return void eu(Us.SduiParseFoundationTokenInvalidInputPath,"Invalid token path "+e+". Token path step "+l+" is invalid. Token is "+JSON.stringify(i),r.pageContext);i=i[l]}if(null!=i)return i;eu(Us.SduiParseFoundationTokenInvalidInputPath,"Invalid token path "+e+". The final token "+(i?JSON.stringify(i):"undefined")+" is invalid.",r.pageContext)}else eu(Us.SduiParseFoundationTokenInvalidInput,"Invalid input "+JSON.stringify(e)+" for foundation token. Input must be a string.",r.pageContext);else eu(Us.SduiParseFoundationTokenMissingTokens,"Missing tokens in parseFoundationTokenHelper for input "+JSON.stringify(e),r.pageContext)},Qu=function(e){return!(!e||"object"!=typeof e)},ec=function(e){return"string"==typeof e&&/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/.test(e)},tc=function(e){return"string"==typeof e&&/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d*(?:\.\d+)?)\s*\)$/.test(e)},nc=function(e,t,n){if(ec(e)||tc(e))return e;var r=function(e,t,n){var r=Yu(e,n.dependencies.tokens,0,n);if(void 0!==r&&"string"==typeof r)return r;eu(Us.SduiParseFoundationTokenInvalidOutputType,"Invalid output type "+typeof r+". Expected string.",n.pageContext)}(e,0,n);if(r&&(ec(r)||tc(r)))return r;eu(Us.SduiParseFoundationTokenInvalidOutputType,"Invalid output type "+typeof r+". Expected color string.",n.pageContext)},rc=function(e){return"string"==typeof e&&/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e)},oc=function(e){return"string"==typeof e&&/^([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e)},ic=function(e,t,n){if(rc(e))return e;if(oc(e))return"#"+e;if(ec(e)||tc(e))return function(e,t,n){if(ec(e)||tc(e)){var r=e.match(/\d+(?:\.\d+)?/g);if(!(!r||r.length<3||r.length>4)){var o=r.map(Number),i=o[0],a=o[1],l=o[2];return"#"+i.toString(16).padStart(2,"0")+a.toString(16).padStart(2,"0")+l.toString(16).padStart(2,"0")}eu(Us.SduiParseColorValueInvalidInput,"Invalid input "+JSON.stringify(e)+" for color value in convertRbxColorToHex. Input must be a valid rgb or rgba color.",n.pageContext)}else eu(Us.SduiParseColorValueInvalidInput,"Invalid input "+JSON.stringify(e)+" for color value in convertRbxColorToHex. Input must be a rgb or rgba color.",n.pageContext)}(e,0,n);var r=nc(e,0,n);if(r)return ic(r,t,n);eu(Us.SduiParseColorValueInvalidInput,"Invalid input "+JSON.stringify(e)+" for color value in parseColorValueToHex. Input must be a hex color or a foundation color token.",n.pageContext)},ac=function(e){if(e&&"object"==typeof e){var t=e;if(void 0!==t.xScale&&"number"==typeof t.xScale&&void 0!==t.xOffset&&"number"==typeof t.xOffset&&void 0!==t.yScale&&"number"==typeof t.yScale&&void 0!==t.yOffset&&"number"==typeof t.yOffset)return!0}return!1},lc=function(e){if(e&&Array.isArray(e)&&4===e.length){var t=e.map(Number);return{xScale:t[0],xOffset:t[1],yScale:t[2],yOffset:t[3]}}},sc=function(e){if(e&&"object"==typeof e){var t=e;if(void 0!==t.x&&"number"==typeof t.x&&void 0!==t.y&&"number"==typeof t.y)return!0}return!1},uc=function(e){if(e&&Array.isArray(e)&&2===e.length){var t=e.map(Number);return{x:t[0],y:t[1]}}},cc={"icons/status/games/rating_small":"icon-rating-16x16","icons/status/games/people-playing_small":"icon-current-players-16x16","icons/navigation/pushRight_small":"icon-push-right-16x16"},dc={parseUiComponent:function(e,t,n){if(!e||"object"!=typeof e)return eu(Us.SduiParseUiComponentInvalidConfig,"Invalid component config "+JSON.stringify(e)+" to parse UI component",n.pageContext),m().createElement(m().Fragment,null);var r=e;return m().createElement(rd,{componentConfig:r,parentAnalyticsContext:t,sduiContext:n})},parseCallback:Xu,parseHeroUnitAsset:function(e,t,n){if(!function(e){if("object"==typeof e){var t=e;if(t.image&&t.title&&t.subtitle)return!0}return!1}(e))return{image:m().createElement(m().Fragment,null),title:"Hero Unit Asset Title",subtitle:"Hero Unit Asset Subtitle"};var r=Zu(e.image,0,n);return Wu(Wu({},e),{image:r})},parseAssetUrl:Ku,parseAssetUrlIntoComponent:Zu,parseGradient:function(e,t,n){var r,o,i,a=function(e){if(!e||"object"!=typeof e)return!1;var t=e;return!(!t.startColor||"string"!=typeof t.startColor||!t.endColor||"string"!=typeof t.endColor||void 0===t.startOpacity||"number"!=typeof t.startOpacity||void 0===t.endOpacity||"number"!=typeof t.endOpacity||void 0===t.degree||"number"!=typeof t.degree)}(e),l=function(e){if(!e||"object"!=typeof e)return!1;var t=e;return!(!t.startColor||"string"!=typeof t.startColor||!t.endColor||"string"!=typeof t.endColor||void 0===t.startTransparency||"number"!=typeof t.startTransparency||t.startTransparency<0||t.startTransparency>1||void 0===t.endTransparency||"number"!=typeof t.endTransparency||t.endTransparency<0||t.endTransparency>1||void 0===t.degree||"number"!=typeof t.degree||void 0!==t.widthPercent&&("number"!=typeof t.widthPercent||t.widthPercent<0||t.widthPercent>1)||void 0!==t.heightPercent&&("number"!=typeof t.heightPercent||t.heightPercent<0||t.heightPercent>1)||void 0!==t.midpointPercent&&("number"!=typeof t.midpointPercent||t.midpointPercent<0||t.midpointPercent>1))}(e);return a||l?(i=a?{startColor:e.startColor,endColor:e.endColor,startTransparency:e.startOpacity,endTransparency:e.endOpacity,degree:e.degree}:e,Wu(Wu({},i),{startColor:null!==(r=ic(i.startColor,t,n))&&void 0!==r?r:Vu.startColor,endColor:null!==(o=ic(i.endColor,t,n))&&void 0!==o?o:Vu.endColor})):(eu(Us.SduiParseGradientInvalidConfig,"Invalid gradient config "+JSON.stringify(e),n.pageContext),Vu)},parseFoundationNumberToken:function(e,t,n){if("number"==typeof e)return e;var r=Yu(e,n.dependencies.tokens,0,n);if(void 0!==r&&"number"==typeof r)return r;eu(Us.SduiParseFoundationTokenInvalidOutputType,"Invalid output type "+typeof r+" for token "+JSON.stringify(r)+" with input "+JSON.stringify(e)+". Expected number.",n.pageContext)},parseFoundationTypographyToken:function(e,t,n){if(Qu(e))return e;var r=Yu(e,n.dependencies.tokens,0,n);if(void 0!==r&&Qu(r))return r;eu(Us.SduiParseFoundationTokenInvalidOutputType,"Invalid output type "+typeof r+". Expected TypographyToken.",n.pageContext)},parseColorValue:function(e,t,n){if(rc(e))return e;if(oc(e))return"#"+e;var r=nc(e,0,n);if(r)return r;eu(Us.SduiParseColorValueInvalidInput,"Invalid input "+JSON.stringify(e)+" for color value. Input must be a hex color or a foundation color token.",n.pageContext)},parseUDim2:function(e,t,n){if(ac(e))return e;var r=lc(e);if(ac(r))return r;if(e&&"string"==typeof e){var o=e.split(","),i=lc(o);if(ac(i))return i;eu(Us.SduiParseUDim2InvalidInput,"Invalid input "+JSON.stringify(e)+" for uDim2. Input must be a string with 4 comma-separated values.",n.pageContext)}else eu(Us.SduiParseUDim2InvalidInput,"Invalid input "+JSON.stringify(e)+" for uDim2. Input must be a string.",n.pageContext)},parseVector2:function(e,t,n){if(sc(e))return e;var r=uc(e);if(sc(r))return r;if(e&&"string"==typeof e){var o=e.split(","),i=uc(o);if(sc(i))return i;eu(Us.SduiParseVector2InvalidInput,"Invalid input "+JSON.stringify(e)+" for vector2. Input must be a string with 2 comma-separated values.",n.pageContext)}else eu(Us.SduiParseVector2InvalidInput,"Invalid input "+JSON.stringify(e)+" for vector2. Input must be a string.",n.pageContext)},parseAutomaticSize:function(e,t,n){if(e&&"string"==typeof e)switch(e){case to.X:return to.X;case to.Y:return to.Y;case to.XY:return to.XY;case to.None:return to.None;default:return void eu(Us.SduiParseAutomaticSizeInvalidInput,"Invalid automatic size "+JSON.stringify(e)+". Expected one of "+Object.values(to).join(", ")+".",n.pageContext)}else eu(Us.SduiParseAutomaticSizeInvalidInput,"Invalid input "+JSON.stringify(e)+" for automatic size. Input must be a string.",n.pageContext)},parseIcon:function(e,t,n){if("string"==typeof e){if(cc[e])return vt()("sdui-icon",cc[e]);eu(Us.SduiParseIconInvalidInput,"Invalid icon "+JSON.stringify(e)+". Expected one of "+Object.keys(cc).join(", ")+".",n.pageContext)}else eu(Us.SduiParseIconInvalidInput,"Invalid input "+JSON.stringify(e)+" for icon. Input must be a string.",n.pageContext)},parseFoundationButtonSize:function(e,t,n){if("string"==typeof e&&Ke.includes(e))return e;eu(Us.SduiParseFoundationButtonSizeInvalidInput,"Invalid input "+JSON.stringify(e)+" for foundation button size. Input must be a valid string and button size.",n.pageContext)},parseFoundationButtonVariant:function(e,t,n){if("string"==typeof e&&Xe.includes(e))return e;eu(Us.SduiParseFoundationButtonVariantInvalidInput,"Invalid input "+JSON.stringify(e)+" for foundation button variant. Input must be a valid string and button variant.",n.pageContext)}},fc=function(e){var t=e.sduiContext,n=e.onActivated,r=e.textColor,o=e.fontStyle,i=e.textIconGap,a=e.sectionGap,l=e.leftText,s=e.leftIcon,u=e.leftIconComponent,c=e.rightText,d=e.rightIcon,f=e.rightIconComponent,p=t.dependencies.tokens;return m().createElement(vi,{onActivated:null==n?void 0:n.onActivated,linkPath:null==n?void 0:n.linkPath,textColor:null!=r?r:p.Color.Content.Default,fontStyle:null!=o?o:p.Typography.BodyMedium,textIconGap:null!=i?i:p.Gap.XSmall,sectionGap:null!=a?a:p.Gap.Small,iconWidth:16,leftText:null!=l?l:"",leftIcon:s,leftIconComponent:u,rightText:c,rightIcon:d,rightIconComponent:f})},pc=function(e){var t=e.friendsInGame,n=e.onHide,r=e.placeId,o=e.sduiContext,i=(0,p.useState)(void 0),a=i[0],l=i[1];(0,p.useEffect)((function(){Nt(r.toString()).then((function(e){l(e)})).catch((function(e){l(void 0),eu(Us.ActiveFriendsFooterPlaceDetailsFetchError,"Error fetching place details for active friends footer with placeId "+r+", error message is: "+JSON.stringify(e),o.pageContext)}))}),[r,o.pageContext]);var s=(0,p.useMemo)((function(){return t.map((function(e){return{id:e.userId,displayName:e.displayName,presence:e.presence}}))}),[t]);return a?m().createElement(Hn,{friendsDataInGame:s,show:!0,onHide:n,game:a}):m().createElement(m().Fragment,null)},mc=function(e){var t,n,r=e.sduiContext,o=e.analyticsContext,i=e.universeId,a=e.maxAvatars,l=e.iconWidth,s=e.onActivated,u=r.dependencies.tokens,c=null!=a?a:3,d=null!=l?l:u.Size.Size_400,f=(0,p.useMemo)((function(){var e;return(null!==(e=r.dataStore.social.inGameFriendsByUniverseId[i])&&void 0!==e?e:[]).slice(0,c)}),[r.dataStore.social.inGameFriendsByUniverseId,i,c]),v=(0,p.useMemo)((function(){return f.map((function(e){return e.displayName})).join(", ")}),[f]),h=(0,p.useState)(!1),g=h[0],y=h[1],b=null===(n=null===(t=f[0])||void 0===t?void 0:t.presence)||void 0===n?void 0:n.placeId,I=(0,p.useCallback)((function(){var e={actionType:Tu.OpenJoinFriends,actionParams:{placeId:b,universeId:i}};Xu(e,o,r).onActivated()}),[b,i,o,r]),S=(0,p.useMemo)((function(){return s||(b?{onActivated:function(){y(!0),I()}}:void 0)}),[s,b,I]),C=(0,p.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),y(!1)}),[]),w=(0,p.useMemo)((function(){var e=f.map((function(e){return m().createElement(zu,{key:e.userId,thumbnailType:Vt.ThumbnailTypes.avatarHeadshot,targetId:e.userId.toString(),format:Vt.ThumbnailFormat.webp,size:Vt.ThumbnailAvatarHeadshotSize.size48})}));return m().createElement(Go,{avatarThumbnails:e,iconWidth:d,avatarContainerBackgroundColor:u.Color.Surface.Surface_200,avatarImageBackgroundColor:u.Color.Extended.Gray.Gray_800,avatarBorderColor:u.Color.System.Success})}),[f,d,u]);return m().createElement(m().Fragment,null,m().createElement(fc,{componentConfig:{componentType:wc.TileFooter,props:{}},sduiContext:r,analyticsContext:o,leftIconComponent:w,leftText:v,textIconGap:u.Gap.Small,onActivated:S}),b&&g&&m().createElement(pc,{friendsInGame:f,onHide:C,placeId:b,sduiContext:r}))},vc=function(e){var t=e.sduiContext,n=e.analyticsContext,r=e.universeId,o=e.ratingText,i=e.playerCount,a=e.footerComponent,l=(t.dependencies.tokens,(0,p.useMemo)((function(){return!!(t.dataStore.social.inGameFriendsByUniverseId[r]&&t.dataStore.social.inGameFriendsByUniverseId[r].length>0)}),[t.dataStore.social.inGameFriendsByUniverseId,r])),s=(0,p.useMemo)((function(){if(null!=i)return Se.getPlayerCount(i)}),[i]);return l?m().createElement(mc,{componentConfig:{componentType:wc.GameTileActiveFriendsFooter,props:{}},sduiContext:t,analyticsContext:n,universeId:r}):o?m().createElement(fc,{componentConfig:{componentType:wc.TileFooter,props:{}},leftText:o,leftIcon:"sdui-icon icon-rating-16x16",rightText:s,rightIcon:s?"sdui-icon icon-current-players-16x16":void 0,sduiContext:t,analyticsContext:n}):null!=a?a:null},hc=function(){return hc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hc.apply(this,arguments)},gc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},yc=function(e){var t=e.sduiContext,n=e.analyticsContext,r=e.universeId,o=e.placeId,i=e.ratingText,a=e.playerCount,l=e.disableDefaultFooterLogic,s=e.onActivated,u=e.footerComponent,c=gc(e,["sduiContext","analyticsContext","universeId","placeId","ratingText","playerCount","disableDefaultFooterLogic","onActivated","footerComponent"]),d=(0,p.useMemo)((function(){if(s)return s;var e={actionType:Tu.OpenGameDetails,actionParams:{placeId:o,universeId:r}};return Xu(e,n,t)}),[s,o,r,n,t]),f=(0,p.useMemo)((function(){return l?u:m().createElement(vc,{universeId:r,footerComponent:u,ratingText:i,playerCount:a,sduiContext:t,analyticsContext:n})}),[l,u,r,i,a,t,n]);return m().createElement(Pu,hc({},c,{sduiContext:t,analyticsContext:n,onActivated:d,footerComponent:f}))},bc=function(){return bc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bc.apply(this,arguments)},Ic=function(e){var t=e.analyticsContext,n=e.sduiContext,r=e.universeId,o=e.placeId,i=e.width,a=e.playableText,l=e.hidePlayableIcon,s=S.PlayButton.usePlayabilityStatus,u=S.PlayButton.PlayabilityStatuses,c=S.PlayButton.PlayButton,d=s(r.toString())[0],f=(0,p.useCallback)((function(){var e={actionType:Tu.PlayButtonClick,actionParams:{}};Xu(e,t,n).onActivated()}),[t,n]),v=(0,p.useMemo)((function(){var e,i,a=Ou(t,n);return bc(bc({},a),((e={})[L.IsAd]=(null!==(i=a[L.IsAd])&&void 0!==i&&i).toString(),e[L.PlaceId]=Bs(o,-1),e[L.UniverseId]=Bs(r,-1),e[L.PlayContext]=n.pageContext.pageName,e))}),[t,o,r,n]);return void 0===d||d!==u.Playable?m().createElement(m().Fragment,null):m().createElement("div",{className:"sdui-play-button-container","data-testid":"sdui-play-button-container",style:i?{width:i+"px"}:{}},m().createElement(c,{universeId:r.toString(),placeId:o.toString(),eventProperties:v,status:d,disableLoadingState:!0,buttonText:a,hideIcon:l,analyticsCallback:f}))};Ic.defaultProps={width:void 0,playableText:void 0,hidePlayableIcon:void 0};var Sc,Cc,wc,xc=Ic,Pc=function(e){var t=e.layoutOrder,n=e.anchorPoint,r=e.automaticSize,o=e.size,i=e.position,a=e.zIndex,l=e.onTitleActivated,s=e.titleText,u=e.titleColor,c=e.titleFontStyle,d=e.titleGap,f=e.titleIcon,v=e.titleIconWidth,h=e.titleComponent,g=e.onSubtitleActivated,y=e.subtitleText,b=e.subtitleColor,I=e.subtitleFontStyle,S=e.subtitleGap,C=e.subtitleIcon,w=e.subtitleIconWidth,x=e.subtitleComponent,P=e.verticalGap,E=e.infoText,T=e.onInfoIconActivated,k=e.iconComponent,A=e.sduiContext.dependencies.tokens,N=(0,p.useMemo)((function(){return{layoutOrder:t,anchorPoint:n,automaticSize:r,size:o,position:i,zIndex:a}}),[t,n,r,o,i,a]),O=(0,p.useMemo)((function(){return k||(E?m().createElement(po,{callback:null==T?void 0:T.onActivated,linkPath:null==T?void 0:T.linkPath,ariaLabel:E},m().createElement(pn,{tooltipText:E,placement:"left",centerIcon:!0})):void 0)}),[k,E,T]);return m().createElement(Qo,{onTitleActivated:null==l?void 0:l.onActivated,titleLinkPath:null==l?void 0:l.linkPath,titleText:s,titleTextColor:null!=u?u:A.Color.Content.Emphasis,titleFontStyle:null!=c?c:A.Typography.HeadingSmall,titleGap:null!=d?d:A.Gap.XXSmall,titleIconClassName:f,titleIconWidth:null!=v?v:A.Size.Size_600,titleComponent:h,onSubtitleActivated:null==g?void 0:g.onActivated,subtitleLinkPath:null==g?void 0:g.linkPath,subtitleText:y,subtitleTextColor:null!=b?b:A.Color.Content.Default,subtitleFontStyle:null!=I?I:A.Typography.BodyMedium,subtitleGap:null!=S?S:A.Gap.XXSmall,subtitleIconClassName:C,subtitleIconWidth:null!=w?w:A.Size.Size_400,subtitleComponent:x,verticalGap:null!=P?P:A.Gap.XXSmall,iconComponent:O,containerOverrides:N})},Ec=function(e){var t=e.layoutOrder,n=e.anchorPoint,r=e.automaticSize,o=e.size,i=e.position,a=e.zIndex,l=e.topLeftSlot,s=e.topMiddleSlot,u=e.topRightSlot,c=e.centerLeftSlot,d=e.centerMiddleSlot,f=e.centerRightSlot,v=e.bottomLeftSlot,h=e.bottomMiddleSlot,g=e.bottomRightSlot,y=e.padding,b=e.children,I=(0,p.useMemo)((function(){return{layoutOrder:t,anchorPoint:n,automaticSize:r,size:o,position:i,zIndex:a}}),[t,n,r,o,i,a]);return m().createElement(oi,{topLeftSlot:l,topMiddleSlot:s,topRightSlot:u,centerLeftSlot:c,centerMiddleSlot:d,centerRightSlot:f,bottomLeftSlot:v,bottomMiddleSlot:h,bottomRightSlot:g,padding:y,containerOverrides:I},b)},Tc=function(e){var t=e.layoutOrder,n=e.anchorPoint,r=e.automaticSize,o=e.size,i=e.position,a=e.zIndex,l=e.onActivated,s=e.text,u=e.textColor,c=e.fontStyle,d=e.gap,f=e.icon,v=e.iconWidth,h=e.iconColor,g=e.iconFirst,y=e.textOverrides,b=e.iconOverrides,I=e.sduiContext.dependencies.tokens,S=(0,p.useMemo)((function(){return{layoutOrder:t,anchorPoint:n,automaticSize:r,size:o,position:i,zIndex:a}}),[t,n,r,o,i,a]);return m().createElement(Co,{onActivated:null==l?void 0:l.onActivated,linkPath:null==l?void 0:l.linkPath,text:s,textColor:null!=u?u:I.Color.Content.Emphasis,fontStyle:null!=c?c:I.Typography.HeadingSmall,gap:d,iconClassName:f,iconWidth:v,iconColor:h,iconFirst:g,containerOverrides:S,textOverrides:y,iconOverrides:b})},kc=function(e){var t=e.componentConfig,n=e.analyticsContext,r=e.sduiContext,o=e.item,i=e.children,a=(0,p.useRef)([]),l=fu(r,o?[o]:[],void 0),s=l.length>0?l[0]:void 0,u=cu(n,t.componentType,1,1,r),c=u.collectionAnalyticsContext,d=u.collectionAnalyticsDataRef,f=yu(t,l,a,d,r).onItemsImpressed,v=(0,p.useRef)(null);ll(v,1,f);var h=(0,p.useMemo)((function(){var e,n;if(!s)return eu(Us.SingleItemCollectionMissingItem,"SingleItemCollection missing item "+JSON.stringify(s)+" with config "+JSON.stringify(t),r.pageContext),m().createElement(m().Fragment,null);var o=js(null===(e=s.analyticsData)||void 0===e?void 0:e.componentType,"")||s.componentType;if(!o)return eu(Us.SingleItemCollectionItemMissingItemComponentType,"SingleItemCollection missing item component type "+JSON.stringify(s),r.pageContext),m().createElement(m().Fragment,null);var i={itemPosition:1,itemComponentType:o,componentType:o};return a.current[0]=au(null!==(n=s.analyticsData)&&void 0!==n?n:{},{},i,r),m().createElement(rd,{componentConfig:s,parentAnalyticsContext:c,sduiContext:r,localAnalyticsData:i})}),[s,t,c,r]),g=Cu(c,t,r,i);return m().createElement("div",{ref:v},h,g)},Ac=function(){return Ac=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ac.apply(this,arguments)},Nc=function(e,t,n,r,o){var i=zc[e],a=Ac({},t),l=null!=o?o:null==i?void 0:i.propParsers;return l&&Object.keys(t).forEach((function(o){var i,s=t[o],u=l[o];if(void 0!==s&&u)if("function"==typeof u){var c=u(s,n,r);void 0!==c?a[o]=c:eu(Us.PropParseFailure,"Failed to parse prop "+o+" with value "+JSON.stringify(s)+" for component "+e,r.pageContext)}else"object"==typeof u?"object"==typeof(i=s)&&null!==i&&Object.keys(i).every((function(e){return"string"==typeof e}))?a[o]=Nc(e,s,n,r,u):eu(Us.NestedPropParseFailure,"Expected a nested object for prop "+o+" with value "+JSON.stringify(s)+" using for component "+e,r.pageContext):eu(Us.PropParserNotFound,"Prop parser not found for prop "+o+" and component "+e,r.pageContext)})),a},Oc=function(){return Oc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Oc.apply(this,arguments)},_c=function(e,t,n,r,o,i,a){if(!qu(e))return eu(Us.SduiComponentBuildPropsAndChildrenInvalidConfig,"Invalid component config "+JSON.stringify(e)+" to build React props and children",n.pageContext),{props:{},children:null};var l=e.componentType,s=function(e,t,n){var r=e.analyticsData,o=Oc(Oc({},r),null!=n?n:{}),i=t.logAction,a=t.getCollectionData;return{analyticsData:o,ancestorAnalyticsData:Oc(Oc({},t.ancestorAnalyticsData),t.analyticsData),logAction:i,getCollectionData:a}}(e,t,r),u=Oc(Oc(Oc(Oc(Oc({},e.props),{componentConfig:e,sduiContext:n,analyticsContext:s}),o),i),a),c=Nc(l,u,s,n),d=function(e,t,n){return e.children?e.children.map((function(e,r){var o,i=(null!==(o=e.componentType)&&void 0!==o?o:"undefined")+"-"+r;return m().createElement(rd,{key:i,componentConfig:e,parentAnalyticsContext:t,sduiContext:n})})):null}(e,s,n);return{props:c,children:d}},Mc=function(e){var t=m().memo((function(t){return(0,p.useMemo)((function(){var n=_c(t.componentConfig,t.parentAnalyticsContext,t.sduiContext,t.localAnalyticsData,t.extraLocalProps,t.responsivePropOverrides,t.conditionalPropOverrides),r=n.props,o=n.children;return m().createElement(e,r,o)}),[t.componentConfig,t.parentAnalyticsContext,t.sduiContext,t.localAnalyticsData,t.extraLocalProps,t.responsivePropOverrides,t.conditionalPropOverrides])}));return t.displayName="SduiWrapped"+(e.displayName||e.name),t},Rc=function(e){var t=e.size,n=e.variant,r=e.text,o=e.onActivated,i=null!=t?t:"Medium",a=null!=n?n:"Emphasis",l=function(){(null==o?void 0:o.onActivated)&&o.onActivated()};return(null==o?void 0:o.linkPath)?m().createElement(et,{as:"a",altText:r,size:i,variant:a,href:o.linkPath,onClick:l},r):m().createElement(et,{as:"button",altText:r,size:i,variant:a,onClick:l},r)},Dc=(Sc=function(e,t){return Sc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Sc(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Sc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Lc=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1},n}return Dc(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){var n=e.message,r=t.componentStack;(0,this.props.logError)(n,r)},t.prototype.render=function(){var e=this.state.hasError,t=this.props,n=t.fallback,r=t.children;return e?n:r},t}(m().Component),Fc=Lc,Uc=function(e){var t=e.feedItems,n=e.analyticsContext,r=e.sduiContext,o=e.maxWidth,i=e.gapBetweenFeedItems,a=e.paddingLeft,l=e.paddingRight,s=r.dependencies.tokens,u=(0,p.useCallback)((function(e,t){eu(Us.SduiFeedItemBoundaryError,"Error rendering feed item with error message "+e+" and callstack "+t,r.pageContext)}),[r.pageContext]),c=(0,p.useMemo)((function(){return t.map((function(e,t){var o;return{key:null!==(o=e.feedItemKey)&&void 0!==o?o:t.toString(),component:m().createElement(Fc,{fallback:m().createElement(m().Fragment,null),logError:u},m().createElement(rd,{componentConfig:e,parentAnalyticsContext:n,sduiContext:r}))}}))}),[t,n,r,u]);return m().createElement(gi,{feedItems:c,maxWidth:o,gapBetweenFeedItems:null!=i?i:s.Gap.XXLarge,paddingLeft:a,paddingRight:l})},Gc=function(e){var t=e.sduiContext,n=e.title,r=e.titleFontStyle,o=e.subtitle,i=e.subtitleFontStyle,a=e.titleSubtitleGap,l=e.subtitleMaxLines,s=e.height,u=e.rightButtonContent,c=e.image,d=t.dependencies.tokens;return m().createElement(Eo,{title:n,subtitle:o,textColor:d.Color.Content.Emphasis,titleFontStyle:null!=r?r:d.Typography.TitleMedium,subtitleFontStyle:null!=i?i:d.Typography.BodyMedium,titleSubtitleGap:a,subtitleMaxLines:l,rightButtonContent:u,imageComponent:c,height:s})},jc=function(e){var t=e.layoutOrder,n=e.anchorPoint,r=e.automaticSize,o=e.size,i=e.position,a=e.zIndex,l=e.text,s=e.textColor,u=e.fontStyle,c=e.backgroundColor,d=e.backgroundTransparency,f=e.sduiContext.dependencies.tokens,v=(0,p.useMemo)((function(){return{layoutOrder:t,anchorPoint:n,automaticSize:r,size:o,position:i,zIndex:a}}),[t,n,r,o,i,a]);return l?m().createElement(ui,{text:l,textColor:null!=s?s:f.LightMode.Content.Emphasis,fontStyle:null!=u?u:f.Typography.LabelSmall,backgroundColor:null!=c?c:f.Color.Extended.White.White_100,backgroundTransparency:null!=d?d:0,verticalPadding:f.Padding.XSmall,horizontalPadding:f.Padding.Small,containerOverrides:v}):m().createElement(m().Fragment,null)},Bc=function(e){var t=e.text,n=e.textFontStyle,r=e.textColor,o=e.sduiContext.dependencies.tokens;return m().createElement(ai,{text:t,textFontStyle:null!=n?n:o.Typography.BodyMedium,textColor:null!=r?r:o.Color.Content.Default})};!function(e){e.SingleItemCollection="SingleItemCollection",e.HeroUnit="HeroUnit",e.PlayButton="PlayButton",e.TextIconRow="TextIconRow",e.TileFooter="TileFooter",e.GameTileActiveFriendsFooter="GameTileActiveFriendsFooter",e.Tile="Tile",e.GameTile="GameTile",e.SectionHeader="SectionHeader",e.SlotOverlay="SlotOverlay",e.CollectionCarousel="CollectionCarousel",e.CollectionGrid="CollectionGrid",e.ImageWithGradient="ImageWithGradient",e.Button="Button",e.VerticalFeed="VerticalFeed",e.Page="Page",e.DetailsPageHeader="DetailsPageHeader",e.AttributionRow="AttributionRow",e.TextPill="TextPill",e.Text="Text"}(wc||(wc={}));var zc=((Cc={})[wc.SingleItemCollection]={component:Mc(kc),propParsers:{}},Cc[wc.PlayButton]={component:Mc(xc),propParsers:{}},Cc[wc.HeroUnit]={component:Mc(nu),propParsers:{backgroundComponent:dc.parseUiComponent,bottomRowComponent:dc.parseUiComponent,ctaButtonComponent:dc.parseUiComponent,headerComponent:dc.parseUiComponent,onActivated:dc.parseCallback,overlayComponent:dc.parseUiComponent,asset:dc.parseHeroUnitAsset,gradient:dc.parseGradient,foregroundImage:dc.parseAssetUrlIntoComponent,backgroundImage:dc.parseAssetUrlIntoComponent,titleImage:dc.parseAssetUrlIntoComponent}},Cc[wc.TextIconRow]={component:Mc(Tc),propParsers:{anchorPoint:dc.parseVector2,automaticSize:dc.parseAutomaticSize,size:dc.parseUDim2,position:dc.parseUDim2,onActivated:dc.parseCallback,textColor:dc.parseColorValue,fontStyle:dc.parseFoundationTypographyToken,gap:dc.parseFoundationNumberToken,icon:dc.parseIcon,iconWidth:dc.parseFoundationNumberToken,iconColor:dc.parseColorValue}},Cc[wc.TileFooter]={component:Mc(fc),propParsers:{onActivated:dc.parseCallback,textColor:dc.parseColorValue,fontStyle:dc.parseFoundationTypographyToken,textIconGap:dc.parseFoundationNumberToken,sectionGap:dc.parseFoundationNumberToken,leftIcon:dc.parseIcon,leftIconComponent:dc.parseUiComponent,rightIcon:dc.parseIcon,rightIconComponent:dc.parseUiComponent}},Cc[wc.GameTileActiveFriendsFooter]={component:Mc(mc),propParsers:{iconWidth:dc.parseFoundationNumberToken,onActivated:dc.parseCallback}},Cc[wc.Tile]={component:Mc(Pu),propParsers:{image:dc.parseAssetUrlIntoComponent,imageComponent:dc.parseUiComponent,thumbnailOverlayComponent:dc.parseUiComponent,onActivated:dc.parseCallback,titleColor:dc.parseColorValue,titleFont:dc.parseFoundationTypographyToken,titleComponent:dc.parseUiComponent,containmentPadding:dc.parseFoundationNumberToken,cornerRadius:dc.parseFoundationNumberToken,footerComponent:dc.parseUiComponent,ctaButtonComponent:dc.parseUiComponent}},Cc[wc.GameTile]={component:Mc(yc),propParsers:{image:dc.parseAssetUrlIntoComponent,imageComponent:dc.parseUiComponent,thumbnailOverlayComponent:dc.parseUiComponent,onActivated:dc.parseCallback,titleColor:dc.parseColorValue,titleFont:dc.parseFoundationTypographyToken,titleComponent:dc.parseUiComponent,containmentPadding:dc.parseFoundationNumberToken,cornerRadius:dc.parseFoundationNumberToken,footerComponent:dc.parseUiComponent,ctaButtonComponent:dc.parseUiComponent}},Cc[wc.SectionHeader]={component:Mc(Pc),propParsers:{anchorPoint:dc.parseVector2,automaticSize:dc.parseAutomaticSize,size:dc.parseUDim2,position:dc.parseUDim2,onTitleActivated:dc.parseCallback,titleColor:dc.parseColorValue,titleFontStyle:dc.parseFoundationTypographyToken,titleGap:dc.parseFoundationNumberToken,titleIcon:dc.parseIcon,titleIconWidth:dc.parseFoundationNumberToken,titleComponent:dc.parseUiComponent,onSubtitleActivated:dc.parseCallback,subtitleColor:dc.parseColorValue,subtitleFontStyle:dc.parseFoundationTypographyToken,subtitleGap:dc.parseFoundationNumberToken,subtitleIcon:dc.parseIcon,subtitleIconWidth:dc.parseFoundationNumberToken,subtitleComponent:dc.parseUiComponent,verticalGap:dc.parseFoundationNumberToken,onInfoIconActivated:dc.parseCallback,iconComponent:dc.parseUiComponent}},Cc[wc.SlotOverlay]={component:Mc(Ec),propParsers:{anchorPoint:dc.parseVector2,automaticSize:dc.parseAutomaticSize,size:dc.parseUDim2,position:dc.parseUDim2,topLeftSlot:dc.parseUiComponent,topMiddleSlot:dc.parseUiComponent,topRightSlot:dc.parseUiComponent,centerLeftSlot:dc.parseUiComponent,centerMiddleSlot:dc.parseUiComponent,centerRightSlot:dc.parseUiComponent,bottomLeftSlot:dc.parseUiComponent,bottomMiddleSlot:dc.parseUiComponent,bottomRightSlot:dc.parseUiComponent,padding:dc.parseFoundationNumberToken}},Cc[wc.CollectionCarousel]={component:Mc(wu),propParsers:{layoutOverrides:{columnGap:dc.parseFoundationNumberToken,sideMargin:dc.parseFoundationNumberToken},onScrollToEnd:dc.parseCallback,headerComponent:dc.parseUiComponent}},Cc[wc.CollectionGrid]={component:Mc(xu),propParsers:{layoutOverrides:{columnGap:dc.parseFoundationNumberToken,sideMargin:dc.parseFoundationNumberToken},headerComponent:dc.parseUiComponent}},Cc[wc.ImageWithGradient]={component:Mc((function(e){var t=e.image,n=e.imageContainerHeight,r=e.imageAspectRatio,o=e.gradient,i=e.borderRadius,a=zo({imageContainerHeight:n,borderRadius:void 0===i?0:i,imageAspectRatio:r}).classes;return p.createElement("div",{className:a.imageWithGradientWindow,"data-testid":"image-with-gradient-window"},p.createElement("div",{className:a.imageContainer,"data-testid":"image-container"},t),o&&p.createElement(Bo,{gradient:o}))})),propParsers:{image:dc.parseAssetUrlIntoComponent,gradient:dc.parseGradient}},Cc[wc.Button]={component:Mc(Rc),propParsers:{onActivated:dc.parseCallback,size:dc.parseFoundationButtonSize,variant:dc.parseFoundationButtonVariant}},Cc[wc.Page]={component:Mc((function(e){var t=e.backgroundColor,n=e.pageHeader,r=e.feed,o=bi({backgroundColor:t}).classes;return p.createElement("div",{className:o.pageContainer},n,r)})),propParsers:{backgroundColor:dc.parseColorValue,pageHeader:dc.parseUiComponent,feed:dc.parseUiComponent}},Cc[wc.DetailsPageHeader]={component:Mc((function(e){var t=e.backgroundComponent,n=e.backgroundMaxWidth,r=e.contentComponent,o=e.contentMaxWidth,i=e.contentPaddingLeft,a=e.contentPaddingRight,l=yi({backgroundMaxWidth:n,contentMaxWidth:o,contentPaddingLeft:i,contentPaddingRight:a}).classes;return p.createElement("div",{className:l.detailsPageHeaderContainer},p.createElement("div",{className:l.backgroundContainer},t),p.createElement("div",{className:l.contentContainer},p.createElement("div",{className:l.contentMaxWidthContainer},r)))})),propParsers:{backgroundComponent:dc.parseUiComponent,backgroundMaxWidth:dc.parseFoundationNumberToken,contentComponent:dc.parseUiComponent,contentMaxWidth:dc.parseFoundationNumberToken,paddingLeft:dc.parseFoundationNumberToken,paddingRight:dc.parseFoundationNumberToken}},Cc[wc.VerticalFeed]={component:Mc(Uc),propParsers:{gapBetweenFeedItems:dc.parseFoundationNumberToken,maxWidth:dc.parseFoundationNumberToken,paddingLeft:dc.parseFoundationNumberToken,paddingRight:dc.parseFoundationNumberToken}},Cc[wc.AttributionRow]={component:Mc(Gc),propParsers:{rightButtonContent:dc.parseUiComponent,image:dc.parseAssetUrlIntoComponent,titleFontStyle:dc.parseFoundationTypographyToken,subtitleFontStyle:dc.parseFoundationTypographyToken,titleSubtitleGap:dc.parseFoundationNumberToken,height:dc.parseFoundationNumberToken}},Cc[wc.TextPill]={component:Mc(jc),propParsers:{anchorPoint:dc.parseVector2,automaticSize:dc.parseAutomaticSize,size:dc.parseUDim2,position:dc.parseUDim2,textColor:dc.parseColorValue,fontStyle:dc.parseFoundationTypographyToken,backgroundColor:dc.parseColorValue}},Cc[wc.Text]={component:Mc(Bc),propParsers:{textFontStyle:dc.parseFoundationTypographyToken,textColor:dc.parseColorValue}},Cc),Hc=function(e){return zc[e]?zc[e].component:null},Wc={low:1,Low:1,medium:2,Medium:2,high:3,High:3},Vc=Wc.High,Jc=function(e,t,n,r){switch(e){case Lu.imageQualityLevel:if(!Hs(t))return eu(Us.InvalidImageQualityLevelConditionValue,"Invalid image quality level value: "+(t?JSON.stringify(t):"undefined"),r.pageContext),!1;var o=Wc[js(t,"")];return void 0===o?(eu(Us.UnknownImageQualityLevelConditionValue,"Unknown image quality level: "+t.toString(),r.pageContext),!1):Vc===o;case Lu.maxScreenWidth:if(!Hs(t))return eu(Us.InvalidMaxWidthConditionValue,"Invalid max width condition value: "+(t?JSON.stringify(t):"undefined"),r.pageContext),!1;var i=Bs(t,-1);return i<0?(eu(Us.InvalidParsedMaxWidthConditionValue,"Cannot parse max width value: "+t.toString(),r.pageContext),!1):i>=n;case Lu.minScreenWidth:if(!Hs(t))return eu(Us.InvalidMinWidthConditionValue,"Invalid min width condition value: "+(t?JSON.stringify(t):"undefined"),r.pageContext),!1;var a=Bs(t,-1);return a<0?(eu(Us.InvalidParsedMinWidthConditionValue,"Cannot parse min width value: "+t.toString(),r.pageContext),!1):a<=n;default:return eu(Us.UnknownResponsivePropConditionKey,"Unknown responsive prop condition key: "+JSON.stringify(e),r.pageContext),!1}},qc=function(e,t,n){if(!e)return{};var r=e.find((function(e){var r=e.conditions;return!r||Object.entries(r).every((function(e){var r=e[0],o=e[1];return Jc(r,o,t,n)}))}));return r?r.overrides:{}},Xc=function(e){var t=e.wrappedComponent,n=e.componentConfig,r=e.parentAnalyticsContext,o=e.sduiContext,i=e.localAnalyticsData,a=e.extraLocalProps,l=(0,p.useState)(window.innerWidth),s=l[0],u=l[1];(0,p.useEffect)((function(){var e=function(){u(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var c=(0,p.useMemo)((function(){return qc(n.responsiveProps,s,o)}),[n.responsiveProps,s,o]);return m().createElement(t,{componentConfig:n,parentAnalyticsContext:r,sduiContext:o,localAnalyticsData:i,extraLocalProps:a,responsivePropOverrides:c})},Kc=Object.keys(Fu),$c=function(e){return Kc.includes(e)},Zc=function(e){var t=e.conditionalProps,n=e.setFailedPresenceConditionIndexes,r=e.sduiContext;return(0,p.useEffect)((function(){var e=new Set;null==t||t.forEach((function(t,n){var o=t.conditions;o&&Object.entries(o).forEach((function(t){var o=t[0],i=t[1];if($c(o)){var a=function(e,t,n,r){var o;if(e===Fu.friendInGame){if(!Hs(t))return eu(Us.InvalidPresenceConditionValue,"Invalid presence condition value: "+JSON.stringify(t)+", for key: "+e,r.pageContext),!1;var i=js(t,"");return i?(null===(o=n.inGameFriendsByUniverseId[i])||void 0===o?void 0:o.length)>0:(eu(Us.InvalidPresenceConditionValue,"Invalid friend in game condition value: "+JSON.stringify(t)+", for key: "+e,r.pageContext),!1)}return eu(Us.UnknownPresenceConditionKey,"Unknown presence condition key: "+JSON.stringify(e),r.pageContext),!1}(o,i,r.dataStore.social,r);a||e.add(n)}}))})),n((function(t){return(0,Va.isEqual)(t,e)?t:e}))}),[t,r,n]),null},Yc=Object.keys(Lu),Qc=function(e){return Yc.includes(e)},ed=function(e){var t=e.conditionalProps,n=e.setFailedResponsiveConditionIndexes,r=e.sduiContext,o=(0,p.useState)(window.innerWidth),i=o[0],a=o[1];return(0,p.useEffect)((function(){var e=function(){a(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,p.useEffect)((function(){var e=new Set;null==t||t.forEach((function(t,n){var o=t.conditions;o&&Object.entries(o).forEach((function(t){var o=t[0],a=t[1];Qc(o)&&(Jc(o,a,i,r)||e.add(n))}))})),n((function(t){return(0,Va.isEqual)(t,e)?t:e}))}),[t,n,i,r]),null},td=function(){return td=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},td.apply(this,arguments)},nd=function(e){var t=e.wrappedComponent,n=e.componentConfig,r=e.parentAnalyticsContext,o=e.sduiContext,i=e.localAnalyticsData,a=e.extraLocalProps,l=n.conditionalProps,s=(0,p.useState)(new Set),u=s[0],c=s[1],d=(0,p.useState)(new Set),f=d[0],v=d[1],h=(0,p.useMemo)((function(){var e={hasPresenceCondition:!1,hasResponsiveCondition:!1};if(!l)return e;var t=Object.keys(Fu),n=Object.keys(Lu);return l.forEach((function(r){var o=r.conditions;o&&Object.keys(o).forEach((function(r){t.includes(r)?e.hasPresenceCondition=!0:n.includes(r)&&(e.hasResponsiveCondition=!0)}))})),e}),[l]),g=(0,p.useMemo)((function(){return m().createElement(m().Fragment,null,h.hasPresenceCondition&&m().createElement(Zc,{conditionalProps:l,setFailedPresenceConditionIndexes:v,sduiContext:o}),h.hasResponsiveCondition&&m().createElement(ed,{conditionalProps:l,setFailedResponsiveConditionIndexes:c,sduiContext:o}))}),[h,l,o]),y=(0,p.useCallback)((function(e,t){return!f.has(t)&&!u.has(t)&&(!e||Object.keys(e).every((function(e){return!(!$c(e)&&!Qc(e))||(eu(Us.UnsupportedConditionalPropsCondition,"Unsupported condition: "+e,o.pageContext),!1)})))}),[f,u,o.pageContext]),b=(0,p.useMemo)((function(){return l?l.reduce((function(e,t,n){var r=t.conditions,o=t.propOverrides;return o&&y(r,n)?td(td({},e),o):e}),{}):{}}),[l,y]),I=(0,p.useMemo)((function(){return m().createElement(t,{componentConfig:n,parentAnalyticsContext:r,sduiContext:o,localAnalyticsData:i,extraLocalProps:a,conditionalPropOverrides:b})}),[t,n,r,o,i,a,b]);return m().createElement(m().Fragment,null,I,g)},rd=function(e){var t=e.componentConfig,n=e.parentAnalyticsContext,r=e.sduiContext,o=e.localAnalyticsData,i=e.extraLocalProps,a=(0,p.useMemo)((function(){return t.templateKey?r.templateRegistry.resolveTemplateForConfig(t):t}),[t,r]);return(0,p.useMemo)((function(){if(!qu(a))return eu(Us.SduiComponentBuildPropsAndChildrenInvalidConfig,"Invalid component config "+JSON.stringify(a)+" to build React props and children",r.pageContext),m().createElement(m().Fragment,null);var e=a.componentType,t=Hc(e);return t?a.conditionalProps?m().createElement(nd,{wrappedComponent:t,componentConfig:a,parentAnalyticsContext:n,sduiContext:r,localAnalyticsData:o,extraLocalProps:i}):a.responsiveProps?m().createElement(Xc,{wrappedComponent:t,componentConfig:a,parentAnalyticsContext:n,sduiContext:r,localAnalyticsData:o,extraLocalProps:i}):m().createElement(t,{componentConfig:a,parentAnalyticsContext:n,sduiContext:r,localAnalyticsData:o,extraLocalProps:i}):(eu(Us.ComponentNotFound,"Component not found for type "+e+" using config "+JSON.stringify(a),r.pageContext),m().createElement(m().Fragment,null))}),[a,n,r,o,i])},od=function(){return od=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},od.apply(this,arguments)},id=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},ad=function(e,t){var n=(0,p.useMemo)((function(){var t=new Map;return e&&Object.entries(e).forEach((function(e){var n=e[0],r=e[1];t.set(n,r)})),t}),[e]),r=(0,p.useCallback)((function(e,o){var i,a=e.templateKey;if(!a)return e;var l=(0,Va.cloneDeep)(e);if(o&&o[a])return eu(Us.TemplateResolutionCircularReference,"Circular reference detected for template key: "+a,t),l.templateKey=void 0,l;var s=o||{};s[a]=!0;var u=n.get(a);if(!u)return eu(Us.TemplateResolutionTemplateNotFound,"Template not found for template key: "+a+" with config: "+JSON.stringify(e),t),l.templateKey=void 0,l;var c,d,f=r(u,s);if(l.templateKey=void 0,e.componentType){if(e.componentType&&f.componentType&&e.componentType!==f.componentType)return eu(Us.TemplateResolutionComponentTypeMismatch,"Component type mismatch for template key: "+a+". Template type: "+f.componentType+", Config type: "+e.componentType,t),l}else l.componentType=f.componentType;return f.analyticsData&&(l.analyticsData=od(od({},f.analyticsData),e.analyticsData)),f.props&&(l.props=null!==(c=f.props,d=e.props,i=c?(0,Va.merge)((0,Va.cloneDeep)(c),d):(0,Va.cloneDeep)(d))&&void 0!==i?i:{}),f.children&&(l.children=id(id([],f.children),e.children||[])),l}),[n,t]);return(0,p.useMemo)((function(){return{resolveTemplateForConfig:r}}),[r])},ld=function(e){var t={};return Object.values(e).forEach((function(e){var n,r;void 0!==(null===(n=e.presence)||void 0===n?void 0:n.universeId)&&(null===(r=e.presence)||void 0===r?void 0:r.userPresenceType)===S.Presence.PresenceTypes.InGame&&(t[e.presence.universeId]||(t[e.presence.universeId]=[]),t[e.presence.universeId].push({userId:e.id,displayName:e.displayName,presence:{gameId:e.presence.gameId,placeId:e.presence.placeId,rootPlaceId:e.presence.rootPlaceId}}))})),t},sd=function(){return sd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sd.apply(this,arguments)},ud=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},cd=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},dd=function(e){var t=(0,p.useState)({}),n=t[0],r=t[1],o=(0,p.useRef)({}),i=(0,p.useCallback)((function(t){if(function(e){return"Roblox.Presence.Update"===e.type&&"detail"in e}(t)&&t.detail&&o.current){var n=(0,Va.cloneDeep)(o.current);t.detail.forEach((function(e){n[e.userId]&&(n[e.userId]=sd(sd({},n[e.userId]),{presence:e}))})),o.current=n;var i=ld(n);r((function(e){return(0,Va.isEqual)(i,e)?e:i}))}else eu(Us.InvalidPresenceUpdateEvent,"Invalid presence update event, event is "+JSON.stringify(t)+" and friends details are "+JSON.stringify(o.current),e)}),[o,e]);return(0,p.useEffect)((function(){var t=bt.deviceMeta.getDeviceMeta();if((null==t?void 0:t.deviceType)===bt.deviceMeta.DeviceTypes.computer&&(null===S.CurrentUser||void 0===S.CurrentUser?void 0:S.CurrentUser.isAuthenticated)){return ud(void 0,void 0,Promise,(function(){var t,n,a,l,s,u,c,d;return cd(this,(function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,kt()];case 1:return t=f.sent(),n=t.userData||[],(a=n.map((function(e){return e.id})))?[4,_e(a)]:[2];case 2:return l=f.sent(),s=l.profileDetails||[],u=n.reduce((function(e,t){var n=s.find((function(e){return e.userId===t.id}));return n&&n.names&&(e[t.id]=sd(sd({},t),{displayName:n.names.combinedName,name:n.names.username})),e}),{}),o.current=u,c=ld(u),r(c),document.addEventListener("Roblox.Presence.Update",i),[3,4];case 3:return d=f.sent(),eu(Us.FriendsPresenceFetchFailure,"Failed to get friends details info, error is "+JSON.stringify(d),e),[3,4];case 4:return[2]}}))})).catch((function(){})),function(){document.removeEventListener("Roblox.Presence.Update",i)}}}),[i,e]),(0,p.useMemo)((function(){return{inGameFriendsByUniverseId:n}}),[n])},fd=function(e){var t=dd(e);return(0,p.useMemo)((function(){return{social:t}}),[t])},pd=function(e,t){var n=(0,g.useTokens)(),r=(0,p.useMemo)((function(){return{pageName:t}}),[t]),o=ad(e,r),i=fd(r),a=(0,p.useMemo)((function(){return{tokens:n}}),[n]);return(0,p.useMemo)((function(){return{dependencies:a,templateRegistry:o,dataStore:i,pageContext:r}}),[a,o,i,r])},md=function(){return md=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},md.apply(this,arguments)},vd=function(e){var t=e.sort,n=e.sduiRoot,r=e.currentPage,o=mr(),i=pd(null==n?void 0:n.templates,r),a=(0,p.useMemo)((function(){var e=Ju(n,t.feedItemKey,i);if(!e)return m().createElement(m().Fragment,null);var r=md({},Js(o,i));return m().createElement("div",{className:"sdui-feed-item-container"},m().createElement(rd,{componentConfig:e,parentAnalyticsContext:{},localAnalyticsData:r,sduiContext:i}))}),[t,n,o,i]),l=(0,p.useCallback)((function(e,r){eu(Us.SduiFeedItemBoundaryError,"Error rendering feed item for sort "+JSON.stringify(t)+" and sdui root "+JSON.stringify(n)+" with error message "+e+" and callstack "+r,i.pageContext)}),[t,n,i.pageContext]);return m().createElement(Fc,{fallback:m().createElement(m().Fragment,null),logError:l},a)},hd=function(e){var t,n=e.sort,r=e.positionId,o=e.currentPage,i=(0,g.useTokens)(),a=pd(void 0,o),l=mr(),s=(0,p.useMemo)((function(){return Js(l,a)}),[l,a]),u=(0,p.useMemo)((function(){return n.songs.map((function(e){return{componentType:wc.Tile,analyticsData:{id:e.assetId},props:{imageAspectRatio:1,titleText:e.title,image:"rbxthumb://type=Asset&id="+e.albumArtAssetId+"&w=150&h=150",footerComponent:{componentType:wc.TileFooter,props:{leftText:e.artist}}}}}))}),[n.songs]),c=(0,p.useMemo)((function(){var e;return{componentType:wc.CollectionCarousel,props:{items:u,layoutOverrides:{sideMargin:i.Gap.XLarge},scrollingEnabledOverride:!0,collectionItemSize:"Small",headerComponent:{componentType:wc.SectionHeader,props:{titleText:n.topic,titleGap:i.Gap.XSmall,subtitleText:n.subtitle,titleIcon:"icons/navigation/pushRight_small",infoText:null===(e=n.topicLayoutData)||void 0===e?void 0:e.infoText,onTitleActivated:{actionType:Tu.OpenSeeAll,actionParams:{collectionId:n.topicId,collectionName:n.sortId,collectionPosition:r+1}}}}}}}),[u,r,n.sortId,n.subtitle,n.topic,n.topicId,null===(t=n.topicLayoutData)||void 0===t?void 0:t.infoText,i.Gap.XLarge,i.Gap.XSmall]);return 0===u.length?null:m().createElement(rd,{componentConfig:c,parentAnalyticsContext:{},localAnalyticsData:s,sduiContext:a})},gd=function(e){return e===O.HomePage||e===O.GamesPage||e===O.SpotlightPage},yd=function(e){var n=e.translate,r=e.sort,o=e.positionId,i=e.currentPage,a=e.itemsPerRow,l=e.startingRow,s=e.gridRecommendations,u=e.friendsPresenceData,c=e.loadMoreGames,d=e.isLoadingMoreGames,f=e.isExpandHomeContentEnabled,p=e.isMusicChartsCarouselEnabled,v=e.isCarouselHorizontalScrollEnabled,h=e.isNewScrollArrowsEnabled,g=e.isNewSortHeaderEnabled,y=e.sduiRoot,b=e.fetchGamesPageData;switch(r.treatmentType){case t.Carousel:return m().createElement(ha,{translate:n,sort:r,positionId:o,page:i,itemsPerRow:a,startingRow:l,friendsPresenceData:u,loadMoreGames:c,isLoadingMoreGames:d,isExpandHomeContentEnabled:f,isCarouselHorizontalScrollEnabled:v,isNewSortHeaderEnabled:g,isNewScrollArrowsEnabled:h});case t.AvatarCarousel:return m().createElement(ya,{sort:r});case t.SortlessGrid:return m().createElement(Wa,{translate:n,sort:r,positionId:o,itemsPerRow:a,startingRow:l,recommendations:null!=s?s:[],friendsPresenceData:u,isExpandHomeContentEnabled:f,isNewSortHeaderEnabled:g});case t.FriendCarousel:return m().createElement(Ns,{sortId:r.topicId,sortPosition:o});case t.SongCarousel:return p?gd(i)?m().createElement(hd,{sort:r,positionId:o,currentPage:i}):(Qs(Us.UnsupportedSduiPage,i+" is not supported for SongCarouselFeedItem",{pageName:i}),m().createElement(m().Fragment,null)):m().createElement(m().Fragment,null);case t.Pills:return m().createElement(Gs,{sort:r,positionId:o,translate:n,fetchGamesPageData:b});case t.Sdui:return gd(i)?m().createElement(vd,{sort:r,sduiRoot:y,currentPage:i}):(Qs(Us.UnsupportedSduiPage,i+" is not supported for SduiFeedItem",{pageName:i}),m().createElement(m().Fragment,null));default:return null}};yd.defaultProps={loadMoreGames:void 0,isLoadingMoreGames:void 0,gridRecommendations:[],isExpandHomeContentEnabled:void 0,isMusicChartsCarouselEnabled:void 0,isCarouselHorizontalScrollEnabled:void 0,fetchGamesPageData:void 0,isNewScrollArrowsEnabled:void 0,isNewSortHeaderEnabled:void 0};var bd=yd,Id=function(e){var t=mr();(0,p.useEffect)((function(){var n=window.scrollY,r=ht((function(){var r,o;if(window.scrollY!==n){var i=null===(r=document.getElementById("header"))||void 0===r?void 0:r.getBoundingClientRect(),a=null!==(o=null==i?void 0:i.bottom)&&void 0!==o?o:0;Ai({distance:window.scrollY-n,scrollAreaSize:window.innerHeight-a,direction:j.Vertical,startingPosition:n,currentPage:e,pageSession:t}),n=window.scrollY}}),250),o=r[0],i=r[1];return window.addEventListener("scroll",o),function(){window.removeEventListener("scroll",o),i()}}),[e,t])},Sd=Id,Cd=function(){var e,t;if((null===(e=null===window||void 0===window?void 0:window.screen)||void 0===e?void 0:e.width)&&(null===(t=null===window||void 0===window?void 0:window.screen)||void 0===t?void 0:t.height))return window.screen.width+"x"+window.screen.height},wd=function(){if(function(e){return"deviceMemory"in e}(navigator)&&"number"==typeof navigator.deviceMemory)return 1024*navigator.deviceMemory},xd=function(){var e;if(function(e){return"connection"in e}(navigator)&&(null===(e=navigator.connection)||void 0===e?void 0:e.effectiveType))return navigator.connection.effectiveType},Pd=function(){try{return{cpuCores:null===navigator||void 0===navigator?void 0:navigator.hardwareConcurrency,maxResolution:Cd(),maxMemory:wd(),networkType:xd()}}catch(e){return{}}},Ed=function(){var e=(0,h.useHistory)(),t=(0,h.useLocation)(),n=(0,p.useRef)(new URLSearchParams(t.search)),r=(0,p.useCallback)((function(){var e=new Map;return n.current.forEach((function(t,n){e.set(n,t)})),e}),[]),o=(0,p.useState)(r),i=o[0],a=o[1];return(0,p.useEffect)((function(){var t=new URLSearchParams;i.forEach((function(e,n){t.append(n,e)})),e.replace({search:t.toString()})}),[i,e]),{filters:i,setFilters:a,getInitialUrlParamFilters:r}},Td=function(){var e=(0,p.useState)(!1),t=e[0],n=e[1];return(0,p.useEffect)((function(){var e=x;Ee(P.discoverPage,e.discoverPage).then((function(e){n(!!(null==e?void 0:e.IsMusicChartsCarouselEnabled))})).catch((function(){n(e.discoverPage.IsMusicChartsCarouselEnabled)}))}),[]),{isMusicChartsCarouselEnabled:t}},kd=function(){return kd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kd.apply(this,arguments)},Ad=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},Nd=ct.carouselContainerBufferWidth,Od=pr((function(e){var t=e.translate,n=(0,p.useState)(!1),r=n[0],o=n[1],a=(0,p.useState)(void 0),l=a[0],s=a[1],u=(0,p.useRef)(void 0),c=(0,p.useState)(!1),d=c[0],f=c[1],v=(0,p.useState)(new Map),h=v[0],g=v[1],y=Td().isMusicChartsCarouselEnabled,b=mr(),S=xa(),C=(0,p.useState)(new Map),w=C[0],x=C[1],P=Ed(),E=P.filters,T=P.setFilters,k=P.getInitialUrlParamFilters,A=(0,p.useMemo)((function(){return Pd()}),[]),N=(0,p.useCallback)((function(e,t){o(!1),f(!0),t||s(void 0),u.current=t,Ae(b,t,e,A).then((function(e){return zi(e)})).then((function(e){if(t)s((function(t){var n,r=Ad(Ad([],null!==(n=null==t?void 0:t.sorts)&&void 0!==n?n:[]),e.sorts),o=Vi(r);return o&&T(o),{sorts:r,nextSortsPageToken:e.nextSortsPageToken}}));else{s(e);var n=Vi(e.sorts);n&&T(n)}})).catch((function(){o(!0)})).finally((function(){f(!1)}))}),[b,A,T]),_=(0,p.useCallback)((function(){(null==l?void 0:l.nextSortsPageToken)&&l.nextSortsPageToken!==u.current&&!d&&N(E,null==l?void 0:l.nextSortsPageToken)}),[N,d,null==l?void 0:l.nextSortsPageToken,E]);(0,p.useEffect)((function(){N(k())}),[N,k]);var M=function(e,t){g((function(n){var r=new Map(n);return r.set(e,t),r}))},R=(0,p.useCallback)((function(e){var t,n=null===(t=null==l?void 0:l.sorts)||void 0===t?void 0:t.findIndex((function(t){return t.sortId===e}));if(void 0!==n&&(null==l?void 0:l.sorts[n])){var r=null==l?void 0:l.sorts[n];r.nextPageToken&&!h.get(e)&&(M(e,!0),Ne(b,e,r.nextPageToken,E,A).then((function(e){return ji(e)})).then((function(e){return function(e,t){s((function(n){if(n){var r=n.sorts,o=r[e];return o&&Li(o)&&(r[e]=kd(kd({},o),{games:Ad(Ad([],o.games),t.games),nextPageToken:t.nextPageToken})),kd(kd({},n),{sorts:r})}return n}))}(n,e)})).catch((function(){})).finally((function(){M(e,!1)})))}}),[l,h,b,A,E]);Id(O.GamesPage);var D=(0,p.useRef)(null),L=(0,p.useCallback)((function(e){var t=new Map;null==l||l.sorts.forEach((function(n,r){var o,a;!Li(n)||(null===(o=n.topicLayoutData)||void 0===o?void 0:o.componentType)!==i.GridTile&&(null===(a=n.topicLayoutData)||void 0===a?void 0:a.componentType)!==i.EventTile||t.set(r,function(e,t){var n,r=null===(n=e.topicLayoutData)||void 0===n?void 0:n.componentType;return Wn(t,Nd,r)}(n,e))})),x(t)}),[null==l?void 0:l.sorts]);return(0,p.useLayoutEffect)((function(){var e=function(){var e,t,n=null===(t=null===(e=null==D?void 0:D.current)||void 0===e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.width;n&&(document.documentElement.style.setProperty("--games-feed-width",n+"px"),L(n))};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[L]),m().createElement("div",{ref:D,className:"games-page-container"},m().createElement("div",{className:"section"},m().createElement("div",{className:"games-list-header"},m().createElement("h1",null,t(De.LabelCharts))),r&&!l&&m().createElement(pt,{errorSubtext:t(Re.LabelApiError),onRefresh:function(){return N(k())}}),null==l?void 0:l.sorts.map((function(e,n){return m().createElement(bd,{key:n,translate:t,sort:e,positionId:n,currentPage:O.GamesPage,itemsPerRow:w.get(n),startingRow:void 0,gridRecommendations:[],friendsPresenceData:S,loadMoreGames:function(){return R(e.sortId)},isLoadingMoreGames:!0===h.get(e.sortId),isMusicChartsCarouselEnabled:y,fetchGamesPageData:N})})),!r&&m().createElement(Ia,{loadData:_}),d&&m().createElement(I.Loading,null)))})),_d=function(){return _d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_d.apply(this,arguments)},Md="eventTracker",Rd=function(e){e instanceof SyntaxError&&window.sessionStorage.removeItem(Md)},Dd=function(e){try{var t=JSON.parse(window.sessionStorage.getItem(Md)||"{}"),n=_d(_d({},t),e);return window.sessionStorage.setItem(Md,JSON.stringify(n)),!0}catch(e){return Rd(e),!1}},Ld=function(){return Ld=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ld.apply(this,arguments)},Fd=Se.parseQueryString,Ud=Se.composeQueryString,Gd=function(e,t,n,r,o,i){void 0===r&&(r={}),void 0===o&&(o=window.location),void 0===i&&(i=window.history);var a=(0,p.useState)(Fd(o.search)),l=a[0],s=a[1],u=(0,p.useMemo)((function(){return Au(o)}),[o]);return(0,p.useEffect)((function(){var a,l,u;a=Fd(o.search),l=t.reduce((function(e,t){return void 0===a[t]&&null===a[t]||(e[t]=a[t]),e}),{}),!(u=n.reduce((function(e,t){return void 0===a[t]&&null===a[t]||(e[t]=a[t]),e}),{})).launchData&&u.placeId&&delete u.placeId,s(l),Dd(l),void 0!==i.replace&&i.replace(""+o.pathname+Ud(u)),void 0!==i.replaceState&&i.replaceState(void 0,"",""+o.pathname+o.hash+Ud(u)),A.eventStreamService.sendEvent.apply(A.eventStreamService,e(Ld(Ld({},l),r)))}),[]),{referralParams:l,appsFlyerReferralParams:u}},jd=function(){return jd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jd.apply(this,arguments)},Bd=function(e){var t=e.sort,n=e.isFetching,r=e.loadMoreData,o=e.translate,i=(0,p.useRef)(null),a=(0,p.useRef)(null),l=mr();Sd(O.SortDetailPageDiscover);var s=(0,p.useCallback)((function(e){var n,r,o,i=e.filter((function(e){return e<t.games.length}));return jd(jd(jd(jd(jd(((n={})[L.RootPlaceIds]=i.map((function(e){return t.games[e].placeId})),n[L.UniverseIds]=i.map((function(e){return t.games[e].universeId})),n[L.AbsPositions]=i,n),de(t.games,i)),((r={})[L.EmphasisFlag]=!1,r[L.GameSetTypeId]=t.topicId,r)),Wi(t)),Ji(t)),((o={})[L.Page]=O.SortDetailPageDiscover,o[U.DiscoverPageSessionInfo]=l,o))}),[t,l]);return ur(i,t.games.length,s),m().createElement("div",{className:"game-sort-detail-container"},m().createElement("h1",null,t.topic,t.topicId===nt.adSortDiscoverId&&m().createElement(pn,{tooltipText:o(Re.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.",placement:"right",sizeInPx:22})),m().createElement(Ua,{ref:i,emphasis:!1,tileRef:a,gameData:t.games,translate:o,buildEventProperties:function(e,n){var r,o;return jd(jd(jd(((r={})[L.PlaceId]=e.placeId,r[L.UniverseId]=e.universeId,r[L.IsAd]=e.isSponsored,r[L.NativeAdData]=e.nativeAdData,r[L.Position]=n,r[L.NumberOfLoadedTiles]=t.games.length,r[L.GameSetTypeId]=t.topicId,r),Wi(t)),Ji(t)),((o={})[L.Page]=O.SortDetailPageDiscover,o[U.DiscoverPageSessionInfo]=l,o))},shouldUseSentinelTile:!0,loadData:r}),n&&m().createElement(I.Loading,null))},zd=function(e){var t=e.sort,n=e.isFetching,r=e.currentPage,o=e.loadMoreData,i=(0,g.useTokens)(),a=pd(void 0,r),l=mr(),s=(0,p.useMemo)((function(){return Js(l,a)}),[l,a]);Sd(O.SortDetailPageDiscover);var u=(0,p.useMemo)((function(){return t.songs.map((function(e){return{componentType:wc.Tile,analyticsData:{id:e.assetId},props:{imageAspectRatio:1,titleText:e.title,image:"rbxthumb://type=Asset&id="+e.albumArtAssetId+"&w=150&h=150",footerComponent:{componentType:wc.TileFooter,props:{leftText:e.artist}}}}}))}),[t.songs]),c=(0,p.useMemo)((function(){return{componentType:wc.CollectionGrid,props:{items:u,layoutOverrides:{sideMargin:i.Gap.XLarge},scrollingEnabledOverride:!0,collectionItemSize:vo.Small,headerComponent:{componentType:wc.SectionHeader,props:{titleText:t.topic,titleGap:i.Gap.XSmall,subtitleText:t.subtitle}}}}}),[u,t.subtitle,t.topic,i.Gap.XLarge,i.Gap.XSmall]);return m().createElement("div",null,m().createElement(rd,{componentConfig:c,sduiContext:a,parentAnalyticsContext:{},localAnalyticsData:s}),m().createElement(Ia,{loadData:o}),n&&m().createElement(I.Loading,null))},Hd=pr((0,g.withTranslations)((function(e){var t=e.match,n=e.translate,r=(0,h.useLocation)(),o=(0,h.useHistory)(),i=decodeURIComponent(t.params.sortName),a=(0,p.useState)(void 0),l=a[0],s=a[1],u=(0,p.useState)(!1),c=u[0],d=u[1],f=(0,p.useState)(!1),v=f[0],g=f[1],y=mr(),b=Ed(),S=b.filters,C=b.getInitialUrlParamFilters,w=(0,p.useMemo)((function(){return Pd()}),[]),x=Td().isMusicChartsCarouselEnabled,P=(0,p.useCallback)((function(e,t){g(!1),d(!0),Ne(y,i,t,e,w).then((function(e){return Bi(e)})).then((function(e){s((function(n){return n&&t?function(e,t){if(Li(t)){if(Li(e))return _i(_i({},t),{games:Mi(Mi([],t.games),e.games),nextPageToken:e.nextPageToken});(0,Oi.fireEvent)(lt)}if(Fi(t)){if(Fi(e))return _i(_i({},t),{songs:Mi(Mi([],t.songs),e.songs),nextPageToken:e.nextPageToken});(0,Oi.fireEvent)(st)}return _i(_i({},t),{nextPageToken:e.nextPageToken})}(e,n):e}))})).catch((function(){g(!0)})).finally((function(){d(!1)}))}),[i,y,w]),E=(0,p.useCallback)((function(){(null==l?void 0:l.nextPageToken)&&!c&&P(S,null==l?void 0:l.nextPageToken)}),[P,c,null==l?void 0:l.nextPageToken,S]);(0,p.useEffect)((function(){P(C())}),[P,C]),Gd(te.sortDetailReferral,[L.Position,L.GameSetTargetId,L.GameSetTypeId,L.Page,L.TreatmentType,U.DiscoverPageSessionInfo],["device","country"],{},r,o);var T=m().createElement("div",{className:"game-sort-detail-container"},m().createElement("div",{className:"game-sort-detail"},m().createElement(pt,{errorSubtext:n(Re.LabelContentLoadFailed),onRefresh:function(){return P(S)}})));return v?T:l?x&&Fi(l)?m().createElement(zd,{currentPage:O.SortDetailPageDiscover,sort:l,isFetching:c,loadMoreData:E}):Li(l)?m().createElement(Bd,{sort:l,isFetching:c,loadMoreData:E,translate:n}):T:m().createElement(I.Loading,null)}),b)),Wd=function(){return Wd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wd.apply(this,arguments)},Vd=rt.numberOfGameTilesPerLoad,Jd=function(e){var t,n,r,o,i,a,l,s,u=e.sort,c=e.translate,d=e.contentMetadata,f=e.appendContentMetadata,v=e.homePageSessionInfo,h=(0,p.useRef)(null),g=(0,p.useRef)(null),y=(0,p.useState)(!1),b=y[0],S=y[1],C=(0,p.useState)(void 0),w=C[0],x=C[1],P=(0,p.useMemo)((function(){return u.recommendationList.filter((function(e){var t,n=e.contentType,r=e.contentId;return!(null===(t=null==d?void 0:d[n])||void 0===t?void 0:t[r])}))}),[u.recommendationList,d]),E=(0,p.useCallback)((function(){S(!0),ke(P.slice(0,Vd),v).then((function(e){f(e.contentMetadata)})).catch((function(){})).finally((function(){S(!1)}))}),[v,P,f]),T=(0,p.useCallback)((function(){P.length>0&&E()}),[P.length,E]),k=(0,p.useMemo)((function(){return Ri(u.recommendationList,d)}),[u.recommendationList,d]),A=(0,p.useCallback)((function(e,t){var n,r;return{placeId:e.placeId,universeId:e.universeId,isAd:null===(n=k[t])||void 0===n?void 0:n.isSponsored,nativeAdData:null===(r=k[t])||void 0===r?void 0:r.nativeAdData,position:t,numberOfLoadedTiles:(k||[]).length,gameSetTypeId:u.topicId,homePageSessionInfo:v,page:O.SortDetailPageHome}}),[k,v,u.topicId]),N=(0,p.useCallback)((function(e){var t,n,r,o;if(void 0!==k){var i=e.filter((function(e){return e<(null==k?void 0:k.length)}));return Wd(Wd(Wd(Wd(((t={})[L.RootPlaceIds]=i.map((function(e){return k[e].placeId})),t[L.UniverseIds]=i.map((function(e){return k[e].universeId})),t[L.AbsPositions]=i,t),de(k,i)),pe(k,u.topicId,i,null===(r=u.topicLayoutData)||void 0===r?void 0:r.componentType)),he(k,u.topicId,i,null===(o=u.topicLayoutData)||void 0===o?void 0:o.componentType)),((n={})[L.NavigationUids]=i.map((function(e){var t;return null!==(t=k[e].navigationUid)&&void 0!==t?t:"0"})),n[L.GameSetTypeId]=u.topicId,n[L.EmphasisFlag]=!1,n[L.Page]=O.SortDetailPageHome,n[U.HomePageSessionInfo]=v,n))}}),[k,v,u.topicId,null===(t=u.topicLayoutData)||void 0===t?void 0:t.componentType]);ur(h,null!==(n=null==k?void 0:k.length)&&void 0!==n?n:0,N);var _=(0,p.useCallback)((function(e){var t=(0,Va.throttle)((function(e){var t;x(Wn(e,0,null===(t=null==u?void 0:u.topicLayoutData)||void 0===t?void 0:t.componentType))}),100),n=function(){var n,r=null===(n=null==e?void 0:e.getBoundingClientRect())||void 0===n?void 0:n.width;r&&(document.documentElement.style.setProperty("--home-feed-width",r+"px"),t(r))};return n(),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[null===(r=null==u?void 0:u.topicLayoutData)||void 0===r?void 0:r.componentType]);return(0,p.useLayoutEffect)((function(){w&&(null==h?void 0:h.current)&&h.current.style.setProperty("--items-per-row",w.toString())}),[w]),m().createElement("div",{className:"game-sort-detail-grid-container home-page",ref:_},m().createElement(Fa,{ref:h,emphasis:!1,tileRef:g,gameData:k||[],translate:c,buildEventProperties:A,componentType:null===(o=u.topicLayoutData)||void 0===o?void 0:o.componentType,playButtonStyle:null===(i=u.topicLayoutData)||void 0===i?void 0:i.playButtonStyle,playerCountStyle:null===(a=u.topicLayoutData)||void 0===a?void 0:a.playerCountStyle,hoverStyle:null===(l=u.topicLayoutData)||void 0===l?void 0:l.hoverStyle,topicId:null===(s=u.topicId)||void 0===s?void 0:s.toString(),isExpandHomeContentEnabled:!0,isHomeGameGrid:!0,shouldUseSentinelTile:!0,loadData:T}),b&&m().createElement(I.Loading,null))},qd=function(){return qd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},qd.apply(this,arguments)},Xd=(0,g.withTranslations)((function(n){var r,o=n.sortName,i=n.translate,a=(0,p.useState)(void 0),l=a[0],s=a[1],u=mr(),c=(0,p.useState)(!1),d=c[0],f=c[1],v=(0,p.useState)(!1),g=v[0],y=v[1];Sd(O.SortDetailPageHome);var b=(0,p.useMemo)((function(){return Pd()}),[]),S=(0,p.useCallback)((function(){y(!1),s(void 0),Te(_t.Home,u,b).then((function(e){var n=e.sorts.find((function(e){return!function(e){return e.treatmentType===t.Sdui}(e)&&e.topic===o}));void 0===n||tt.topicIdsWithoutSeeAll.includes(n.topicId)?f(!0):s({sorts:[n],contentMetadata:e.contentMetadata})})).catch((function(){y(!0)}))}),[u,o]);(0,p.useEffect)((function(){S()}),[S]);if(g)return m().createElement("div",{className:"game-sort-detail-container"},m().createElement("h1",null,i(Re.LabelGames)),m().createElement("div",{className:"game-sort-detail"},m().createElement(pt,{errorSubtext:i(Re.LabelApiError),onRefresh:S})));if(d)return m().createElement(h.Redirect,{to:"/"});if(void 0!==l&&(null===(r=l.sorts)||void 0===r?void 0:r.length)>0){var C=l.sorts[0];return m().createElement("div",{className:"game-sort-detail-container"},m().createElement("h1",null,o,C.topicId===tt.adSortHomePageId&&m().createElement(pn,{tooltipText:i(Re.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.",placement:"right",sizeInPx:22})),m().createElement(Jd,{homePageSessionInfo:u,sort:C,contentMetadata:l.contentMetadata,appendContentMetadata:function(t){s((function(n){var r;return n?qd(qd({},n),{contentMetadata:(r={},r[e.Game]=qd(qd({},n.contentMetadata[e.Game]),t[e.Game]),r[e.CatalogAsset]=qd(qd({},n.contentMetadata[e.CatalogAsset]),t[e.CatalogAsset]),r[e.CatalogBundle]=qd(qd({},n.contentMetadata[e.CatalogBundle]),t[e.CatalogBundle]),r)}):n}))},translate:i}))}return m().createElement(I.Loading,null)}),b),Kd=pr((function(e){var t=e.match,n=decodeURIComponent(t.params.sortName),r=(0,h.useLocation)(),o=(0,h.useHistory)();return Gd(te.sortDetailReferral,[L.Position,L.SortId,L.Page,L.TreatmentType,U.HomePageSessionInfo],[],{},r,o),m().createElement(Xd,{sortName:n})})),$d="/:locale([a-z]{2})";function Zd(e){return m().createElement(m().Fragment,null,m().createElement(h.Route,{exact:!0,path:"/charts",render:function(){return m().createElement(Od,e)}}),m().createElement(h.Route,{exact:!0,path:"/charts/:sortName",component:Hd}),m().createElement(h.Route,{exact:!0,path:"/charts/v2/:sortName",component:Kd}),m().createElement(h.Route,{exact:!0,path:"".concat($d,"/charts"),render:function(){return m().createElement(Od,e)}}),m().createElement(h.Route,{exact:!0,path:"".concat($d,"/charts/:sortName"),component:Hd}),m().createElement(h.Route,{exact:!0,path:"".concat($d,"/charts/v2/:sortName"),component:Kd}))}var Yd=(0,g.withTranslations)((function(e){return m().createElement(h.BrowserRouter,null,m().createElement(Zd,e))}),y),Qd="games-carousel-page",ef="game-carousel-web-app";(0,f.ready)((function(){document.getElementById(Qd)?(0,v.render)(m().createElement(Yd,null),document.getElementById(Qd)):document.getElementById(ef)&&(0,v.render)(m().createElement(Yd,null),document.getElementById(ef))}))}()}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/00cf48f28441f590eb0eec238c241f0f-gameCarousel.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GameCarousel");
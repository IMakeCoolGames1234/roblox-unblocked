!function(){var n={717:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"";if((e=document.createElement("script")).src="".concat(u).concat(t),!(t=document.head||document.body))throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return t.appendChild(e),e}function i(s){return null!==p?p:(p=new Promise(function(e,t){var n,r,i;if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&s&&console.warn(d),window.Stripe)e(window.Stripe);else try{var a,o=function(){for(var e=document.querySelectorAll('script[src^="'.concat(u,'"]')),t=0;t<e.length;t++){var n=e[t];if(l.test(n.src))return n}return null}();o&&s?console.warn(d):o?o&&null!==f&&null!==E&&(o.removeEventListener("load",f),o.removeEventListener("error",E),null!==(a=o.parentNode)&&void 0!==a&&a.removeChild(o),o=c(s)):o=c(s),r=e,f=function(){window.Stripe?r(window.Stripe):i(new Error("Stripe.js not available"))},n=i=t,E=function(){n(new Error("Failed to load Stripe.js"))},o.addEventListener("load",f),o.addEventListener("error",E)}catch(e){return void t(e)}else e(null)})).catch(function(e){return p=null,Promise.reject(e)})}function r(e){var t="invalid load parameters; expected object of shape\n\n    {advancedFraudSignals: boolean}\n\nbut received\n\n    ".concat(JSON.stringify(e),"\n");if(null===e||"object"!==n(e))throw new Error(t);if(1===Object.keys(e).length&&"boolean"==typeof e.advancedFraudSignals)return e;throw new Error(t)}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s=!0;var r=Date.now();return i(o).then(function(e){return function(e,t,n){if(null===e)return null;e=e.apply(void 0,t);return t=n,(n=e)&&n._registerWrapper&&n._registerWrapper({name:"stripe-js",version:"3.3.0",startTime:t}),e}(e,t,r)})}var o,u="https://js.stripe.com/v3",l=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,d="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",p=null,E=null,f=null,s=!{value:!0};a.setLoadParameters=function(n){if(s&&o){var e=r(n);if(Object.keys(e).reduce(function(e,t){return e&&n[t]===(null===o||void 0===o?void 0:o[t])},!0))return}if(s)throw new Error("You cannot change load parameters after calling loadStripe");o=r(n)},t.loadStripe=a},949:function(e,t,n){e.exports=n(717)},912:function(e,t,n){var r;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=function(e,D){"use strict";function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a,s,c,u,l={exports:{}};l.exports=function(){if(u)return c;u=1;var o=s?a:(s=1,a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function r(){}function i(){}return i.resetWarningCache=r,c=function(){function e(e,t,n,r,i,a){if(a!==o){a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n}}()();function I(t,n,e){var r=!!e,i=D.useRef(e);D.useEffect(function(){i.current=e},[e]),D.useEffect(function(){if(!r||!t)return function(){};function e(){i.current&&i.current.apply(i,arguments)}return t.on(n,e),function(){t.off(n,e)}},[r,n,t,i])}function N(e){var t=D.useRef(e);return D.useEffect(function(){t.current=e},[e]),t.current}function m(e){return null!==e&&"object"===t(e)}function b(e,t){if(!m(e)||!m(t))return e===t;var n=Array.isArray(e);if(n!==Array.isArray(t))return!1;var r=Object.prototype.toString.call(e)===v;if(r!=(Object.prototype.toString.call(t)===v))return!1;if(!r&&!n)return e===t;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var o={},s=0;s<i.length;s+=1)o[i[s]]=!0;for(var c=0;c<a.length;c+=1)o[a[c]]=!0;if((n=Object.keys(o)).length!==i.length)return!1;var u=e,l=t;return n.every(function(e){return b(u[e],l[e])})}function U(r,i,a){return m(r)?Object.keys(r).reduce(function(e,t){var n=!m(i)||!b(r[t],i[t]);return a.includes(t)?(n&&console.warn("Unsupported prop change: options.".concat(t," is not a mutable property.")),e):n?E(E({},e||{}),{},o({},t,r[t])):e},null):null}function d(e,t){var n=1<arguments.length&&void 0!==t?t:P;if(null===e||m(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;throw new Error(n)}function S(e,t){var n=1<arguments.length&&void 0!==t?t:P;return m(t=e)&&"function"==typeof t.then?{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return d(e,n)})}:null===(e=d(e,n))?{tag:"empty"}:{tag:"sync",stripe:e}}function h(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.0",url:"https://stripe.com/docs/stripe-js/react"}))}var p=n(l.exports),v="[object Object]",P="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",C=D.createContext(null);C.displayName="ElementsContext";function y(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e}function _(e){var t=e.stripe,r=e.options,n=e.children,i=D.useMemo(function(){return S(t)},[t]),a=(e=R(D.useState(function(){return{stripe:"sync"===i.tag?i.stripe:null,elements:"sync"===i.tag?i.stripe.elements(r):null}}),2))[0],o=e[1];D.useEffect(function(){function t(t){o(function(e){return e.stripe?e:{stripe:t,elements:t.elements(r)}})}var n=!0;return"async"!==i.tag||a.stripe?"sync"!==i.tag||a.stripe||t(i.stripe):i.stripePromise.then(function(e){e&&n&&t(e)}),function(){n=!1}},[i,a,r]);var s=N(t);D.useEffect(function(){null!==s&&s!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[s,t]);var c=N(r);return D.useEffect(function(){var e;!a.elements||(e=U(r,c,["clientSecret","fonts"]))&&a.elements.update(e)},[r,c,a.elements]),D.useEffect(function(){h(a.stripe)},[a.stripe]),D.createElement(C.Provider,{value:a},n)}_.propTypes={stripe:p.any,options:p.object};function A(e){var t=D.useContext(C);return y(t,e)}function T(e){return(0,e.children)(A("mounts <ElementsConsumer>"))}T.propTypes={children:p.func.isRequired};var g=["on","session"],O=D.createContext(null);O.displayName="CustomCheckoutSdkContext";function w(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e}var M=D.createContext(null);M.displayName="CustomCheckoutContext";function L(e){function n(t,n){u(function(e){return e.stripe&&e.customCheckoutSdk?e:{stripe:t,customCheckoutSdk:n}})}var t=e.stripe,r=e.options,i=e.children,a=D.useMemo(function(){return S(t,"Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[t]),o=(e=R(D.useState(null),2))[0],s=e[1],c=(e=R(D.useState(function(){return{stripe:"sync"===a.tag?a.stripe:null,customCheckoutSdk:null}}),2))[0],u=e[1],l=D.useRef(!1);D.useEffect(function(){var e=!0;return"async"!==a.tag||c.stripe?"sync"===a.tag&&a.stripe&&!l.current&&(l.current=!0,a.stripe.initCustomCheckout(r).then(function(e){e&&(n(a.stripe,e),e.on("change",s))})):a.stripePromise.then(function(t){t&&e&&!l.current&&(l.current=!0,t.initCustomCheckout(r).then(function(e){e&&(n(t,e),e.on("change",s))}))}),function(){e=!1}},[a,c,r,s]);var d=N(t);D.useEffect(function(){null!==d&&d!==t&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[d,t]);var p=N(r);return D.useEffect(function(){var e,t;c.customCheckoutSdk&&(!r.clientSecret||m(p)||b(r.clientSecret,p.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property."),e=null==p||null===(e=p.elementsOptions)||void 0===e?void 0:e.appearance,(t=null==r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance)&&!b(t,e)&&c.customCheckoutSdk.changeAppearance(t))},[r,p,c.customCheckoutSdk]),D.useEffect(function(){h(c.stripe)},[c.stripe]),e=D.useMemo(function(){return function(e,t){if(!e)return null;e.on,e.session;var n=f(e,g);return E(E({},n),t||e.session())}(c.customCheckoutSdk,o)},[c.customCheckoutSdk,o]),c.customCheckoutSdk?D.createElement(O.Provider,{value:c},D.createElement(M.Provider,{value:e},i)):null}L.propTypes={stripe:p.any,options:p.shape({clientSecret:p.string.isRequired,elementsOptions:p.object}).isRequired};function k(e){var t=D.useContext(O),n=D.useContext(C);if(t&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return t?w(t,e):y(n,e)}function x(T,e){var t,g="".concat((t=T).charAt(0).toUpperCase()+t.slice(1),"Element");return(e=e?function(e){k("mounts <".concat(g,">"));var t=e.id,e=e.className;return D.createElement("div",{id:t,className:e})}:function(e){var t,n=e.id,r=e.className,i=e.options,a=void 0===i?{}:i,o=e.onBlur,s=e.onFocus,c=e.onReady,u=e.onChange,l=e.onEscape,d=e.onClick,p=e.onLoadError,E=e.onLoaderStart,f=e.onNetworksChange,m=e.onConfirm,b=e.onCancel,S=e.onShippingAddressChange,i=e.onShippingRateChange,e=k("mounts <".concat(g,">")),h="elements"in e?e.elements:null,v="customCheckoutSdk"in e?e.customCheckoutSdk:null,e=R(D.useState(null),2),P=e[0],C=e[1],y=D.useRef(null),_=D.useRef(null);I(P,"blur",o),I(P,"focus",s),I(P,"escape",l),I(P,"click",d),I(P,"loaderror",p),I(P,"loaderstart",E),I(P,"networkschange",f),I(P,"confirm",m),I(P,"cancel",b),I(P,"shippingaddresschange",S),I(P,"shippingratechange",i),I(P,"change",u),c&&(t="expressCheckout"===T?c:function(){c(P)}),I(P,"ready",t),D.useLayoutEffect(function(){var e;null===y.current&&null!==_.current&&(h||v)&&(e=null,v?e=v.createElement(T,a):h&&(e=h.create(T,a)),y.current=e,C(e),e&&e.mount(_.current))},[h,v,a]);var A=N(a);return D.useEffect(function(){var e;!y.current||(e=U(a,A,["paymentRequest"]))&&y.current.update(e)},[a,A]),D.useLayoutEffect(function(){return function(){if(y.current&&"function"==typeof y.current.destroy)try{y.current.destroy(),y.current=null}catch(e){}}},[]),D.createElement("div",{id:n,className:r,ref:_})}).propTypes={id:p.string,className:p.string,onChange:p.func,onBlur:p.func,onFocus:p.func,onReady:p.func,onEscape:p.func,onClick:p.func,onLoadError:p.func,onLoaderStart:p.func,onNetworksChange:p.func,onConfirm:p.func,onCancel:p.func,onShippingAddressChange:p.func,onShippingRateChange:p.func,options:p.object},e.displayName=g,e.__elementType=T,e}var F="undefined"==typeof window,B=D.createContext(null);B.displayName="EmbeddedCheckoutProviderContext";function G(){var e=D.useContext(B);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e}var H=F?function(e){var t=e.id,e=e.className;return G(),D.createElement("div",{id:t,className:e})}:function(e){var t=e.id,e=e.className,n=G().embeddedCheckout,r=D.useRef(!1),i=D.useRef(null);return D.useLayoutEffect(function(){return!r.current&&n&&null!==i.current&&(n.mount(i.current),r.current=!0),function(){if(r.current&&n)try{n.unmount(),r.current=!1}catch(e){}}},[n]),D.createElement("div",{ref:i,id:t,className:e})},V=x("auBankAccount",F),Y=x("card",F),j=x("cardNumber",F),z=x("cardExpiry",F),K=x("cardCvc",F),W=x("fpxBank",F),q=x("iban",F),X=x("idealBank",F),Q=x("p24Bank",F),J=x("epsBank",F),Z=x("payment",F),$=x("expressCheckout",F),ee=x("paymentRequestButton",F),te=x("linkAuthentication",F),ne=x("address",F),re=x("shippingAddress",F),ie=x("paymentMethodMessaging",F),l=x("affirmMessage",F),F=x("afterpayClearpayMessage",F);e.AddressElement=ne,e.AffirmMessageElement=l,e.AfterpayClearpayMessageElement=F,e.AuBankAccountElement=V,e.CardCvcElement=K,e.CardElement=Y,e.CardExpiryElement=z,e.CardNumberElement=j,e.CustomCheckoutProvider=L,e.Elements=_,e.ElementsConsumer=T,e.EmbeddedCheckout=H,e.EmbeddedCheckoutProvider=function(e){var t=e.stripe,n=e.options,r=e.children,i=D.useMemo(function(){return S(t,"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[t]),a=D.useRef(null),o=D.useRef(null),e=R(D.useState({embeddedCheckout:null}),2),s=e[0],c=e[1];D.useEffect(function(){var t;o.current||a.current||(t=function(e){o.current||a.current||(o.current=e,a.current=o.current.initEmbeddedCheckout(n).then(function(e){c({embeddedCheckout:e})}))},"async"!==i.tag||o.current||!n.clientSecret&&!n.fetchClientSecret?"sync"!==i.tag||o.current||!n.clientSecret&&!n.fetchClientSecret||t(i.stripe):i.stripePromise.then(function(e){e&&t(e)}))},[i,n,s,o]),D.useEffect(function(){return function(){s.embeddedCheckout?(a.current=null,s.embeddedCheckout.destroy()):a.current&&a.current.then(function(){a.current=null,s.embeddedCheckout&&s.embeddedCheckout.destroy()})}},[s.embeddedCheckout]),D.useEffect(function(){h(o)},[o]);var u=N(t);D.useEffect(function(){null!==u&&u!==t&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[u,t]);var l=N(n);return D.useEffect(function(){null!=l&&(null!=n?(void 0===n.clientSecret&&void 0===n.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=l.clientSecret&&n.clientSecret!==l.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=l.fetchClientSecret&&n.fetchClientSecret!==l.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=l.onComplete&&n.onComplete!==l.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))},[l,n]),D.createElement(B.Provider,{value:s},r)},e.EpsBankElement=J,e.ExpressCheckoutElement=$,e.FpxBankElement=W,e.IbanElement=q,e.IdealBankElement=X,e.LinkAuthenticationElement=te,e.P24BankElement=Q,e.PaymentElement=Z,e.PaymentMethodMessagingElement=ie,e.PaymentRequestButtonElement=ee,e.ShippingAddressElement=re,e.useCustomCheckout=function(){var e;t="calls useCustomCheckout()",e=D.useContext(O),w(e,t);var t=D.useContext(M);if(!t)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return t},e.useElements=function(){return A("calls useElements()").elements},e.useStripe=function(){return k("calls useStripe()").stripe}},"object"===i(t)?r(t,n(594)):(n=[t,n(594)],void 0===(r="function"==typeof(r=r)?r.apply(t,n):r)||(e.exports=r))},870:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var o={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r,i=typeof n;if("string"==i||"number"==i)e.push(n);else if(Array.isArray(n))!n.length||(r=s.apply(null,n))&&e.push(r);else if("object"==i)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var a in n)o.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},594:function(e){"use strict";e.exports=React}},r={};function dt(e){var t=r[e];if(void 0!==t)return t.exports;t=r[e]={exports:{}};return n[e].call(t.exports,t,t.exports,dt),t.exports}dt.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return dt.d(t,{a:t}),t},dt.d=function(e,t){for(var n in t)dt.o(t,n)&&!dt.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},dt.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var I=dt(594),N=dt.n(I),e=ReactDOM,U=ReactUtilities,S=HeaderScripts,v=CoreUtilities,h=ReactRouterDOM,D=Roblox,t=PropTypes,n=dt.n(t),c={Basic:"basic",Extended:"extended"},r=dt(870),u=dt.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function o(e){var t=e.className,n=e.disabled,r=e.children,e=a(e,["className","disabled","children"]);return N().createElement("button",i({type:"button",className:t,disabled:n},e),r)}o.defaultProps={className:"",disabled:!1,children:null},o.propTypes={className:n().string,disabled:n().bool,children:n().node};var l=o,s={large:"lg",medium:"md",small:"sm",extraSmall:"xs",default:""},t={generic:"generic",navigation:"navigation",download:"download"};function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}var r=Object.values(t),E=Object.values(s);function f(e){var t=e.className,n=e.iconType,r=e.iconName,i=e.size,a=e.isDisabled,o=e.isLoading,s=e.altName,e=p(e,["className","iconType","iconName","size","isDisabled","isLoading","altName"]),i=u()(t,(t=n,n=r,i=i,E.includes(i)?"btn-".concat(t,"-").concat(n,"-").concat(i):null));return N().createElement(l,d({},e,{className:i,disabled:a||o,title:s||r.replace(/-/g," ")}),N().createElement("span",{className:"icon-".concat(r)}))}f.defaultProps={className:null,iconType:t.generic,size:s.medium,isDisabled:!1,isLoading:!1,altName:""},f.propTypes={className:n().string,iconType:n().oneOf(r),iconName:n().string.isRequired,size:n().oneOf(E),isDisabled:n().bool,isLoading:n().bool,altName:n().string},f.iconTypes=t,f.sizes=s;var m=f;function b(e){var t=e.type,n=e.onChange,r=e.current,i=e.total,a=e.hasNext,o=t===c.Extended,s=1===r,e=r===i||!a,t=1<i?"".concat(r," / ").concat(i):r;return N().createElement("div",{className:"pager-holder"},N().createElement("ul",{className:"pager"},o&&N().createElement("li",{className:"first"},N().createElement(m,{iconName:"first-page",size:m.sizes.small,onClick:function(){return n(1)},isDisabled:s})),N().createElement("li",{className:"pager-prev"},N().createElement(m,{iconName:"left",size:m.sizes.small,onClick:function(){return 1<r&&n(r-1)},isDisabled:s})),N().createElement("li",{className:"pager-cur"},N().createElement("span",{id:"rbx-current-page"},t)),N().createElement("li",{className:"pager-next"},N().createElement(m,{iconName:"right",size:m.sizes.small,onClick:function(){return(r<i||a)&&n(r+1)},isDisabled:e})),o&&N().createElement("li",{className:"last"},N().createElement(m,{iconName:"last-page",size:m.sizes.small,onClick:function(){return n(i)},isDisabled:e}))))}b.defaultProps={type:c.Basic,total:0,hasNext:!1},b.propTypes={type:n().oneOf(Object.values(c)),onChange:n().func.isRequired,current:n().number.isRequired,total:n().number,hasNext:n().bool},b.Types=c;var P,O,w,C=b;function y(){return document.getElementById(g)}function _(t){return j(void 0,void 0,Promise,function(){return z(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,v.httpService.get(V.url.getSubscriptions,Y({},t))];case 1:return[2,e.sent().data];case 2:return e.sent(),[2,{subscriptionProductsInfo:[]}];case 3:return[2]}})})}function A(t){return j(void 0,void 0,Promise,function(){return z(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,v.httpService.get(V.url.getSubscriptionStatuses(t.subscriptionProductTargetKeys))];case 1:return[2,e.sent().data];case 2:return e.sent(),[2,{subscriptionStatuses:{}}];case 3:return[2]}})})}function T(t){return j(void 0,void 0,Promise,function(){return z(this,function(e){switch(e.label){case 0:return[4,v.httpService.post(V.url.purchaseSubscription(t.targetKey),Y({},t))];case 1:return[2,e.sent().data]}})})}(r={}).SUBSCRIPTION="Subscription",r.PRIVATE_SERVER="PrivateServer",(t={}).INVALID="Invalid",t.DEVELOPER_SUBSCRIPTION_PRODUCT="DeveloperSubscriptionProduct",(s={}).INVALID="Invalid",s.MONTH="Month",s.YEAR="Year",(n={}).INVALID="Invalid",n.DESKTOP="Desktop",n.APPLE="Apple",n.GOOGLE="Google",(r=P=P||{})[r.INVALID=0]="INVALID",r[r.DEVELOPER_SUBSCRIPTION_PRODUCT=1]="DEVELOPER_SUBSCRIPTION_PRODUCT",(t=O=O||{})[t.INVALID=0]="INVALID",t[t.UNKNOWN=1]="UNKNOWN",t[t.INVALID_PRODUCT=2]="INVALID_PRODUCT",t[t.PRODUCT_NOT_FOR_SALE=3]="PRODUCT_NOT_FOR_SALE",t[t.USER_ALREADY_SUBSCRIBED=4]="USER_ALREADY_SUBSCRIBED",t[t.SAVED_CC_REQUIRED=5]="SAVED_CC_REQUIRED",t[t.VPC_REQUIRED=6]="VPC_REQUIRED",t[t.VPC_PENDING_APPROVAL=7]="VPC_PENDING_APPROVAL",t[t.INVALID_INPUT=8]="INVALID_INPUT",t[t.PURCHASE_PLATFORM_NOT_SUPPORTED=9]="PURCHASE_PLATFORM_NOT_SUPPORTED",t[t.INVALID_SALE_LOCATION=10]="INVALID_SALE_LOCATION",t[t.USER_HAS_SPEND_LIMIT_SET=11]="USER_HAS_SPEND_LIMIT_SET",t[t.RESTRICTED_USER=12]="RESTRICTED_USER",t[t.UNSUPPORTED_LOCALE=13]="UNSUPPORTED_LOCALE",t[t.UNAUTHORIZED=14]="UNAUTHORIZED",t[t.EXCEED_PARENTAL_SPEND_LIMIT=15]="EXCEED_PARENTAL_SPEND_LIMIT",(s=w=w||{}).INVALID="Invalid",s.STRIPE="Stripe",s.APPLEAPPSTORE="AppleAppStore",s.GOOGLEPLAYSTORE="GooglePlayStore",s.CREDITBALANCE="CreditBalance";var M={HeadingSubscriptions:"Heading.Subscriptions",LabelPerMonth:"Text.PerMonth",ActionReportSubscription:"Action.ReportSubscription",HeadingGetSubscription:"Heading.GetSubscription",ActionSubscribe:"Action.Subscribe",ActionSubscribeWithRobloxCredit:"Action.SubscribeWithRobloxCredit",ActionSubscribeWithCreditDebitCard:"Action.SubscribeWithCreditDebitCard",ActionSubscribePayAnotherWay:"Action.SubscribePayAnotherWay",MessageMonthlyCadenceDisclaimer:"Text.DisclaimerMonthly",MessageNoSubscriptionsAvailable:"Message.NoSubscriptionsAvailable",LabelSubscribed:"Text.Subscribed",HeadingAddPaymentMethod:"Heading.AddPaymentMethod",MessageStripeEmailInputSubText:"Message.StripeEmailInputSubText",MessageStripeAddPaymentMethodDisclosure:"Message.StripeAddPaymentMethodDisclosure",ErrorStripeCardDeclined:"Error.StripeCardDeclined",ErrorStripeCardExpired:"Error.StripeCardExpired",ErrorStripeIncorrectCVC:"Error.StripeIncorrectCVC",ErrorStripeSaveCardGeneralError:"Error.StripeSaveCardGeneralError",ErrorGenericError:"Error.GenericError",ErrorStripeSavedCardSomethingWentWrong:"Error.StripeSavedCardSomethingWentWrong",HeadingStripeFormAddPaymentMethod:"Heading.StripeFormAddPaymentMethodNote",HeadingBillingEmail:"Heading.BillingEmail",HeadingBillingAddress:"Heading.BillingAddress",HeadingParentPermissionNeeded:"Heading.ParentPermissionNeeded",MessageParentPermissionVPC:"Message.ParentPermissionVPC",ActionParentOrGuardian:"Action.ParentOrGuardian",HeadingCannotSubscribe:"Heading.CannotSubscribe",MessageMonthlySpendRestrictionsSubscriptionUnavailable:"Message.MonthlySpendRestrictions.SubscriptionUnavailable",MessageMonthlySpendLimitExceed:"Message.MonthlySpendRestrictionsMonthlyLimitExceed",MessageSubscriptionNotAvailableInCountry:"Message.SubscriptionNotAvailableInCountry",MessageSubscriptionNotAvailableAgeRestriction:"Message.SubscriptionNotAvailableExperienceOver17",MessageCannotPlayInExperience:"Message.CannotPlayInExperience",ErrorParentalRestriction:"Error.ParentalRestriction",MessageReportSubmitted:"Message.ReportSubmitted",ActionSeeMore:"Action.SeeMore"},L="Label.AskParent",k="Description.SpendingRestrictionWithSettings",x="Action.GoToSettings",F="Action.Cancel",B=((n={})[O.INVALID]=M.ErrorGenericError,n[O.INVALID_INPUT]=M.ErrorGenericError,n[O.INVALID_PRODUCT]=M.ErrorGenericError,n[O.INVALID_SALE_LOCATION]=M.ErrorGenericError,n[O.PURCHASE_PLATFORM_NOT_SUPPORTED]=M.ErrorGenericError,n[O.RESTRICTED_USER]=M.MessageCannotPlayInExperience,n[O.SAVED_CC_REQUIRED]=M.ErrorGenericError,n[O.UNKNOWN]=M.ErrorGenericError,n[O.UNSUPPORTED_LOCALE]=M.MessageSubscriptionNotAvailableInCountry,n[O.USER_ALREADY_SUBSCRIBED]=M.ErrorGenericError,n[O.USER_HAS_SPEND_LIMIT_SET]=M.MessageMonthlySpendRestrictionsSubscriptionUnavailable,n[O.EXCEED_PARENTAL_SPEND_LIMIT]=M.MessageMonthlySpendLimitExceed,n[O.VPC_PENDING_APPROVAL]=M.ErrorGenericError,n[O.VPC_REQUIRED]=M.MessageParentPermissionVPC,n),g="game-detail-meta-data",R=function(){var e,r=(null===(e=y())||void 0===e?void 0:e.dataset)||{};return Object.keys(r).reduce(function(e,t){var n=r[t].toLowerCase();return e[t]="true"===n||"false"!==n&&r[t],e},{})},G=D.EnvironmentUrls.apiGatewayUrl,H=D.EnvironmentUrls.premiumFeaturesApi,V={url:{getAbuseReportRevampUrl:function(e){var t=e.abuseVector,n=e.submitterId,r=e.targetId,e=e.custom;return"/report-abuse/?"+new URLSearchParams({abuseVector:t,submitterId:n,targetId:r,custom:e||""}).toString()},getSubscriptions:{url:G+"/v1/subscriptions/active-subscription-products",withCredentials:!0},getSubscriptionStatuses:function(e){return{url:G+"/v1/subscriptions/statuses?"+e.map(function(e){return"subscriptionProductTargetKeys="+e}).join("&"),withCredentials:!0}},getSubscriptionMetadata:{url:G+"/v1/subscriptions/metadata",withCredentials:!0},getSubscriptionPaymentMethods:function(e){return{url:G+"/v1/subscriptions/payment-methods/"+e,withCredentials:!0}},purchaseSubscription:function(e){return{url:G+"/v1/subscriptions/prepare-purchase/"+e+"/web",withCredentials:!0}},getUserPremiumSubscription:function(e){return{url:H+"/v1/users/"+e+"/subscriptions/details",withCredentials:!0}},getUserSubscriptions:{url:G+"/v1/subscriptions/user",withCredentials:!0},cancelSubscription:function(e){return{url:G+"/v1/subscriptions/"+e+"/cancel",withCredentials:!0}},cancelPremiumSubscription:function(e){return{url:H+"/v1/users/"+e+"/subscriptions/cancel",withCredentials:!0}},dismissSubscriptionNotification:function(e){return{url:G+"/v1/subscriptions/"+e+"/dismiss-notification",withCredentials:!0}},updateSubscriptionPaymentProfile:function(e){return{withCredentials:!0,url:D.EnvironmentUrls.apiGatewayUrl+"/v1/subscriptions/"+e+"/payment-methods"}},verifyPaymentProfileCreation:function(e){return{url:G+"/payments-gateway/v1/payment-profile/by-provider-id/"+w.STRIPE+"/"+e,withCredentials:!0}},getSavedPaymentProfiles:function(){return{withCredentials:!0,url:D.EnvironmentUrls.apiGatewayUrl+"/payments-gateway/v1/payment-profiles"}},getPaymentProfileSetupUrlConfig:function(){return{withCredentials:!0,url:D.EnvironmentUrls.apiGatewayUrl+"/payments-gateway/v1/payment-profile/prepare"}},getStripeEnabledForUserConfig:function(){return{withCredentials:!0,url:D.EnvironmentUrls.apiGatewayUrl+"/payments-gateway/v1/stripe/enabled-for-user"}},updatePaymentProfile:function(e){return{url:G+"/payments-gateway/v1/payment-profile/"+e,withCredentials:!0}},submitSafetyEvent:{url:G+"/abuse-reporting/v1/safety-event",retryable:!0,withCredentials:!0},getUserCreditBalance:function(){return{url:G+"/credit-balance/v1/get-credit-balance",withCredentials:!0}},getUserBirthdateUrlConfig:function(){return{withCredentials:!0,url:D.EnvironmentUrls.usersApi+"/v1/birthdate"}},getSubscriptionResubscribeEligibility:function(e){return{withCredentials:!0,url:G+"/v1/subscriptions/"+e+"/eligibility"}},resubscribeSubscription:function(e){return{withCredentials:!0,url:G+"/v1/subscriptions/"+e+"/resubscribe"}},updateVipServerSubscription:function(e){return{withCredentials:!0,url:D.EnvironmentUrls.gamesApi+"/v1/vip-servers/"+e+"/subscription"}},getMyPrivateServers:function(){return{withCredentials:!0,url:D.EnvironmentUrls.gamesApi+"/v1/private-servers/my-private-servers"}}}},Y=function(){return(Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},j=function(e,o,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}a((c=c.apply(e,o||[])).next())})},z=function(n,r){var i,a,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},K=ReactStyleGuide,W=window.EventTracker?EventTracker:{fireEvent:console.log,start:console.log,endSuccess:console.log,endCancel:console.log,endFailure:console.log},q=RobloxThumbnails,X=v.urlService.getAbsoluteUrl("/parents/account-setup?consentType=SavePaymentMethods"),Q=v.urlService.getAbsoluteUrl("/upgrades/redeem?ap=0&subscriptionTargetKey="),J=(v.urlService.getAbsoluteUrl("/upgrades/checkout/success"),v.urlService.getAbsoluteUrl("/redeem"),v.urlService.getAbsoluteUrl("/giftcards"),v.urlService.getAbsoluteUrl("/my/account#!/billing")),Z=(0,I.createContext)(null),$=function(){var e=(0,I.useContext)(Z);if(null===e)throw new Error("System feedback context was not provided in the current scope!");return e};(r=(0,I.createContext)({openModal:function(){return{}},closeModal:function(){return{}},updateModalContent:function(e,t,n,r,i,a){return{}}})).displayName="singleButtonModal";var ee,te=r;function ne(){return(0,I.useContext)(te)}function re(e){void 0===e&&(e={baseUrl:""}),this.configuration=e,this.baseUrl=this.configuration.baseUrl}function ie(e){void 0===e&&(e=new re),this.configuration=e,this.baseUrl=e.baseUrl}(t=ee=ee||{}).UPDATE_PAGE="UPDATE_PAGE",t.LOAD_SUBSCRIPTIONS="LOAD_SUBSCRIPTIONS",t.OPEN_STRIPE_MODAL="OPEN_STRIPE_MODAL",t.CLOSE_STRIPE_MODAL="CLOSE_STRIPE_MODAL",t.SEND_STORE_PAGE_LOAD_EVENT="SEND_STORE_PAGE_LOAD_EVENT",ie.prototype.sendEvent=function(e){var t=e.localTime,n=e.target,r=e.eventType,i=e.context,a=e.additionalProperties,o=e.currentUrl,s=e.guestId,e=e.sessionId,t=t.toISOString(),c=new URL("".concat(this.baseUrl,"/pe"));return c.searchParams.append("t",n),c.searchParams.append("evt",r),c.searchParams.append("ctx",i),c.searchParams.append("lt",t),c.searchParams.append("url",o||window.location.href),void 0!==s&&c.searchParams.append("gid",s),void 0!==e&&c.searchParams.append("sid",e),void 0!==a&&Object.keys(a).forEach(function(e){c.searchParams.append(e,(null!==(e=a[e])&&void 0!==e?e:"").toString())}),fetch(c.href,{credentials:"same-origin"})},ie.prototype.sendEventViaImg=function(e,t){var n=e.localTime,r=e.target,i=e.eventType,a=e.context,o=e.additionalProperties,s=e.currentUrl,c=e.guestId,e=e.sessionId,n=n.toISOString(),u=new URL("".concat(this.baseUrl,"/e.png"));u.searchParams.append("t",r),u.searchParams.append("evt",i),u.searchParams.append("ctx",a),u.searchParams.append("lt",n),u.searchParams.append("url",s||window.location.href),void 0!==c&&u.searchParams.append("gid",c),void 0!==e&&u.searchParams.append("sid",e),void 0!==o&&Object.keys(o).forEach(function(e){u.searchParams.append(e,(null!==(e=o[e])&&void 0!==e?e:"").toString())});e=new Image;return e.src=u.href,e.onload=function(){void 0!==t&&t(!0)},e.onerror=function(e){void 0!==t&&t(!1),console.error(e)},e},s=ie;var ae,oe,se,ce=function(){return(ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},n=D.EnvironmentUrls.domain;(r=ae=ae||{}).IMPRESSION="Impression",r.USER_INPUT="UserInput",r.VIEW_SHOWN="ViewShown",(t=oe=oe||{}).SUBSCRIBE="Subscribe",t.OPEN_PURCHASE_MODAL="OpenPurchaseModal",t.CANCEL="Cancel",t.I_AM_A_PARENT_OR_GUARDIAN_BUTTON="IAmAParentOrGuardianButton",t.SAVE_NEW_PAYMENT_METHOD="SaveNewPaymentMethod",t.ASK_PARENT_BUTTON="AskParentButton",(r=se=se||{}).GAME_DETAILS="GameDetails",r.PURCHASE_MODAL="PurchaseModal",r.PARENT_PERMISSION_NEEDED_MODAL="ParentPermissionNeededModal",r.VPC_NEW_PAYMENT_MODAL="VPCNewPaymentModal",r.PURCHASE_DISABLED_PAYMENT_MODAL="PurchaseDisabledPaymentModal",r.DEVSUB_CARD="DevSubCard",r.STRIPE_CHECKOUT="StripeCheckout",r.CREDIT_BALANCE_CHECKOUT="CreditBalanceCheckout",r.ERROR="Error";var ue=new s(new re({baseUrl:"https://ecsv2."+n+"/www"})),le=((t={})[ae.USER_INPUT]=((r={})[se.PURCHASE_MODAL]=((n={})[oe.SUBSCRIBE]="GameSubscriptionsPurchaseModalSubscribeClicked",n[oe.CANCEL]="GameSubscriptionsPurchaseModalCancelClicked",n),r[se.DEVSUB_CARD]=((n={})[oe.OPEN_PURCHASE_MODAL]="GameSubscriptionsDevSubCardOpenPurchaseModalClicked",n),r),t),de={sendExperienceSubscriptionEvent:function(e,t,n,r,i){if(e){var t={purchaseFlowUuid:e,purchaseFlowEventType:t,viewName:n};i&&(t.inputType=i),t.subscriptionProviderId=r.subscriptionProviderId;var n=r.subscriptionTargetKey.split("-"),i=n[0],n=n[1];t.subscriptionProductTypePrefix=i,t.subscriptionId=n,t.localizedSubscriptionName=r.name,t.localizedSubscriptionDescription=r.description,t.priceInCentsUsd=r.priceTier,t.displayPrice=r.displayPrice;i={target:"www",localTime:new Date,eventType:"SubscriptionPurchase",context:"",additionalProperties:ce({},t)};return(n=t).purchaseFlowEventType&&n.viewName&&n.inputType&&(r=n.purchaseFlowEventType,t=n.viewName,n=n.inputType,(n=null===(t=null===(r=le[r])||void 0===r?void 0:r[t])||void 0===t?void 0:t[n])&&(0,W.fireEvent)(n)),ue.sendEventViaImg(i)}return null}},pe=function(){return(pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ee={subscriptions:[],subscriptionsPerPage:null!==(r=S.deviceMeta.getDeviceMeta())&&void 0!==r&&r.isUniversalApp?8:4,subscriptionsInPage:[],currentPage:1,totalPages:0,pagesSeen:new Set,showPagination:!1,stripeClientSecret:"",showStripeModal:!1,purchaseFlowUuid:v.uuidService.generateRandomUuid(),selectedSubscription:null,pathName:function(){var e=window.location.pathname;D.Endpoints&&D.Endpoints.supportLocalizedUrls&&(e=D.Endpoints.removeUrlLocale(e));e=e.substring(1);return e.startsWith("games/store-section")?e:e+"#!/store"}()};function fe(t){t.subscriptionsInPage.forEach(function(e){de.sendExperienceSubscriptionEvent(t.purchaseFlowUuid,ae.IMPRESSION,se.GAME_DETAILS,e)})}function me(e,t){var n=(t-1)*e.subscriptionsPerPage;return e.subscriptions.slice(n,Math.min(t*e.subscriptionsPerPage,e.subscriptions.length))}function be(e,t){switch(t.type){case ee.UPDATE_PAGE:var n=pe(pe({},e),{subscriptionsInPage:me(e,t.newPage),currentPage:t.newPage});return e.pagesSeen.has(t.newPage)||fe(n),pe(pe({},n),{pagesSeen:e.pagesSeen.add(t.newPage)});case ee.LOAD_SUBSCRIPTIONS:var r=Math.ceil(t.subscriptions.length/e.subscriptionsPerPage),n=pe(pe({},e),{totalPages:r,subscriptions:t.subscriptions,showPagination:1<r});return pe(pe({},n),{subscriptionsInPage:me(n,1)});case ee.OPEN_STRIPE_MODAL:return pe(pe({},e),{showStripeModal:!0,stripeClientSecret:t.clientSecret,selectedSubscription:t.subscription});case ee.CLOSE_STRIPE_MODAL:return pe(pe({},e),{showStripeModal:!1});case ee.SEND_STORE_PAGE_LOAD_EVENT:return e.pagesSeen.has(e.currentPage)?e:(fe(e),pe(pe({},e),{pagesSeen:e.pagesSeen.add(e.currentPage)}));default:return e}}var Se,he=(0,I.createContext)(null);function ve(){var e=(0,I.useContext)(he);if(null==e)throw new Error("GameSubscriptionsContext was not provided in the current scope.");return e}function Pe(e,t){switch(t){case Se.FraudPaymentAuthorizationAttempt:return e("Label.Sublabel.FraudPaymentAbuse");case Se.FraudVirtualEconomyAbuse:return e("Label.Sublabel.FraudVirtualEconomyAbuse");case Se.FraudAbuseOfAffiliateSystem:return e("Label.Sublabel.FraudAbuseOfTheAffiliateSystem");case Se.FraudAttemptedUnauthorizedPaymentMethodUse:return e("Label.Sublabel.FraudAttemptedUnauthorizedPaymentMethodUse");case Se.FraudRepeatedRefundRequests:return e("Label.Sublabel.FraudRepeatedRefundRequests");case Se.FraudSuspiciousRefundRequests:return e("Label.Sublabel.FraudSuspiciousRefundRequests");case Se.FraudUnauthorizedPurchase:return e("Label.Sublabel.FraudUnauthorizedPurchase");case Se.FraudUseOfUnauthorizedOffPlatformTransactions:return e("Label.Sublabel.FraudUseOfUnauthorizedOffPlatformTransactions");case Se.FraudUseOfUnauthorizedPaymentMethod:return e("Label.Sublabel.FraudUseOfUnauthorizedPaymentMethod");case Se.FraudSuspiciousAccountPatterns:return e("Label.Sublabel.FraudSuspiciousAccountPatterns");case Se.FraudChargeback:return e("Label.AbuseType.Chargeback");default:return e("Label.Sublabel.FraudPaymentAbuse")}}function Ce(e,t,n){var r=Math.ceil(n/60);if(24<r){n=Math.ceil(r/24);return e("Text.EconomicRestrictionsDays",{violation:Pe(e,t),day:n})}return e("Text.EconomicRestrictionsHours",{violation:Pe(e,t),hour:r})}function ye(s,c,u,l,d,p,E,f){return ge(void 0,void 0,Promise,function(){var n,r,i,a,o;return De(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,T({targetKey:d.subscriptionTargetKey,stripeCancelUrlPathName:E,paymentProvider:f})];case 1:return void 0!==(o=e.sent()).invalidReason&&null!==o.invalidReason?(i=o.invalidReason,r=i.split("/"),n=r[0],i=r[1],r=r[2],"EconomicRestrictions"===n&&Object.values(Se).includes(i)&&void 0!==r&&(i=i,a=parseInt(r,10),u({failureReason:i,expirationTimeInMinutes:a})),[2]):(f===w.STRIPE&&o.providerPayload?(a=JSON.parse(o.providerPayload)).CheckoutUrl&&(de.sendExperienceSubscriptionEvent(p,ae.VIEW_SHOWN,se.STRIPE_CHECKOUT,d,oe.SUBSCRIBE),l(),window.location.href=a.CheckoutUrl):f===w.CREDITBALANCE&&o.providerPayload?(de.sendExperienceSubscriptionEvent(p,ae.VIEW_SHOWN,se.CREDIT_BALANCE_CHECKOUT,d,oe.SUBSCRIBE),l(),window.location.href=(t=d.subscriptionTargetKey,""+Q+t)):s(),[3,3]);case 2:return o=e.sent(),500===(o=o).status&&s(),c(o),[3,3];case 3:return[2]}var t})})}function _e(e){var t=e.title,n=e.show,r=e.assetId,i=e.provider,a=e.name,o=e.displayPrice,s=e.description,c=e.isForSale,u=e.cadence,l=e.cadenceDisclaimer,d=e.closeModal,p=e.primaryPaymentProviderType,E=e.allPaymentProviderTypes,f=e.subscription,m=$().systemFeedbackService,b=ne(),S=b.updateModalContent,h=b.openModal,v=b.closeModal,e=(y=(0,I.useState)(!0))[0],P=y[1],C=(0,U.useTranslation)().translate,y=(b=ve()).state,_=b.dispatch,A=y.purchaseFlowUuid,T=y.pathName,g=1<E.length,y=(0,I.useCallback)(function(){de.sendExperienceSubscriptionEvent(A,ae.USER_INPUT,se.PARENT_PERMISSION_NEEDED_MODAL,f,oe.I_AM_A_PARENT_OR_GUARDIAN_BUTTON),window.location.href=X},[A,f]),D=(0,I.useCallback)(function(){de.sendExperienceSubscriptionEvent(A,ae.USER_INPUT,se.PURCHASE_DISABLED_PAYMENT_MODAL,f,oe.ASK_PARENT_BUTTON),window.location.href=J},[A,f]),R=(0,I.useCallback)(function(e,t){de.sendExperienceSubscriptionEvent(A,ae.USER_INPUT,se.PURCHASE_MODAL,f,oe.SUBSCRIBE),e.stopPropagation(),P(!0),ye(function(){m.warning(C(M.ErrorGenericError)),d()},function(e){var t,e=e.data,n=e.clientHint,r=e.errorCode;switch(P(!1),r){case O.SAVED_CC_REQUIRED:d(),n?_({type:ee.OPEN_STRIPE_MODAL,clientSecret:n,subscription:f}):m.warning(C(M.ErrorGenericError));break;case O.VPC_REQUIRED:de.sendExperienceSubscriptionEvent(A,ae.VIEW_SHOWN,se.PURCHASE_DISABLED_PAYMENT_MODAL,f,oe.SUBSCRIBE),S(C(L),C(k),C(x),!1,function(){return D},C(F)),d(),h();break;case O.EXCEED_PARENTAL_SPEND_LIMIT:case O.USER_HAS_SPEND_LIMIT_SET:case O.RESTRICTED_USER:case O.UNSUPPORTED_LOCALE:S(C(M.HeadingCannotSubscribe),null!==(t=C(null!==(t=B[r])&&void 0!==t?t:""))&&void 0!==t?t:C(M.ErrorGenericError),C("Action.OK"),!0,function(){return v}),d(),h();break;default:m.warning(C(M.ErrorGenericError))}d()},function(e){P(!1),S(C(M.HeadingCannotSubscribe),Ce(C,e.failureReason,e.expirationTimeInMinutes),C("Action.OK"),!0,function(){return v}),d(),h()},function(){return P(!1)},f,A,T,t)},[v,d,_,y,h,T,A,f,m,C,S]);return(0,I.useEffect)(function(){p&&P(!1)},[p]),y=(0,I.useMemo)(function(){if(!c)return N().createElement(K.Button,{width:K.Button.widths.full,size:K.Button.sizes.large,onClick:function(e){return R(e,p)},isDisabled:!0},C(M.LabelSubscribed));if(!g)return N().createElement(K.Button,{width:K.Button.widths.full,size:K.Button.sizes.large,onClick:function(e){return R(e,w.STRIPE)}},C(M.ActionSubscribe));var e=M.ActionSubscribeWithCreditDebitCard,t=M.ActionSubscribePayAnotherWay,n=E[1];return p===w.CREDITBALANCE&&(e=M.ActionSubscribeWithRobloxCredit),N().createElement("div",null,N().createElement(K.Button,{width:K.Button.widths.full,size:K.Button.sizes.large,onClick:function(e){return R(e,p)}},C(e)||p),N().createElement(K.Button,{width:K.Button.widths.full,size:K.Button.sizes.large,className:"btn-secondary-lg btn-secondary-margin",onClick:function(e){return R(e,n||"")}},C(t)||n))},[c,g,E,p,C,R]),N().createElement(K.Modal,{show:n,onHide:d,size:"md",className:"rbx-subscription-modal",centered:!0,scrollable:!1},N().createElement(K.Modal.Header,{title:t,showCloseButton:!0,onClose:d}),N().createElement(K.Modal.Body,null,N().createElement("div",{className:"modal-body-sub-info"},N().createElement("div",{className:"thumbnail-container"},N().createElement(q.Thumbnail2d,{type:q.ThumbnailTypes.assetThumbnail,targetId:r,altName:a,imgClassName:"subscription-thumbnail",containerClass:"subscription-thumbnail"})),N().createElement("span",{className:"font-header-2 text-emphasis sub-info sub-text-normal"},i),N().createElement("span",{className:"font-header-1 text-emphasis sub-info sub-text-title"},a),N().createElement("span",{className:"sub-info"},N().createElement("span",{className:"font-header-2 text-emphasis sub-text-normal"},o),N().createElement("span",{className:"font-header-2 text-default sub-text-normal"},u)),N().createElement("span",{className:"font-header-2 text-default sub-info sub-text-normal"},l)),N().createElement("div",{className:"font-header-2 text-default description sub-info sub-text-normal"},s)),N().createElement(K.Modal.Footer,{className:g?"modal-footer-2-button":""},e?N().createElement("span",{className:"spinner spinner-default"}):y))}function Ae(t){return Re(void 0,void 0,Promise,function(){return Ie(this,function(e){switch(e.label){case 0:return[4,v.httpService.post(V.url.submitSafetyEvent,{safetyEvent:{eventTime:Date.now(),idempotencyKey:"subscriptions/"+t.subscriptionTargetKey+"/"+t.reporterId,tags:{SUBMITTER_USER_ID:{valueList:[{data:t.reporterId}]},REPORTED_ABUSE_VECTOR:{valueList:[{data:"subscriptions"}]},REPORT_TARGET_SUBSCRIPTION_TARGET_KEY:{valueList:[{data:t.subscriptionTargetKey}]},REPORT_TARGET_ASSET_ID:{valueList:[{data:t.imageAssetId}]},ENTRY_POINT:{valueList:[{data:"website"}]},REPORTED_ABUSE_CATEGORY:{valueList:[{data:"ABUSE_TYPE_OTHER"}]},REPORTER_COMMENT:{valueList:[{data:""}]}}}})];case 1:return[2,e.sent().data.id]}})})}(t=Se=Se||{}).FraudPaymentAuthorizationAttempt="FraudPaymentAuthorizationAttempt",t.FraudVirtualEconomyAbuse="FraudVirtualEconomyAbuse",t.FraudAbuseOfAffiliateSystem="FraudAbuseOfAffiliateSystem",t.FraudAttemptedUnauthorizedPaymentMethodUse="FraudAttemptedUnauthorizedPaymentMethodUse",t.FraudRepeatedRefundRequests="FraudRepeatedRefundRequests",t.FraudSuspiciousRefundRequests="FraudSuspiciousRefundRequests",t.FraudUnauthorizedPurchase="FraudUnauthorizedPurchase",t.FraudUseOfUnauthorizedOffPlatformTransactions="FraudUseOfUnauthorizedOffPlatformTransactions",t.FraudUseOfUnauthorizedPaymentMethod="FraudUseOfUnauthorizedPaymentMethod",t.FraudSuspiciousAccountPatterns="FraudSuspiciousAccountPatterns",t.FraudChargeback="FraudChargeback";var Te,ge=function(e,o,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}a((c=c.apply(e,o||[])).next())})},De=function(n,r){var i,a,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Re=function(e,o,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}a((c=c.apply(e,o||[])).next())})},Ie=function(n,r){var i,a,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},r=D.EnvironmentUrls.domain;(t=Te=Te||{}).INVALID="INVALID",t.PAGE_LOAD="PAGE_LOAD",t.VIEW_ACTIVE="VIEW_ACTIVE",t.VIEW_INACTIVE="VIEW_INACTIVE",t.CLICK_CANCEL="CLICK_CANCEL",t.CANCEL_SUCCESS="CANCEL_SUCCESS",t.EMAIL_REFERER_PAGE_LOAD="EMAIL_REFERER_PAGE_LOAD",t.CLICK_EDIT_PAYMENT_METHOD="CLICK_EDIT_PAYMENT_METHOD",t.CLICK_UPDATE_PAYMENT_METHOD="CLICK_UPDATE_PAYMENT_METHOD",t.UPDATE_PAYMENT_METHOD_SUCCESS="UPDATE_PAYMENT_METHOD_SUCCESS",t.UPDATE_PAYMENT_METHOD_EXPIRATION_SUCCESS="UPDATE_PAYMENT_METHOD_EXPIRATION_SUCCESS",t.UPDATE_PAYMENT_METHOD_ADD_CARD_CLICKED="UPDATE_PAYMENT_METHOD_ADD_CARD_CLICKED",t.UPDATE_PAYMENT_METHOD_ADD_CARD_SUCCESS="UPDATE_PAYMENT_METHOD_ADD_CARD_SUCCESS",t.UPDATE_PAYMENT_METHOD_FAILURE="UPDATE_PAYMENT_METHOD_FAILURE",t.UPDATE_PAYMENT_METHOD_EXPIRATION_FAILURE="UPDATE_PAYMENT_METHOD_EXPIRATION_FAILURE",t.UPDATE_PAYMENT_METHOD_ADD_CARD_FAILURE="UPDATE_PAYMENT_METHOD_ADD_CARD_FAILURE",t.RESUBSCRIBE_SUCCESS="RESUBSCRIBE_SUCCESS",t.CLICK_RESUBSCRIBE="CLICK_RESUBSCRIBE",new s(new re({baseUrl:"https://ecsv2."+r+"/www"}));var r={NO_EXISTING_SUBSCRIPTION:"UserHasNoSubscription",CANCEL_CLICKED:"CancelSubscriptionButtonClicked",PAYMENT_FAILURE_EMAIL_DIRECT_LINK:"PaymentFailureEmailDirectLink",CLICK_UPDATE_PAYMENT_METHOD:"SubscriptionsClickUpdatePaymentMethod",UPDATE_PAYMENT_METHOD_SUCCESS:"SubscriptionsUpdatePaymentMethodSuccess",UPDATE_PAYMENT_METHOD_FAILURE:"SubscriptionsUpdatePaymentMethodFailure",UPDATE_PAYMENT_METHOD_ADD_CARD_CLICKED:"SubscriptionsUpdatePaymentMethodAddCardClicked",UPDATE_PAYMENT_METHOD_ADD_CARD_SUCCESS:"SubscriptionsUpdatePaymentMethodAddCardSuccess",UPDATE_PAYMENT_METHOD_ADD_CARD_FAILED:"SubscriptionsUpdatePaymentMethodAddCardFailed",UPDATE_PAYMENT_METHOD_ADD_LIMITED_CARD_SUCCESS:"SubscriptionsUpdatePaymentMethodAddLimitedCardSuccess",CLICK_RESUBSCRIBE:"SubscriptionsClickResubscribe",RESUBSCRIBE_SUCCESS:"SubscriptionsResubscribeSuccess"},Ne={GET_USER_PREMIUM_SUBSCRIPTION_CALLED:"GetUserPremiumSubscriptionCalled",GET_USER_PREMIUM_SUBSCRIPTION_SUCCEEDED:"GetUserPremiumSubscriptionSucceeded",GET_USER_PREMIUM_SUBSCRIPTION_FAILED:"GetUserPremiumSubscriptionFailed",GET_PAYMENT_METHODS_FAILED:"GetPaymentMethodsFailed",GET_SAVED_PAYMENT_PROFILES_CALLED:"GetSavedPaymentProfilesCalled",GET_SAVED_PAYMENT_PROFILES_SUCCEEDED:"GetSavedPaymentProfilesSucceeded",GET_SAVED_PAYMENT_PROFILES_FAILED:"GetSavedPaymentProfilesFailed",GET_SAVED_PAYMENT_PROFILES_RETURNS_NONE:"GetSavedPaymentProfilesReturnsNone",GET_PAYMENT_PROFILE_SETUP_CALLED:"GetPaymentProfileSetupCalled",GET_PAYMENT_PROFILE_SETUP_SUCCEEDED:"GetPaymentProfileSetupSucceeded",GET_PAYMENT_PROFILE_SETUP_FAILED:"GetPaymentProfileSetupFailed",GET_USER_BIRTHDATE_CALLED:"GetUserBirthdateCalled",GET_USER_BIRTHDATE_SUCCEEDED:"GetUserBirthdateSucceeded",GET_USER_BIRTHDATE_FAILED:"GetUserBirthdateFailed",DELETE_SAVED_PAYMENT_PROFILE_CALLED:"DeleteSavedPaymentProfileCalled",DELETE_SAVED_PAYMENT_PROFILE_SUCCEEDED:"DeleteSavedPaymentProfileSucceeded",DELETE_SAVED_PAYMENT_PROFILE_FAILED:"DeleteSavedPaymentProfileFailed",GET_EXP_VARIANT_CALLED:"GetExperimentVariantCalled",GET_EXP_VARIANT_SUCCEEDED:"GetExperimentVariantSucceeded",GET_EXP_VARIANT_FAILED:"GetExperimentVariantFailed",CONVERT_CREDIT_TO_ROBUX_CALLED:"ConvertCreditToRobuxCalled",CONVERT_CREDIT_TO_ROBUX_SUCCEEDED:"ConvertCreditToRobuxSucceeded",CONVERT_CREDIT_TO_ROBUX_FAILED:"ConvertCreditToRobuxFailed",GET_CREDIT_CONVERSION_METADATA_CALLED:"GetCreditConversionMetadataCalled",GET_CREDIT_CONVERSION_METADATA_SUCCEEDED:"GetCreditConversionMetadataSucceeded",GET_CREDIT_CONVERSION_METADATA_FAILED:"GetCreditConversionMetadataFailed",GET_CREDIT_CONVERSION_METADATA_CURRENCY_CODE_NULL:"GetCreditConversionMetadataCurrencyCodeNull",VERIFY_PAYMENT_PROFILE_CALLED:"VerifyPaymentProfileCreationCalled",VERIFY_PAYMENT_PROFILE_SUCCEEDED:"VerifyPaymentProfileCreationSucceeded",VERIFY_PAYMENT_PROFILE_FAILED:"VerifyPaymentProfileCreationFailed",UPDATE_SAVED_PAYMENT_PROFILE_CALLED:"UpdateSavedPaymentProfileCalled",UPDATE_SAVED_PAYMENT_PROFILE_SUCCEEDED:"UpdateSavedPaymentProfileSucceeded",UPDATE_SAVED_PAYMENT_PROFILE_FAILED:"UpdateSavedPaymentProfileFailed",UPDATE_SUBSCRIPTION_PAYMENT_METHOD_CALLED:"UpdateSubscriptionPaymentMethodCalled",UPDATE_SUBSCRIPTION_PAYMENT_METHOD_SUCCEEDED:"UpdateSubscriptionPaymentMethodSucceeded",UPDATE_SUBSCRIPTION_PAYMENT_METHOD_FAILED:"UpdateSubscriptionPaymentMethodFailed"},Ue=(new Map([[Te.CLICK_UPDATE_PAYMENT_METHOD,r.CLICK_UPDATE_PAYMENT_METHOD],[Te.UPDATE_PAYMENT_METHOD_SUCCESS,r.UPDATE_PAYMENT_METHOD_SUCCESS],[Te.UPDATE_PAYMENT_METHOD_FAILURE,r.UPDATE_PAYMENT_METHOD_FAILURE],[Te.EMAIL_REFERER_PAGE_LOAD,r.PAYMENT_FAILURE_EMAIL_DIRECT_LINK],[Te.UPDATE_PAYMENT_METHOD_ADD_CARD_CLICKED,r.UPDATE_PAYMENT_METHOD_ADD_CARD_CLICKED],[Te.UPDATE_PAYMENT_METHOD_ADD_CARD_SUCCESS,r.UPDATE_PAYMENT_METHOD_ADD_CARD_SUCCESS],[Te.UPDATE_PAYMENT_METHOD_ADD_CARD_FAILURE,r.UPDATE_PAYMENT_METHOD_ADD_CARD_FAILED],[Te.CLICK_RESUBSCRIBE,r.CLICK_RESUBSCRIBE],[Te.RESUBSCRIBE_SUCCESS,r.RESUBSCRIBE_SUCCESS]]),function(e,o,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}a((c=c.apply(e,o||[])).next())})}),Oe=function(n,r){var i,a,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},we=null;function Me(e){var n=e.subscription,t=(b=(0,I.useState)(!1))[0],r=b[1],i=(S=(0,I.useState)(""))[0],a=S[1],o=(h=(0,I.useState)([""]))[0],s=h[1],c=$().systemFeedbackService,u=(0,U.useTranslation)().translate,l=ve().state.purchaseFlowUuid,d=n.name,p=n.subscriptionProviderName,E=n.description,e=n.displayPrice,f=n.iconImageAssetId,m=n.subscriptionTargetKey,b=n.isForSale,S=N().createElement(q.Thumbnail2d,{type:q.ThumbnailTypes.assetThumbnail,size:q.DefaultThumbnailSize,targetId:f,altName:d,imgClassName:"subscription-thumbnail",containerClass:"subscription-thumbnail-container-class"}),h=(0,I.useCallback)(function(){return He(void 0,void 0,void 0,function(){var t;return Ve(this,function(e){switch(e.label){case 0:return[4,Ge.loadGuacConfigNonThrowing()];case 1:return null!=(t=e.sent())&&t.EnableSubscriptions?(t=V.url.getAbuseReportRevampUrl({abuseVector:"subscriptions",submitterId:D.CurrentUser.userId,targetId:m,custom:JSON.stringify({stringId:f.toString()})}),window.location.href=t,[2]):(Ae({subscriptionTargetKey:m,imageAssetId:f.toString(),reporterId:D.CurrentUser.userId}).then(function(){return c.success(u(M.MessageReportSubmitted))}).catch(function(){return c.warning(u(M.ErrorGenericError))}),[2])}})})},[]);return N().createElement(I.Fragment,null,N().createElement("div",{className:"subscription-card-item subscription-fc"},N().createElement("div",{className:"subscription-fc"},N().createElement("div",{className:"subscription-options-container"},N().createElement(K.Popover,{id:"subscriptions-dropdown-menu",button:N().createElement(K.IconButton,{iconName:"more",size:K.IconButton.sizes.small,onClick:function(){}}),containerPadding:20,trigger:"click",placement:"bottom"},N().createElement("ul",{className:"dropdown-menu",role:"menu"},N().createElement("li",null,N().createElement(K.Button,{className:"rbx-subscription-reports",variant:K.Button.variants.secondary,onClick:h},u(M.ActionReportSubscription)))))),N().createElement("div",{className:"subscription-fr"},N().createElement("div",{className:"subscription-thumbnail-container"},S),N().createElement("div",{className:"subscription-information"},N().createElement("span",{className:"font-header-2 subscription-name"},d),N().createElement("div",{className:"subscription-description-container"},N().createElement("span",{className:"font-body subscription-description"},E)),N().createElement("button",{className:"font-header-2 subscription-see-more",type:"button",onClick:function(){de.sendExperienceSubscriptionEvent(l,ae.USER_INPUT,se.DEVSUB_CARD,n,oe.OPEN_PURCHASE_MODAL),r(!0)}},u(M.ActionSeeMore)||"See More")))),N().createElement(K.Button,{width:K.Button.widths.full,isDisabled:!b,onClick:function(){var t;de.sendExperienceSubscriptionEvent(l,ae.USER_INPUT,se.DEVSUB_CARD,n,oe.OPEN_PURCHASE_MODAL),t=n.subscriptionTargetKey,j(void 0,void 0,Promise,function(){return z(this,function(e){switch(e.label){case 0:return[4,v.httpService.get(V.url.getSubscriptionPaymentMethods(t))];case 1:return[2,e.sent().data]}})}).then(function(e){a(e.primaryPaymentProviderType),s(e.allPaymentProviderTypes)}).catch(function(){(0,W.fireEvent)(Ne.GET_PAYMENT_METHODS_FAILED),a(w.STRIPE),s([w.STRIPE])}),r(!0)},className:"subscription-buy-button subscription-fr"},b?N().createElement(I.Fragment,null,N().createElement("p",{className:"subscription-price"},e),N().createElement("p",{className:"subscription-cadence"},u(M.LabelPerMonth))):N().createElement("div",{className:"text-disabled"},u(M.LabelSubscribed)))),N().createElement(_e,{title:u(M.HeadingGetSubscription),show:t,assetId:f,provider:p,name:d,displayPrice:e,description:E,isForSale:b,cadence:u(M.LabelPerMonth),cadenceDisclaimer:u(M.MessageMonthlyCadenceDisclaimer),closeModal:function(){return r(!1)},primaryPaymentProviderType:i,allPaymentProviderTypes:o,subscription:n}))}function Le(e){var t=e.subscriptions,e=(0,U.useTranslation)().translate;return t?0===t.length?N().createElement("p",{className:"section-content-off"},e(M.MessageNoSubscriptionsAvailable)):N().createElement("div",{className:(void 0!==t&&1<t.length?"card-list":"")+" card-spacing-bottom"},void 0!==t&&t.map(function(e){return N().createElement(Me,{key:e.name,subscription:e})})):N().createElement(K.Loading,null)}function ke(){return D.EnvironmentUrls.websiteUrl.includes("sitetest1")?"pk_test_51LNM0XG5RADBkfjhYJlpADA2ArzWIh7gTWTodYNbpEzSiT55dul3VJhaBIVHL0CNyO0gECOz1vPnWArAkjwQ8NBO00Cdf2PxED":D.EnvironmentUrls.websiteUrl.includes("sitetest3")?"pk_test_51LNOeQHDRNiW7vlLcKH8TGCpJ7zhaidLdSegE22GCuvQbVUX2xDiGJY6WYaldYyo6qgVxmy1SnSVpSdaqyjfqclU00NQwWntIe":"pk_live_51LKpO9C8tJWGhK4HEHtny9Dg7xXiQJ1i349cq6KBDusbl8bRHO7QmCKKhX18LPjSirMNTvj3tesq6mhIQuPioeAd0062ZCgoF3"}function xe(e){return{clientSecret:e,appearance:{theme:document.body.classList.contains("dark-theme")?"night":"stripe",labels:"above",rules:{".Input":{backgroundColor:document.body.classList.contains("dark-theme")?"black":"white"}}}}}function Fe(e){var e=e.errorCode,t=(0,U.useTranslation)().translate,n="";switch(e){case ze:n=t(M.ErrorStripeIncorrectCVC);break;case We:n=t(M.ErrorStripeCardExpired);break;default:return null}return N().createElement("div",{className:"alert-warning small-oneline form-error-banner"},n)}function Be(e){var t=e.onFormStatusChange,n=e.inputEmail,r=e.setInputEmail,i=e.stripeErrorCode,a=e.elements,o=(f=(0,I.useState)(!1))[0],s=f[1],e=(0,U.useTranslation)().translate,c=(0,I.useRef)(null),u=(0,I.useRef)(null),l=(f=(0,I.useState)(!1))[0],d=f[1],p=(f=(0,I.useState)(!1))[0],E=f[1],f={__html:e(M.MessageStripeAddPaymentMethodDisclosure,{stripeTermsOfUseLinkStart:'<a href="https://stripe.com/legal/end-users" class="text-link" target="_blank">',stripeTermsOfUseLinkEnd:"</a>",stripePrivacyPolicyLinkStart:'<a href=\'https://stripe.com/privacy\' class="text-link" target="_blank">',stripePrivacyPolicyLinkEnd:"</a>"})},m=(0,I.useCallback)(function(e){var t=e.target.value.trim().replace(/\s/g,""),e=new RegExp(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/);s(""!==t&&null===e.exec(t)),r(t)},[r]);return(0,I.useEffect)(function(){var e;c.current||(c.current=null==a?void 0:a.getElement("payment"),c.current&&(c.current.on("ready",function(){var e;null!==(e=c.current)&&void 0!==e&&e.clear()}),null!==(e=c.current)&&void 0!==e&&e.on("change",function(e){d(e.complete)}))),u.current||(u.current=null==a?void 0:a.getElement("address"),u.current&&(u.current.on("ready",function(){var e;null!==(e=u.current)&&void 0!==e&&e.clear()}),u.current.on("change",function(e){E(e.complete)})))},[a]),(0,I.useEffect)(function(){t(l&&p&&!o&&""!==n)},[l,p,n,o,t]),N().createElement("div",null,N().createElement("div",{className:"font-header-2 text-emphasis stripe-header"},e(M.HeadingStripeFormAddPaymentMethod)),N().createElement(je.PaymentElement,{options:{wallets:{applePay:"never",googlePay:"never"}}}),N().createElement("div",{className:"font-header-2 text-emphasis stripe-header billing-email-header"},e(M.HeadingBillingEmail)),N().createElement("div",null,N().createElement("div",{className:"form-group form-has-feedback "+(o?"form-has-error":"")},N().createElement("input",{className:"form-control input-field billing-email-input",type:"email",name:"email",value:n,onChange:function(e){return m(e)}})),N().createElement("div",{className:"form-group form-has-feedback"},N().createElement("div",{className:"form-control-label small text email-label"},e(M.MessageStripeEmailInputSubText)))),N().createElement("div",{className:"font-header-2 text-emphasis stripe-header"},e(M.HeadingBillingAddress)),N().createElement(je.AddressElement,{options:{mode:"billing"}}),N().createElement("div",{className:"form-control-label small text stripe-form-disclosure",dangerouslySetInnerHTML:f}),i?N().createElement(Fe,{errorCode:i}):null)}var Ge={loadGuacConfigNonThrowing:function(){return Ue(this,void 0,Promise,function(){var t;return Oe(this,function(e){switch(e.label){case 0:if(we)return[2,we];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,D.Guac.callBehaviour("abuse-reporting-revamp")];case 2:return(t=e.sent())?[2,we=Promise.resolve({EnableSubscriptions:Boolean(t.EnableSubscriptions)})]:[2,{EnableSubscriptions:!1}];case 3:return e.sent(),[2,{EnableSubscriptions:!1}];case 4:return[2]}})})}},He=function(e,o,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}a((c=c.apply(e,o||[])).next())})},Ve=function(n,r){var i,a,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ye=dt(949),je=dt(912),ze="incorrect_cvc",Ke="card_declined",We="expired_card",qe=function(e,o,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}a((c=c.apply(e,o||[])).next())})},Xe=function(n,r){var i,a,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function Qe(n){return qe(void 0,void 0,Promise,function(){var t;return Xe(this,function(e){switch(e.label){case 0:return[4,v.httpService.get(V.url.verifyPaymentProfileCreation(n))];case 1:return t=e.sent(),[2,null===(t=null==t?void 0:t.data)||void 0===t?void 0:t.id]}})})}function Je(e){function a(){return it(void 0,void 0,void 0,function(){return at(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Qe(p.current)];case 1:return e.sent()?[2,!0]:[3,3];case 2:return e.sent(),[3,3];case 3:return[2,!1]}})})}var t=e.showStripeModal,o=e.closeStripeModal,n=(A=(0,I.useState)(!1))[0],r=A[1],i=(f=(0,I.useState)(null))[0],s=f[1],c=(g=(0,I.useState)(""))[0],e=g[1],u=(0,U.useTranslation)().translate,l=(0,je.useStripe)(),d=(0,je.useElements)(),p=(0,I.useRef)(""),E=$().systemFeedbackService,f=(A=(0,I.useState)(!1))[0],m=A[1],b=(g=ve().state).purchaseFlowUuid,S=g.selectedSubscription,h=g.pathName,v=(A=ne()).updateModalContent,P=A.openModal,C=A.closeModal,y=(g=(0,I.useState)(""))[0],_=g[1],A=(0,I.useCallback)(function(e){r(e)},[]),T=(0,I.useCallback)(function(t,n,r){return it(void 0,void 0,void 0,function(){return at(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t()];case 1:return e.sent()&&S?(ye(function(){E.warning(u(M.ErrorGenericError)),o()},function(e){var t,n=e.data.errorCode;switch(m(!1),n){case O.USER_HAS_SPEND_LIMIT_SET:case O.RESTRICTED_USER:case O.UNSUPPORTED_LOCALE:v(u(M.HeadingCannotSubscribe),null!==(t=u(null!==(t=B[n])&&void 0!==t?t:""))&&void 0!==t?t:u(M.ErrorGenericError),u("Action.OK"),!0,function(){return C}),P();break;default:E.warning(u(M.ErrorGenericError))}o()},function(e){m(!1),v(u(M.HeadingCannotSubscribe),Ce(u,e.failureReason,e.expirationTimeInMinutes),u("Action.OK"),!0,function(){return C}),o(),P()},function(){m(!1),o()},S,b,h,w.STRIPE),m(!1),o(),[2]):0===r?(E.warning(u(M.ErrorStripeSavedCardSomethingWentWrong)),m(!1),o(),[2]):(setTimeout(function(){T(t,n,r-1)},n),[3,3]);case 2:return e.sent(),E.warning(u(M.ErrorGenericError)),o(),[3,3];case 3:return[2]}})})},[C,o,P,h,b,S,E,u,v]),g=(0,I.useCallback)(function(){return it(void 0,void 0,void 0,function(){var t,n,r,i;return at(this,function(e){switch(e.label){case 0:if(!l||!d)return o(),[2];m(!0),s(null),S&&de.sendExperienceSubscriptionEvent(b,ae.USER_INPUT,se.VPC_NEW_PAYMENT_MODAL,S,oe.SAVE_NEW_PAYMENT_METHOD),n={return_url:y,payment_method_data:{billing_details:{email:c},allow_redisplay:"always"}},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,l.confirmSetup({elements:d,confirmParams:n,redirect:"if_required"})];case 2:if(t=e.sent(),"succeeded"===(null===(n=null==t?void 0:t.setupIntent)||void 0===n?void 0:n.status))p.current=null!==(r=null===(r=null===(r=null==t?void 0:t.setupIntent)||void 0===r?void 0:r.payment_method)||void 0===r?void 0:r.toString())&&void 0!==r?r:"",p.current&&T(a,3e3,3);else if(null!==(r=null==t?void 0:t.error)&&void 0!==r&&r.code){switch(t.error.code){case ze:case We:s(null===(i=null==t?void 0:t.error)||void 0===i?void 0:i.code);break;case Ke:E.warning(u(M.ErrorStripeCardDeclined)),o();break;default:E.warning(u(M.ErrorStripeSaveCardGeneralError)),o()}m(!1)}return[3,4];case 3:return e.sent(),o(),m(!1),[3,4];case 4:return[2]}})})},[l,d,S,y,c,o,b,T,E,u]);return(0,I.useEffect)(function(){_(D.EnvironmentUrls.websiteUrl+"/"+h)},[h]),N().createElement(K.Modal,{show:t,onHide:o,size:"md",className:"rbx-stripe-modal"},N().createElement(K.Modal.Header,{title:u(M.HeadingAddPaymentMethod),onClose:o}),N().createElement(K.Modal.Body,null,N().createElement(Be,{onFormStatusChange:A,elements:d,inputEmail:c,setInputEmail:e,stripeErrorCode:i})),N().createElement(K.Modal.Footer,null,f?N().createElement("span",{className:"spinner spinner-default"}):N().createElement("div",{className:"modal-buttons"},N().createElement("button",{type:"button",className:"modal-button btn-primary-md btn-min-width",disabled:!n,onClick:g},u("Action.Save")),N().createElement("button",{type:"button",className:"modal-button btn-control-md btn-min-width",onClick:o},u("Action.Cancel")))))}function Ze(){var e=(t=(0,I.useState)(null))[0],n=t[1],r=$().systemFeedbackService,i=(0,U.useTranslation)().translate,t=(o=ve()).state,a=o.dispatch,o=t.showStripeModal,s=t.stripeClientSecret,c=t.purchaseFlowUuid,u=t.selectedSubscription;return(0,I.useEffect)(function(){ot(void 0,void 0,void 0,function(){var t;return st(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=ke(),[4,(0,Ye.loadStripe)(t)];case 1:return t=e.sent(),n(t),[3,3];case 2:return e.sent(),r.warning(i(M.ErrorGenericError)),a({type:ee.CLOSE_STRIPE_MODAL}),[3,3];case 3:return[2]}})})},[a,r,i]),(0,I.useEffect)(function(){s&&e&&u&&de.sendExperienceSubscriptionEvent(c,ae.VIEW_SHOWN,se.VPC_NEW_PAYMENT_MODAL,u,oe.SUBSCRIBE)},[e,s,u,c]),e&&s?N().createElement(je.Elements,{key:s,stripe:e&&s?e:null,options:e&&s?xe(s):void 0},N().createElement(Je,{showStripeModal:o,closeStripeModal:function(){return a({type:ee.CLOSE_STRIPE_MODAL})}})):N().createElement(I.Fragment,null)}function $e(){function t(){}var e=(R()||{}).universeId,a=void 0===e?"":e,n=$().SystemFeedback,r=(0,U.useTranslation)().translate,i=(m=ve()).state,o=m.dispatch,s=i.showPagination,c=i.subscriptionsInPage,u=i.totalPages,l=i.currentPage,d=(e=(0,I.useState)(!1))[0],p=e[1],i=(m=(0,I.useState)(!1))[0],E=m[1],f=(0,h.useLocation)(),m=(e=(0,I.useState)(!1))[0],b=e[1];return(0,I.useEffect)(function(){var e,t,n;("#!/store"===(null==f?void 0:f.hash)||null!==(e=S.deviceMeta.getDeviceMeta())&&void 0!==e&&e.isUniversalApp&&null!==(t=S.deviceMeta.getDeviceMeta())&&void 0!==t&&t.isDesktop||null!==(n=S.deviceMeta.getDeviceMeta())&&void 0!==n&&n.isPhone||null!==(n=S.deviceMeta.getDeviceMeta())&&void 0!==n&&n.isTablet&&(null===(n=S.deviceMeta.getDeviceMeta())||void 0===n||!n.isUniversalApp))&&(p(!0),o({type:ee.SEND_STORE_PAGE_LOAD_EVENT}))},[o,f,null==f?void 0:f.hash,p]),(0,I.useEffect)(function(){d&&ct(void 0,void 0,Promise,function(){return ut(this,function(e){switch(e.label){case 0:return[4,j(void 0,void 0,Promise,function(){return z(this,function(e){switch(e.label){case 0:return[4,v.httpService.get(V.url.getSubscriptionMetadata)];case 1:return[2,e.sent().data]}})})];case 1:return[2,e.sent().isWebPurchasingEnabled]}})}).then(function(e){b(e),e&&ct(void 0,void 0,void 0,function(){var r,i,t,n;return ut(this,function(e){switch(e.label){case 0:return E(!0),n="0",a?n=a:null!==(t=S.deviceMeta.getDeviceMeta())&&void 0!==t&&t.isUniversalApp&&(t=f.pathname,D.Endpoints&&D.Endpoints.supportLocalizedUrls&&(t=D.Endpoints.removeUrlLocale(t)),t=t.split("/"),(t=t[3])&&(n=t)),[4,_({subscriptionProductType:P.DEVELOPER_SUBSCRIPTION_PRODUCT,subscriptionProviderId:null!==(n=parseInt(n,10))&&void 0!==n?n:0})];case 1:return 0<(r=e.sent().subscriptionProductsInfo).length?(n=r.map(function(e){return e.subscriptionTargetKey}),[4,A({subscriptionProductTargetKeys:n})]):[3,3];case 2:i=e.sent().subscriptionStatuses,r.forEach(function(e,t){var n=i[e.subscriptionTargetKey],e=r[t];n&&e&&(e.isForSale=!n.isSubscribed,r[t]=e)}),e.label=3;case 3:return o({type:ee.LOAD_SUBSCRIPTIONS,subscriptions:r}),E(!1),[2]}})}).catch(t)}).catch(t)},[o,d,f.pathname,a]),!m||i||0===c.length?N().createElement(I.Fragment,null):N().createElement("div",{id:"rbx-subscriptions-container-content"},N().createElement("div",{className:"container-header"},N().createElement("h3",null,r(M.HeadingSubscriptions))),N().createElement(I.Fragment,null,N().createElement(Le,{subscriptions:c}),s&&N().createElement(C,{current:l,hasNext:l<u,onChange:function(e){return o({type:ee.UPDATE_PAGE,newPage:e})},total:u}),N().createElement(Ze,null),N().createElement(n,null)))}function et(){return document.getElementById("rbx-subscriptions-container")}function tt(e){var t=e.children,e={SystemFeedback:(e=(0,K.createSystemFeedback)())[0],systemFeedbackService:e[1]};return N().createElement(Z.Provider,{value:e},t)}function nt(e){var t=e.children,n=(m=(0,I.useState)(""))[0],o=m[1],r=(u=(0,I.useState)(""))[0],s=u[1],i=(E=(0,I.useState)(!1))[0],c=E[1],e=(d=(0,I.useState)(!1))[0],a=d[1],u=(m=(0,I.useState)(""))[0],l=m[1],d=(E=(0,I.useState)(function(){return{}}))[0],p=E[1],E=(m=(0,I.useState)(""))[0],f=m[1],m=function(){return a(!1)};return N().createElement(N().Fragment,null,N().createElement(te.Provider,{value:{openModal:function(){return a(!0)},closeModal:m,updateModalContent:function(e,t,n,r,i,a){o(e),s(t),c(r),l(n),p(i),a&&f(a)}}},t,N().createElement(K.Modal,{show:e,hide:m,size:"md",className:"error-modal"},N().createElement(K.Modal.Header,{title:n,showCloseButton:!0,onClose:m}),N().createElement(K.Modal.Body,null,r,i&&N().createElement("div",{className:"icon-warning"})),N().createElement(K.Modal.Footer,null,N().createElement(K.Button,{size:E?K.Button.sizes.medium:K.Button.sizes.large,width:E?void 0:K.Button.widths.full,onClick:d},u),E&&N().createElement(K.Button,{size:K.Button.sizes.medium,className:"btn-control-md",onClick:m},E)))))}function rt(e){var t=e.children,e=(n=(0,I.useReducer)(be,Ee))[0],n=n[1];return N().createElement(he.Provider,{value:{state:e,dispatch:n}},t)}var it=function(e,o,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}a((c=c.apply(e,o||[])).next())})},at=function(n,r){var i,a,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ot=function(e,o,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}a((c=c.apply(e,o||[])).next())})},st=function(n,r){var i,a,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ct=function(e,o,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{a(c.next(e))}catch(e){t(e)}}function i(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}a((c=c.apply(e,o||[])).next())})},ut=function(n,r){var i,a,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},lt={common:["CommonUI.Controls","CommonUI.Features","Common.VerifiedParentalConsent","IAPExperience.PurchaseError","Feature.NotApproved"],feature:"Feature.Subscription"};(0,v.ready)(function(){et()&&S.authenticatedUser.isAuthenticated&&(0,e.render)(N().createElement(tt,null,N().createElement(U.TranslationProvider,{config:lt},N().createElement(rt,null,N().createElement(nt,null,N().createElement(h.BrowserRouter,null,N().createElement($e,null)))))),et())})}()}();
//# sourceMappingURL=https://sourcemaps.rbxcdn.com/fe93676b3a04504b87cc8f05e408a7fa-gameSubscriptions.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GameSubscriptions");